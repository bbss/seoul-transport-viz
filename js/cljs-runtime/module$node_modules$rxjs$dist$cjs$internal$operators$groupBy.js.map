{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$groupBy.js",
"lineCount":11,
"mappings":"AAAAA,cAAA,6DAAA,CAAiF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAEzH,IAAIC,UAAa,IAAbA,EAAqB,IAAAA,UAArBA,EAAyC,QAAS,EAAG,CACrD,IAAIC,cAAgBA,QAAS,CAACC,UAAD,CAAIC,UAAJ,CAAO,CAChCF,aAAA,CAAgBG,MAAAC,eAAhB,EACK,CAAEC,UAAW,EAAb,CADL,UACkCC,MADlC,EAC2C,QAAS,CAACL,CAAD,CAAIC,CAAJ,CAAO,CAAED,CAAAI,UAAA,CAAcH,CAAhB,CAD3D,EAEI,QAAS,CAACD,CAAD,CAAIC,CAAJ,CAAO,CAAE,IAAKK,IAAIA,CAAT,GAAcL,EAAd,CAAqBA,CAAAM,eAAA,CAAiBD,CAAjB,CAAJ,GAAyBN,CAAA,CAAEM,CAAF,CAAzB,CAAgCL,CAAA,CAAEK,CAAF,CAAhC,CAAnB,CACpB,OAAOP,cAAA,CAAcC,UAAd,CAAiBC,UAAjB,CAJyB,CAMpC,OAAO,SAAS,CAACD,CAAD,CAAIC,CAAJ,CAAO,CAEnBO,QAASA,GAAE,EAAG,CAAE,IAAAC,YAAA,CAAmBT,CAArB,CADdD,aAAA,CAAcC,CAAd,CAAiBC,CAAjB,CAEAD,EAAAU,UAAA;AAAoB,IAAN,GAAAT,CAAA,CAAaC,MAAAS,OAAA,CAAcV,CAAd,CAAb,EAAiCO,EAAAE,UAAA,CAAeT,CAAAS,UAAf,CAA4B,IAAIF,EAAjE,CAHK,CAP8B,CAAb,EAa5CN,OAAAU,eAAA,CAAsBf,OAAtB,CAA+B,YAA/B,CAA6C,CAAEgB,MAAO,CAAA,CAAT,CAA7C,CACAhB,QAAAiB,kBAAA,CAA4BjB,OAAAkB,QAA5B,CAA8C,IAAK,EAC/CC,OAAAA,CAAerB,OAAA,CAAQ,uDAAR,CACnB,KAAIsB,eAAiBtB,OAAA,CAAQ,yDAAR,CACjBuB,OAAAA,CAAevB,OAAA,CAAQ,uDAAR,CACnB,KAAIwB,UAAYxB,OAAA,CAAQ,oDAAR,CAMhBE,QAAAkB,QAAA,CALAA,QAAgB,CAACK,WAAD;AAAcC,eAAd,CAA+BC,gBAA/B,CAAiDC,eAAjD,CAAkE,CAC9E,MAAO,SAAS,CAACC,MAAD,CAAS,CACrB,MAAOA,OAAAC,KAAA,CAAY,IAAIC,eAAJ,CAAoBN,WAApB,CAAiCC,eAAjC,CAAkDC,gBAAlD,CAAoEC,eAApE,CAAZ,CADc,CADqD,CAMlF,KAAIG,gBAAmB,QAAS,EAAG,CAC/BA,QAASA,gBAAe,CAACN,WAAD,CAAcC,eAAd,CAA+BC,gBAA/B,CAAiDC,eAAjD,CAAkE,CACtF,IAAAH,YAAA,CAAmBA,WACnB,KAAAC,gBAAA,CAAuBA,eACvB,KAAAC,iBAAA,CAAwBA,gBACxB,KAAAC,gBAAA,CAAuBA,eAJ+D,CAM1FG,eAAAhB,UAAAiB,KAAA,CAAiCC,QAAS,CAACC,UAAD,CAAaL,MAAb,CAAqB,CAC3D,MAAOA,OAAAM,UAAA,CAAiB,IAAIC,iBAAJ,CAAsBF,UAAtB;AAAkC,IAAAT,YAAlC,CAAoD,IAAAC,gBAApD,CAA0E,IAAAC,iBAA1E,CAAiG,IAAAC,gBAAjG,CAAjB,CADoD,CAG/D,OAAOG,gBAVwB,CAAZ,EAAvB,CAYIK,kBAAqB,QAAS,CAACC,MAAD,CAAS,CAEvCD,QAASA,kBAAiB,CAACE,WAAD,CAAcb,WAAd,CAA2BC,eAA3B,CAA4CC,gBAA5C,CAA8DC,eAA9D,CAA+E,CACjGW,WAAAA,CAAQF,MAAAL,KAAA,CAAY,IAAZ,CAAkBM,WAAlB,CAARC,EAA0C,IAC9CA,YAAAd,YAAA,CAAoBA,WACpBc,YAAAb,gBAAA,CAAwBA,eACxBa,YAAAZ,iBAAA,CAAyBA,gBACzBY,YAAAX,gBAAA,CAAwBA,eACxBW,YAAAC,OAAA,CAAe,IACfD,YAAAE,uBAAA;AAA+B,CAAA,CAC/BF,YAAAG,MAAA,CAAc,CACd,OAAOH,YAT8F,CADzGpC,SAAA,CAAUiC,iBAAV,CAA6BC,MAA7B,CAYAD,kBAAArB,UAAA4B,MAAA,CAAoCC,QAAS,CAAC1B,KAAD,CAAQ,CAEjD,GAAI,CACA,IAAA2B,IAAM,IAAApB,YAAA,CAAiBP,KAAjB,CADN,CAGJ,MAAO4B,GAAP,CAAY,CACR,IAAAC,MAAA,CAAWD,GAAX,CACA,OAFQ,CAIZ,IAAAE,OAAA,CAAY9B,KAAZ,CAAmB2B,GAAnB,CATiD,CAWrDT,kBAAArB,UAAAiC,OAAA,CAAqCC,QAAS,CAAC/B,KAAD,CAAQ2B,GAAR,CAAa,CACvD,IAAIL,OAAS,IAAAA,OACRA,OAAL,GACIA,MADJ,CACa,IAAAA,OADb,CAC2B,IAAIU,GAD/B,CAGA,KAAIC,MAAQX,MAAAY,IAAA,CAAWP,GAAX,CAEZ,IAAI,IAAAnB,gBAAJ,CACI,GAAI,CACA,IAAA2B,QAAU,IAAA3B,gBAAA,CAAqBR,KAArB,CADV,CAGJ,MAAO4B,GAAP,CAAY,CACR,IAAAC,MAAA,CAAWD,GAAX,CADQ,CAJhB,IASIO,QAAA,CAAUnC,KAEd,IAAI,CAACiC,KAAL,GACIA,KAIIxB,CAJK,IAAAC,gBAAA;AAAuB,IAAAA,gBAAA,EAAvB,CAAgD,IAAIJ,SAAA8B,QAIzD3B,CAHJa,MAAAe,IAAA,CAAWV,GAAX,CAAgBM,KAAhB,CAGIxB,CAFA6B,KAEA7B,CAFoB,IAAIR,iBAAJ,CAAsB0B,GAAtB,CAA2BM,KAA3B,CAAkC,IAAlC,CAEpBxB,CADJ,IAAAW,YAAAmB,KAAA,CAAsBD,KAAtB,CACI7B,CAAA,IAAAA,iBALR,EAK+B,CACnB+B,KAAAA,CAAW,IAAK,EACpB,IAAI,CACAA,KAAA,CAAW,IAAA/B,iBAAA,CAAsB,IAAIR,iBAAJ,CAAsB0B,GAAtB,CAA2BM,KAA3B,CAAtB,CADX,CAGJ,MAAOL,OAAP,CAAY,CACR,IAAAC,MAAA,CAAWD,OAAX,CACA,OAFQ,CAIZ,IAAAa,IAAA,CAASD,KAAAvB,UAAA,CAAmB,IAAIyB,uBAAJ,CAA4Bf,GAA5B,CAAiCM,KAAjC,CAAwC,IAAxC,CAAnB,CAAT,CATuB,CAY1BA,KAAAU,OAAL,EACIV,KAAAM,KAAA,CAAWJ,OAAX,CApCmD,CAuC3DjB,kBAAArB,UAAA+C,OAAA,CAAqCC,QAAS,CAACjB,GAAD,CAAM,CAChD,IAAIN,OAAS,IAAAA,OACTA,OAAJ,GACIA,MAAAwB,QAAA,CAAe,QAAS,CAACb,KAAD;AAAQN,GAAR,CAAa,CACjCM,KAAAJ,MAAA,CAAYD,GAAZ,CADiC,CAArC,CAGA,CAAAN,MAAAyB,MAAA,EAJJ,CAMA,KAAA3B,YAAAS,MAAA,CAAuBD,GAAvB,CARgD,CAUpDV,kBAAArB,UAAAmD,UAAA,CAAwCC,QAAS,EAAG,CAChD,IAAI3B,OAAS,IAAAA,OACTA,OAAJ,GACIA,MAAAwB,QAAA,CAAe,QAAS,CAACb,KAAD,CAAQN,GAAR,CAAa,CACjCM,KAAAiB,SAAA,EADiC,CAArC,CAGA,CAAA5B,MAAAyB,MAAA,EAJJ,CAMA,KAAA3B,YAAA8B,SAAA,EARgD,CAUpDhC,kBAAArB,UAAAsD,YAAA,CAA0CC,QAAS,CAACzB,GAAD,CAAM,CACrD,IAAAL,OAAA+B,OAAA,CAAmB1B,GAAnB,CADqD,CAGzDT,kBAAArB,UAAAyD,YAAA,CAA0CC,QAAS,EAAG,CAC7C,IAAAZ,OAAL,GACI,IAAApB,uBACA,CAD8B,CAAA,CAC9B,CAAmB,CAAnB,GAAI,IAAAC,MAAJ,EACIL,MAAAtB,UAAAyD,YAAAxC,KAAA,CAAkC,IAAlC,CAHR,CADkD,CAQtD,OAAOI,kBA9FgC,CAAlB,CA+FvBf,MAAAqD,WA/FuB,CAZzB;AA4GId,wBAA2B,QAAS,CAACvB,MAAD,CAAS,CAE7CuB,QAASA,wBAAuB,CAACf,GAAD,CAAMM,KAAN,CAAawB,MAAb,CAAqB,CACjD,IAAIpC,MAAQF,MAAAL,KAAA,CAAY,IAAZ,CAAkBmB,KAAlB,CAARZ,EAAoC,IACxCA,MAAAM,IAAA,CAAYA,GACZN,MAAAY,MAAA,CAAcA,KACdZ,MAAAoC,OAAA,CAAeA,MACf,OAAOpC,MAL0C,CADrDpC,SAAA,CAAUyD,uBAAV,CAAmCvB,MAAnC,CAQAuB,wBAAA7C,UAAA4B,MAAA,CAA0CiC,QAAS,CAAC1D,KAAD,CAAQ,CACvD,IAAAkD,SAAA,EADuD,CAG3DR,wBAAA7C,UAAA8D,aAAA,CAAiDC,QAAS,EAAG,CAAA,IAC1CH,OAANI,IAAeJ,OADiC,CACtB9B,IAA1BkC,IAAgClC,IACzC,KAAAA,IAAA,CAAW,IAAA8B,OAAX,CAAyB,IACrBA,OAAJ,EACIA,MAAAN,YAAA,CAAmBxB,GAAnB,CAJqD,CAO7D,OAAOe,wBAnBsC,CAAlB,CAoB7BvC,MAAAqD,WApB6B,CA5G/B;AAiIIvD,kBAAqB,QAAS,CAACkB,MAAD,CAAS,CAEvClB,QAASA,kBAAiB,CAAC0B,GAAD,CAAMmC,YAAN,CAAoBC,oBAApB,CAA0C,CAChE,IAAI1C,MAAQF,MAAAL,KAAA,CAAY,IAAZ,CAARO,EAA6B,IACjCA,MAAAM,IAAA,CAAYA,GACZN,MAAAyC,aAAA,CAAqBA,YACrBzC,MAAA0C,qBAAA,CAA6BA,oBAC7B,OAAO1C,MALyD,CADpEpC,SAAA,CAAUgB,iBAAV,CAA6BkB,MAA7B,CAQAlB,kBAAAJ,UAAAmE,WAAA,CAAyCC,QAAS,CAACjD,UAAD,CAAa,CAC3D,IAAIkD,aAAe,IAAI9D,cAAA+D,aAAvB,CACeJ,qBAANF,IAA6BE,qBADtC,CAC+DD,aAAtDD,IAAqEC,aAC1EC,qBAAJ,EAA4B,CAACA,oBAAApB,OAA7B;AACIuB,YAAAzB,IAAA,CAAiB,IAAI2B,yBAAJ,CAA8BL,oBAA9B,CAAjB,CAEJG,aAAAzB,IAAA,CAAiBqB,YAAA7C,UAAA,CAAuBD,UAAvB,CAAjB,CACA,OAAOkD,aAPoD,CAS/D,OAAOjE,kBAlBgC,CAAlB,CAmBvBI,MAAAgE,WAnBuB,CAoBzBrF,QAAAiB,kBAAA,CAA4BA,iBAC5B,KAAImE,0BAA6B,QAAS,CAACjD,MAAD,CAAS,CAE/CiD,QAASA,0BAAyB,CAACX,MAAD,CAAS,CACvC,IAAIpC,MAAQF,MAAAL,KAAA,CAAY,IAAZ,CAARO,EAA6B,IACjCA,MAAAoC,OAAA,CAAeA,MACfA,OAAAjC,MAAA,EACA,OAAOH,MAJgC,CAD3CpC,SAAA,CAAUmF,yBAAV,CAAqCjD,MAArC,CAOAiD,0BAAAvE,UAAAyD,YAAA,CAAkDgB,QAAS,EAAG,CAC1D,IAAIb;AAAS,IAAAA,OACRA,OAAAd,OAAL,EAAuB,IAAAA,OAAvB,GACIxB,MAAAtB,UAAAyD,YAAAxC,KAAA,CAAkC,IAAlC,CAEA,CADA,EAAA2C,MAAAjC,MACA,CAAqB,CAArB,GAAIiC,MAAAjC,MAAJ,EAA0BiC,MAAAlC,uBAA1B,EACIkC,MAAAH,YAAA,EAJR,CAF0D,CAU9D,OAAOc,0BAlBwC,CAAlB,CAmB/BhE,cAAA+D,aAnB+B,CAjLwF;",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/groupBy.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$groupBy\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GroupedObservable = exports.groupBy = void 0;\nvar Subscriber_1 = require(\"../Subscriber\");\nvar Subscription_1 = require(\"../Subscription\");\nvar Observable_1 = require(\"../Observable\");\nvar Subject_1 = require(\"../Subject\");\nfunction groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return function (source) {\n        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n    };\n}\nexports.groupBy = groupBy;\nvar GroupByOperator = (function () {\n    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    GroupByOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    };\n    return GroupByOperator;\n}());\nvar GroupBySubscriber = (function (_super) {\n    __extends(GroupBySubscriber, _super);\n    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.elementSelector = elementSelector;\n        _this.durationSelector = durationSelector;\n        _this.subjectSelector = subjectSelector;\n        _this.groups = null;\n        _this.attemptedToUnsubscribe = false;\n        _this.count = 0;\n        return _this;\n    }\n    GroupBySubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    };\n    GroupBySubscriber.prototype._group = function (value, key) {\n        var groups = this.groups;\n        if (!groups) {\n            groups = this.groups = new Map();\n        }\n        var group = groups.get(key);\n        var element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = (this.subjectSelector ? this.subjectSelector() : new Subject_1.Subject());\n            groups.set(key, group);\n            var groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                var duration = void 0;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    };\n    GroupBySubscriber.prototype._error = function (err) {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    };\n    GroupBySubscriber.prototype._complete = function () {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    };\n    GroupBySubscriber.prototype.removeGroup = function (key) {\n        this.groups.delete(key);\n    };\n    GroupBySubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                _super.prototype.unsubscribe.call(this);\n            }\n        }\n    };\n    return GroupBySubscriber;\n}(Subscriber_1.Subscriber));\nvar GroupDurationSubscriber = (function (_super) {\n    __extends(GroupDurationSubscriber, _super);\n    function GroupDurationSubscriber(key, group, parent) {\n        var _this = _super.call(this, group) || this;\n        _this.key = key;\n        _this.group = group;\n        _this.parent = parent;\n        return _this;\n    }\n    GroupDurationSubscriber.prototype._next = function (value) {\n        this.complete();\n    };\n    GroupDurationSubscriber.prototype._unsubscribe = function () {\n        var _a = this, parent = _a.parent, key = _a.key;\n        this.key = this.parent = null;\n        if (parent) {\n            parent.removeGroup(key);\n        }\n    };\n    return GroupDurationSubscriber;\n}(Subscriber_1.Subscriber));\nvar GroupedObservable = (function (_super) {\n    __extends(GroupedObservable, _super);\n    function GroupedObservable(key, groupSubject, refCountSubscription) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.groupSubject = groupSubject;\n        _this.refCountSubscription = refCountSubscription;\n        return _this;\n    }\n    GroupedObservable.prototype._subscribe = function (subscriber) {\n        var subscription = new Subscription_1.Subscription();\n        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    };\n    return GroupedObservable;\n}(Observable_1.Observable));\nexports.GroupedObservable = GroupedObservable;\nvar InnerRefCountSubscription = (function (_super) {\n    __extends(InnerRefCountSubscription, _super);\n    function InnerRefCountSubscription(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        parent.count++;\n        return _this;\n    }\n    InnerRefCountSubscription.prototype.unsubscribe = function () {\n        var parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            _super.prototype.unsubscribe.call(this);\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    };\n    return InnerRefCountSubscription;\n}(Subscription_1.Subscription));\n//# sourceMappingURL=groupBy.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","GroupedObservable","groupBy","Subscriber_1","Subscription_1","Observable_1","Subject_1","keySelector","elementSelector","durationSelector","subjectSelector","source","lift","GroupByOperator","call","GroupByOperator.prototype.call","subscriber","subscribe","GroupBySubscriber","_super","destination","_this","groups","attemptedToUnsubscribe","count","_next","GroupBySubscriber.prototype._next","key","err","error","_group","GroupBySubscriber.prototype._group","Map","group","get","element","Subject","set","groupedObservable","next","duration","add","GroupDurationSubscriber","closed","_error","GroupBySubscriber.prototype._error","forEach","clear","_complete","GroupBySubscriber.prototype._complete","complete","removeGroup","GroupBySubscriber.prototype.removeGroup","delete","unsubscribe","GroupBySubscriber.prototype.unsubscribe","Subscriber","parent","GroupDurationSubscriber.prototype._next","_unsubscribe","GroupDurationSubscriber.prototype._unsubscribe","_a","groupSubject","refCountSubscription","_subscribe","GroupedObservable.prototype._subscribe","subscription","Subscription","InnerRefCountSubscription","Observable","InnerRefCountSubscription.prototype.unsubscribe"]
}
