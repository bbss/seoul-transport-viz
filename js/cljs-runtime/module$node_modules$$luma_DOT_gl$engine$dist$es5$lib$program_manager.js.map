{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$engine$dist$es5$lib$program_manager.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/engine/dist/es5/lib/program-manager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$engine$dist$es5$lib$program_manager\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _shadertools = require(\"@luma.gl/shadertools\");\n\nvar _webgl = require(\"@luma.gl/webgl\");\n\nvar ProgramManager = function () {\n  (0, _createClass2[\"default\"])(ProgramManager, null, [{\n    key: \"getDefaultProgramManager\",\n    value: function getDefaultProgramManager(gl) {\n      gl.luma = gl.luma || {};\n      gl.luma.defaultProgramManager = gl.luma.defaultProgramManager || new ProgramManager(gl);\n      return gl.luma.defaultProgramManager;\n    }\n  }]);\n\n  function ProgramManager(gl) {\n    (0, _classCallCheck2[\"default\"])(this, ProgramManager);\n    this.gl = gl;\n    this._programCache = {};\n    this._getUniforms = {};\n    this._registeredModules = {};\n    this._hookFunctions = [];\n    this._defaultModules = [];\n    this._hashes = {};\n    this._hashCounter = 0;\n    this.stateHash = 0;\n    this._useCounts = {};\n  }\n\n  (0, _createClass2[\"default\"])(ProgramManager, [{\n    key: \"addDefaultModule\",\n    value: function addDefaultModule(module) {\n      if (!this._defaultModules.find(function (m) {\n        return m.name === module.name;\n      })) {\n        this._defaultModules.push(module);\n      }\n\n      this.stateHash++;\n    }\n  }, {\n    key: \"removeDefaultModule\",\n    value: function removeDefaultModule(module) {\n      var moduleName = typeof module === 'string' ? module : module.name;\n      this._defaultModules = this._defaultModules.filter(function (m) {\n        return m.name !== moduleName;\n      });\n      this.stateHash++;\n    }\n  }, {\n    key: \"addShaderHook\",\n    value: function addShaderHook(hook, opts) {\n      if (opts) {\n        hook = Object.assign(opts, {\n          hook: hook\n        });\n      }\n\n      this._hookFunctions.push(hook);\n\n      this.stateHash++;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var _this = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _props$vs = props.vs,\n          vs = _props$vs === void 0 ? '' : _props$vs,\n          _props$fs = props.fs,\n          fs = _props$fs === void 0 ? '' : _props$fs,\n          _props$defines = props.defines,\n          defines = _props$defines === void 0 ? {} : _props$defines,\n          _props$inject = props.inject,\n          inject = _props$inject === void 0 ? {} : _props$inject,\n          _props$varyings = props.varyings,\n          varyings = _props$varyings === void 0 ? [] : _props$varyings,\n          _props$bufferMode = props.bufferMode,\n          bufferMode = _props$bufferMode === void 0 ? 0x8c8d : _props$bufferMode,\n          _props$transpileToGLS = props.transpileToGLSL100,\n          transpileToGLSL100 = _props$transpileToGLS === void 0 ? false : _props$transpileToGLS;\n\n      var modules = this._getModuleList(props.modules);\n\n      var vsHash = this._getHash(vs);\n\n      var fsHash = this._getHash(fs);\n\n      var moduleHashes = modules.map(function (m) {\n        return _this._getHash(m.name);\n      }).sort();\n      var varyingHashes = varyings.map(function (v) {\n        return _this._getHash(v);\n      });\n      var defineKeys = Object.keys(defines).sort();\n      var injectKeys = Object.keys(inject).sort();\n      var defineHashes = [];\n      var injectHashes = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = defineKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n          defineHashes.push(this._getHash(key));\n          defineHashes.push(this._getHash(defines[key]));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = injectKeys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _key = _step2.value;\n          injectHashes.push(this._getHash(_key));\n          injectHashes.push(this._getHash(inject[_key]));\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var hash = \"\".concat(vsHash, \"/\").concat(fsHash, \"D\").concat(defineHashes.join('/'), \"M\").concat(moduleHashes.join('/'), \"I\").concat(injectHashes.join('/'), \"V\").concat(varyingHashes.join('/'), \"H\").concat(this.stateHash, \"B\").concat(bufferMode).concat(transpileToGLSL100 ? 'T' : '');\n\n      if (!this._programCache[hash]) {\n        var assembled = (0, _shadertools.assembleShaders)(this.gl, {\n          vs: vs,\n          fs: fs,\n          modules: modules,\n          inject: inject,\n          defines: defines,\n          hookFunctions: this._hookFunctions,\n          transpileToGLSL100: transpileToGLSL100\n        });\n        this._programCache[hash] = new _webgl.Program(this.gl, {\n          hash: hash,\n          vs: assembled.vs,\n          fs: assembled.fs,\n          varyings: varyings,\n          bufferMode: bufferMode\n        });\n\n        this._getUniforms[hash] = assembled.getUniforms || function (x) {};\n\n        this._useCounts[hash] = 0;\n      }\n\n      this._useCounts[hash]++;\n      return this._programCache[hash];\n    }\n  }, {\n    key: \"getUniforms\",\n    value: function getUniforms(program) {\n      return this._getUniforms[program.hash] || null;\n    }\n  }, {\n    key: \"release\",\n    value: function release(program) {\n      var hash = program.hash;\n      this._useCounts[hash]--;\n\n      if (this._useCounts[hash] === 0) {\n        this._programCache[hash][\"delete\"]();\n\n        delete this._programCache[hash];\n        delete this._getUniforms[hash];\n        delete this._useCounts[hash];\n      }\n    }\n  }, {\n    key: \"_getHash\",\n    value: function _getHash(key) {\n      if (this._hashes[key] === undefined) {\n        this._hashes[key] = this._hashCounter++;\n      }\n\n      return this._hashes[key];\n    }\n  }, {\n    key: \"_getModuleList\",\n    value: function _getModuleList() {\n      var appModules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var modules = new Array(this._defaultModules.length + appModules.length);\n      var seen = {};\n      var count = 0;\n\n      for (var i = 0, len = this._defaultModules.length; i < len; ++i) {\n        var module = this._defaultModules[i];\n        var name = module.name;\n        modules[count++] = module;\n        seen[name] = true;\n      }\n\n      for (var _i = 0, _len = appModules.length; _i < _len; ++_i) {\n        var _module = appModules[_i];\n        var _name = _module.name;\n\n        if (!seen[_name]) {\n          modules[count++] = _module;\n          seen[_name] = true;\n        }\n      }\n\n      modules.length = count;\n      return modules;\n    }\n  }]);\n  return ProgramManager;\n}();\n\nexports[\"default\"] = ProgramManager;\n//# sourceMappingURL=program-manager.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_shadertools","_webgl","ProgramManager","gl","_programCache","_getUniforms","_registeredModules","_hookFunctions","_defaultModules","_hashes","stateHash","_hashCounter","_useCounts","key","getDefaultProgramManager","luma","defaultProgramManager","addDefaultModule","find","m","name","push","removeDefaultModule","moduleName","filter","addShaderHook","hook","opts","assign","get","_this","props","arguments","length","undefined","_props$vs","vs","_props$fs","fs","_props$defines","defines","_props$inject","inject","_props$varyings","varyings","_props$bufferMode","bufferMode","_props$transpileToGLS","transpileToGLSL100","modules","_getModuleList","vsHash","_getHash","fsHash","moduleHashes","map","sort","varyingHashes","v","defineKeys","keys","injectKeys","defineHashes","injectHashes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_key","hash","concat","join","assembled","assembleShaders","hookFunctions","Program","getUniforms","x","program","release","appModules","Array","seen","count","i","len","_i","_len","_module","_name"]
}
