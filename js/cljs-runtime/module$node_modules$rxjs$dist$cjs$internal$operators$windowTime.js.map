{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/windowTime.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$windowTime\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.windowTime = void 0;\nvar Subject_1 = require(\"../Subject\");\nvar async_1 = require(\"../scheduler/async\");\nvar Subscriber_1 = require(\"../Subscriber\");\nvar isNumeric_1 = require(\"../util/isNumeric\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\nfunction windowTime(windowTimeSpan) {\n    var scheduler = async_1.async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Infinity;\n    if (isScheduler_1.isScheduler(arguments[3])) {\n        scheduler = arguments[3];\n    }\n    if (isScheduler_1.isScheduler(arguments[2])) {\n        scheduler = arguments[2];\n    }\n    else if (isNumeric_1.isNumeric(arguments[2])) {\n        maxWindowSize = Number(arguments[2]);\n    }\n    if (isScheduler_1.isScheduler(arguments[1])) {\n        scheduler = arguments[1];\n    }\n    else if (isNumeric_1.isNumeric(arguments[1])) {\n        windowCreationInterval = Number(arguments[1]);\n    }\n    return function windowTimeOperatorFunction(source) {\n        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n    };\n}\nexports.windowTime = windowTime;\nvar WindowTimeOperator = (function () {\n    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        this.windowTimeSpan = windowTimeSpan;\n        this.windowCreationInterval = windowCreationInterval;\n        this.maxWindowSize = maxWindowSize;\n        this.scheduler = scheduler;\n    }\n    WindowTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));\n    };\n    return WindowTimeOperator;\n}());\nvar CountedSubject = (function (_super) {\n    __extends(CountedSubject, _super);\n    function CountedSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._numberOfNextedValues = 0;\n        return _this;\n    }\n    CountedSubject.prototype.next = function (value) {\n        this._numberOfNextedValues++;\n        _super.prototype.next.call(this, value);\n    };\n    Object.defineProperty(CountedSubject.prototype, \"numberOfNextedValues\", {\n        get: function () {\n            return this._numberOfNextedValues;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CountedSubject;\n}(Subject_1.Subject));\nvar WindowTimeSubscriber = (function (_super) {\n    __extends(WindowTimeSubscriber, _super);\n    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.maxWindowSize = maxWindowSize;\n        _this.windows = [];\n        var window = _this.openWindow();\n        if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n            var closeState = { subscriber: _this, window: window, context: null };\n            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));\n        }\n        else {\n            var timeSpanOnlyState = { subscriber: _this, window: window, windowTimeSpan: windowTimeSpan };\n            _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n        }\n        return _this;\n    }\n    WindowTimeSubscriber.prototype._next = function (value) {\n        var windows = this.maxWindowSize < Infinity ? this.windows.slice() : this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len; i++) {\n            var window_1 = windows[i];\n            if (!window_1.closed) {\n                window_1.next(value);\n                if (this.maxWindowSize <= window_1.numberOfNextedValues) {\n                    this.closeWindow(window_1);\n                }\n            }\n        }\n    };\n    WindowTimeSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().error(err);\n        }\n        this.destination.error(err);\n    };\n    WindowTimeSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().complete();\n        }\n        this.destination.complete();\n    };\n    WindowTimeSubscriber.prototype.openWindow = function () {\n        var window = new CountedSubject();\n        this.windows.push(window);\n        var destination = this.destination;\n        destination.next(window);\n        return window;\n    };\n    WindowTimeSubscriber.prototype.closeWindow = function (window) {\n        var index = this.windows.indexOf(window);\n        if (index >= 0) {\n            window.complete();\n            this.windows.splice(index, 1);\n        }\n    };\n    return WindowTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchWindowTimeSpanOnly(state) {\n    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;\n    if (window) {\n        subscriber.closeWindow(window);\n    }\n    state.window = subscriber.openWindow();\n    this.schedule(state, windowTimeSpan);\n}\nfunction dispatchWindowCreation(state) {\n    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;\n    var window = subscriber.openWindow();\n    var action = this;\n    var context = { action: action, subscription: null };\n    var timeSpanState = { subscriber: subscriber, window: window, context: context };\n    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);\n    action.add(context.subscription);\n    action.schedule(state, windowCreationInterval);\n}\nfunction dispatchWindowClose(state) {\n    var subscriber = state.subscriber, window = state.window, context = state.context;\n    if (context && context.action && context.subscription) {\n        context.action.remove(context.subscription);\n    }\n    subscriber.closeWindow(window);\n}\n//# sourceMappingURL=windowTime.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","dispatchWindowTimeSpanOnly","state","subscriber","windowTimeSpan","window","closeWindow","openWindow","schedule","dispatchWindowCreation","scheduler","windowCreationInterval","context","action","subscription","dispatchWindowClose","timeSpanState","add","remove","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","windowTime","Subject_1","async_1","Subscriber_1","isNumeric_1","isScheduler_1","async","maxWindowSize","Infinity","isScheduler","isNumeric","Number","windowTimeOperatorFunction","source","lift","WindowTimeOperator","call","WindowTimeOperator.prototype.call","subscribe","WindowTimeSubscriber","CountedSubject","_super","_this","apply","arguments","_numberOfNextedValues","next","CountedSubject.prototype.next","get","enumerable","configurable","Subject","destination","windows","creationState","closeState","timeSpanOnlyState","_next","WindowTimeSubscriber.prototype._next","slice","len","length","i","window_1","closed","numberOfNextedValues","_error","WindowTimeSubscriber.prototype._error","err","shift","error","_complete","WindowTimeSubscriber.prototype._complete","complete","WindowTimeSubscriber.prototype.openWindow","push","WindowTimeSubscriber.prototype.closeWindow","index","indexOf","splice","Subscriber"]
}
