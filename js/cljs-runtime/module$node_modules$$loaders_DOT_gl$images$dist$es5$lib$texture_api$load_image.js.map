{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$images$dist$es5$lib$texture_api$load_image.js",
"lineCount":10,
"mappings":"AAAAA,cAAA,+EAAA,CAAmG,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CA4B3IC,QAASA,QAAO,CAACC,MAAD,CAASC,cAAT,CAAyB,CAAE,IAAIC,KAAOC,MAAAD,KAAA,CAAYF,MAAZ,CAAqB,IAAIG,MAAAC,sBAAJ,CAAkC,CAAE,IAAIC,QAAUF,MAAAC,sBAAA,CAA6BJ,MAA7B,CAA0CC,eAAJ,GAAoBI,OAApB,CAA8BA,OAAAC,OAAA,CAAe,QAAS,CAACC,GAAD,CAAM,CAAE,MAAOJ,OAAAK,yBAAA,CAAgCR,MAAhC,CAAwCO,GAAxC,CAAAE,WAAT,CAA9B,CAA9B,CAAkIP,KAAAQ,KAAAC,MAAA,CAAgBT,IAAhB,CAAsBG,OAAtB,CAAxL,CAA0N,MAAOH,KAArS,CAEzCU,QAASA,cAAa,CAACC,MAAD,CAAS,CAAE,IAAK,IAAIC,EAAI,CAAb,CAAgBA,CAAhB,CAAoBC,SAAAC,OAApB,CAAsCF,CAAA,EAAtC,CAA2C,CAAE,IAAIG;AAAyB,IAAhB,EAAAF,SAAA,CAAUD,CAAV,CAAA,CAAuBC,SAAA,CAAUD,CAAV,CAAvB,CAAsC,EAAQA,EAAJ,CAAQ,CAAR,CAAaf,OAAA,CAAQI,MAAA,CAAOc,MAAP,CAAR,CAAwB,CAAA,CAAxB,CAAAC,QAAA,CAAsC,QAAS,CAACC,GAAD,CAAM,CAAE,CAAC,CAAA,CAAGC,gBAAA,CAAiB,SAAjB,CAAJ,EAAiCP,MAAjC,CAAyCM,GAAzC,CAA8CF,MAAA,CAAOE,GAAP,CAA9C,CAAF,CAArD,CAAb,CAA+IhB,MAAAkB,0BAAJ,CAAwClB,MAAAmB,iBAAA,CAAwBT,MAAxB,CAAgCV,MAAAkB,0BAAA,CAAiCJ,MAAjC,CAAhC,CAAxC,CAA4HlB,OAAA,CAAQI,MAAA,CAAOc,MAAP,CAAR,CAAAC,QAAA,CAAgC,QAAS,CAACC,GAAD,CAAM,CAAEhB,MAAAoB,eAAA,CAAsBV,MAAtB,CAA8BM,GAA9B,CAAmChB,MAAAK,yBAAA,CAAgCS,MAAhC,CAAwCE,GAAxC,CAAnC,CAAF,CAA/C,CAAhU,CAA2c,MAAON,OAA/f,CAM/BW,QAASA,WAAU,EAAG,CACpBA,UAAA,CAAa,CAAC,CAAA,CAAGC,kBAAA,CAAmB,SAAnB,CAAJ,EAAmCC,YAAA,CAAa,SAAb,CAAAC,KAAA,CAA6BC,QAASA,QAAO,CAACC,MAAD,CAAS,CAAA,IAChGC,OADgG;AAEhGC,SAFgG,CAGhGC,MAAQjB,SACZ,OAAOW,aAAA,CAAa,SAAb,CAAAO,KAAA,CAA6BC,QAAiB,CAACC,QAAD,CAAW,CAC9D,IAAA,CAAA,CAAA,CACE,OAAQA,QAAAC,KAAR,CAAwBD,QAAAE,KAAxB,EACE,KAAK,CAAL,CAGE,MAFAP,QAEO,CAFkB,CAAf,CAAAE,KAAAhB,OAAA,EAAiCsB,IAAAA,EAAjC,GAAoBN,KAAA,CAAM,CAAN,CAApB,CAA6CA,KAAA,CAAM,CAAN,CAA7C,CAAwD,EAE3D,CADPG,QAAAE,KACO,CADS,CACT,CAAAE,YAAA,CAAaV,MAAb,CAAqBC,OAArB,CAET,MAAK,CAAL,CAGE,MAFAC,UAEO,CAFKI,QAAAK,KAEL,CADPL,QAAAE,KACO,CADS,CACT,CAAA,CAAC,CAAA,CAAGI,SAAAC,SAAJ,EAAwBX,SAAxB,CAAmCY,WAAA,CAAY,SAAZ,CAAnC,CAA2Db,OAA3D,CAET,MAAK,CAAL,CACE,MAAOK,SAAAS,OAAA,CAAgB,QAAhB,CAA0BT,QAAAK,KAA1B,CAET,MAAK,CAAL,CACA,KAAK,KAAL,CACE,MAAOL,SAAAU,KAAA,EAhBX,CAF4D,CAAzD,CAqBJjB,OArBI,CAJ6F,CAAtD,CAAnC,CA2Bb,OAAOJ,WAAAb,MAAA,CAAiB,IAAjB,CAAuBI,SAAvB,CA5Ba;AA+BtBwB,QAASA,aAAY,CAACO,GAAD,CAAMC,GAAN,CAAW,CAC9B,MAAOC,cAAArC,MAAA,CAAoB,IAApB,CAA0BI,SAA1B,CADuB,CAIhCiC,QAASA,cAAa,EAAG,CACvBA,aAAA,CAAgB,CAAC,CAAA,CAAGvB,kBAAA,CAAmB,SAAnB,CAAJ,EAAmCC,YAAA,CAAa,SAAb,CAAAC,KAAA,CAA6BsB,QAASA,SAAQ,CAACpB,MAAD,CAASC,OAAT,CAAkB,CAAA,IAC7GoB,UAD6G,CAE7GC,SAF6G,CAG7GC,OAASrC,SACb,OAAOW,aAAA,CAAa,SAAb,CAAAO,KAAA,CAA6BoB,QAAkB,CAACC,SAAD,CAAY,CAChE,IAAA,CAAA,CAAA,CACE,OAAQA,SAAAlB,KAAR,CAAyBkB,SAAAjB,KAAzB,EACE,KAAK,CAAL,CACEa,UAAA,CAA6B,CAAhB,CAAAE,MAAApC,OAAA,EAAmCsB,IAAAA,EAAnC,GAAqBc,MAAA,CAAO,CAAP,CAArB,CAA+CA,MAAA,CAAO,CAAP,CAA/C,CAA2D,EACxED,UAAA,CAAYrB,OAAZ,EAAuBA,OAAAyB,MAAvB,EAAwCzB,OAAAyB,MAAAJ,UAAxC,EAAmE,CAEnE,IAAoB,CAApB,GAAMA,SAAN,CAAwB,CACtBG,SAAAjB,KAAA;AAAiB,CACjB,MAFsB,CAKxBiB,SAAAjB,KAAA,CAAiB,CACjB,OAAOmB,sBAAA,CAAsB3B,MAAtB,CAA8BsB,SAA9B,CAAyCrB,OAAzC,CAAkDoB,UAAlD,CAET,MAAK,CAAL,CACEI,SAAAG,GAAA,CAAeH,SAAAd,KACfc,UAAAjB,KAAA,CAAiB,CACjB,MAEF,MAAK,CAAL,CACEiB,SAAAG,GAAA,CAAe,CAAC,CAAA,CAAGC,YAAAC,YAAJ,EAA8B9B,MAA9B,CAAsCC,OAAtC,CAA+CoB,UAA/C,CAEjB,MAAK,CAAL,CACE,MAAOI,UAAAV,OAAA,CAAiB,QAAjB,CAA2BU,SAAAG,GAA3B,CAET,MAAK,EAAL,CACA,KAAK,KAAL,CACE,MAAOH,UAAAT,KAAA,EA1BX,CAF8D,CAA3D,CA+BJI,QA/BI,CAJ0G,CAAhE,CAAnC,CAqChB,OAAOD,cAAArC,MAAA,CAAoB,IAApB,CAA0BI,SAA1B,CAtCgB,CAyCzByC,QAASA,sBAAqB,CAACI,GAAD,CAAMC,GAAN,CAAWC,GAAX,CAAgBC,GAAhB,CAAqB,CACjD,MAAOC,uBAAArD,MAAA,CAA6B,IAA7B,CAAmCI,SAAnC,CAD0C,CAInDiD,QAASA,uBAAsB,EAAG,CAChCA,sBAAA;AAAyB,CAAC,CAAA,CAAGvC,kBAAA,CAAmB,SAAnB,CAAJ,EAAmCC,YAAA,CAAa,SAAb,CAAAC,KAAA,CAA6BsC,QAASA,SAAQ,CAACpC,MAAD,CAASsB,SAAT,CAAoBrB,OAApB,CAA6BoB,UAA7B,CAAyC,CAAA,IAC7IgB,IAD6I,CACvIC,GADuI,CAClIZ,KADkI,CAC3Ha,aAD2H,CAC5GC,KAD4G,CACrGC,MADqG,CAC7FC,QAD6F,CACnFC,IAE9D,OAAO9C,aAAA,CAAa,SAAb,CAAAO,KAAA,CAA6BwC,QAAkB,CAACC,SAAD,CAAY,CAChE,IAAA,CAAA,CAAA,CACE,OAAQA,SAAAtC,KAAR,CAAyBsC,SAAArC,KAAzB,EACE,KAAK,CAAL,CACE6B,IAAA,CAAO,EAEP,IAAoB,MAApB,GAAMf,SAAN,CAA6B,CAC3BuB,SAAArC,KAAA,CAAiB,CACjB,MAF2B,CAK7B8B,GAAA,CAAM,CAAC,CAAA,CAAGT,YAAAC,YAAJ,EAA8B9B,MAA9B,CAAsCC,OAAtC,CAA+ClB,aAAA,CAAcA,aAAA,CAAc,EAAd,CAAkBsC,UAAlB,CAAd,CAA6C,EAA7C,CAAiD,CACpGyB,IAAK,CAD+F,CAAjD,CAA/C,CAGND,UAAArC,KAAA,CAAiB,CACjB,OAAO,CAAC,CAAA,CAAGI,SAAAmC,YAAJ,EAA2BT,GAA3B,CAAgCxB,WAAA,CAAY,SAAZ,CAAhC;AAAwDb,OAAxD,CAET,MAAK,CAAL,CACEyB,KAMA,CANQmB,SAAAlC,KAMR,CALA4B,aAKA,CALgB,CAAC,CAAA,CAAGS,eAAAC,aAAJ,EAAkCvB,KAAlC,CAKhB,CAL0Dc,KAK1D,CALkED,aAAAC,MAKlE,CALuFC,MAKvF,CALgGF,aAAAE,OAKhG,CAJAnB,SAIA,CAJY4B,YAAA,CAAa,CACvBV,MAAOA,KADgB,CAEvBC,OAAQA,MAFe,CAAb,CAIZ,CAAAJ,IAAAxD,KAAA,CAAUyD,GAAV,CAEF,MAAK,CAAL,CACE,CAAC,CAAA,CAAGa,OAAA,CAAQ,SAAR,CAAJ,EAAoC,CAApC,CAAwB7B,SAAxB,CAEA,KAAKoB,QAAL,CAAgBL,IAAAlD,OAAhB,CAA6BuD,QAA7B,CAAwCpB,SAAxC,CAAmD,EAAEoB,QAArD,CACEC,IAGA,CAHO,CAAC,CAAA,CAAGd,YAAAC,YAAJ,EAA8B9B,MAA9B,CAAsCC,OAAtC,CAA+ClB,aAAA,CAAcA,aAAA,CAAc,EAAd,CAAkBsC,UAAlB,CAAd,CAA6C,EAA7C,CAAiD,CACrGyB,IAAKJ,QADgG,CAAjD,CAA/C,CAGP,CAAAL,IAAAxD,KAAA,CAAU8D,IAAV,CAGF,OAAOE,UAAA9B,OAAA,CAAiB,QAAjB,CAA2BsB,IAA3B,CAET,MAAK,EAAL,CACA,KAAK,KAAL,CACE,MAAOQ,UAAA7B,KAAA,EAtCX,CAF8D,CAA3D;AA2CJoB,QA3CI,CAH0I,CAAvF,CAAnC,CAgDzB,OAAOD,uBAAArD,MAAA,CAA6B,IAA7B,CAAmCI,SAAnC,CAjDyB,CAoDlCgE,QAASA,aAAY,CAACE,IAAD,CAAO,CAG1B,MAAO,EAAP,CAAWC,IAAAC,MAAA,CAAWD,IAAAE,KAAA,CAAUF,IAAAG,IAAA,CAFpBJ,IAAAZ,MAEoB,CADnBY,IAAAX,OACmB,CAAV,CAAX,CAHe,CArKxBgB,MAAAA,CAAyB1F,OAAA,CAAQ,kEAAR,CAE7BO,OAAAoB,eAAA,CAAsBzB,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CyF,MAAO,CAAA,CADoC,CAA7C,CAGAzF,QAAA0F,UAAA,CAwBAA,QAAkB,CAACC,EAAD,CAAK,CACrB,MAAOjE,WAAAb,MAAA,CAAiB,IAAjB,CAAuBI,SAAvB,CADc,CAvBvBjB,QAAAyC,aAAA,CAAuBA,YACvBzC,QAAAiF,aAAA,CAAuBA,YAEvB,KAAI3D,iBAAmBkE,MAAA,CAAuB1F,OAAA,CAAQ,2DAAR,CAAvB,CAAvB;AAEI8B,aAAe4D,MAAA,CAAuB1F,OAAA,CAAQ,sDAAR,CAAvB,CAFnB,CAII6B,mBAAqB6D,MAAA,CAAuB1F,OAAA,CAAQ,6DAAR,CAAvB,CAJzB,CAMIoF,QAAUM,MAAA,CAAuB1F,OAAA,CAAQ,sEAAR,CAAvB,CANd,CAQI+C,YAAc2C,MAAA,CAAuB1F,OAAA,CAAQ,6EAAR,CAAvB,CARlB,CAUIiF,gBAAkBjF,OAAA,CAAQ,uFAAR,CAVtB,CAYI8D;AAAe9D,OAAA,CAAQ,kFAAR,CAZnB,CAcI6C,UAAY7C,OAAA,CAAQ,+EAAR,CA1B2H;",
"sources":["node_modules/@loaders_DOT_gl/images/dist/es5/lib/texture-api/load-image.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$images$dist$es5$lib$texture_api$load_image\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadImage = loadImage;\nexports.getImageUrls = getImageUrls;\nexports.getMipLevels = getMipLevels;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _assert = _interopRequireDefault(require(\"../utils/assert\"));\n\nvar _parseImage = _interopRequireDefault(require(\"../parsers/parse-image\"));\n\nvar _parsedImageApi = require(\"../category-api/parsed-image-api\");\n\nvar _generateUrl = require(\"./generate-url\");\n\nvar _deepLoad = require(\"./deep-load\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction loadImage(_x) {\n  return _loadImage.apply(this, arguments);\n}\n\nfunction _loadImage() {\n  _loadImage = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(getUrl) {\n    var options,\n        imageUrls,\n        _args = arguments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            _context.next = 3;\n            return getImageUrls(getUrl, options);\n\n          case 3:\n            imageUrls = _context.sent;\n            _context.next = 6;\n            return (0, _deepLoad.deepLoad)(imageUrls, _parseImage[\"default\"], options);\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _loadImage.apply(this, arguments);\n}\n\nfunction getImageUrls(_x2, _x3) {\n  return _getImageUrls.apply(this, arguments);\n}\n\nfunction _getImageUrls() {\n  _getImageUrls = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(getUrl, options) {\n    var urlOptions,\n        mipLevels,\n        _args2 = arguments;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            urlOptions = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : {};\n            mipLevels = options && options.image && options.image.mipLevels || 0;\n\n            if (!(mipLevels !== 0)) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return getMipmappedImageUrls(getUrl, mipLevels, options, urlOptions);\n\n          case 5:\n            _context2.t0 = _context2.sent;\n            _context2.next = 9;\n            break;\n\n          case 8:\n            _context2.t0 = (0, _generateUrl.generateUrl)(getUrl, options, urlOptions);\n\n          case 9:\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getImageUrls.apply(this, arguments);\n}\n\nfunction getMipmappedImageUrls(_x4, _x5, _x6, _x7) {\n  return _getMipmappedImageUrls.apply(this, arguments);\n}\n\nfunction _getMipmappedImageUrls() {\n  _getMipmappedImageUrls = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee3(getUrl, mipLevels, options, urlOptions) {\n    var urls, url, image, _getImageSize, width, height, mipLevel, _url;\n\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            urls = [];\n\n            if (!(mipLevels === 'auto')) {\n              _context3.next = 9;\n              break;\n            }\n\n            url = (0, _generateUrl.generateUrl)(getUrl, options, _objectSpread(_objectSpread({}, urlOptions), {}, {\n              lod: 0\n            }));\n            _context3.next = 5;\n            return (0, _deepLoad.shallowLoad)(url, _parseImage[\"default\"], options);\n\n          case 5:\n            image = _context3.sent;\n            _getImageSize = (0, _parsedImageApi.getImageSize)(image), width = _getImageSize.width, height = _getImageSize.height;\n            mipLevels = getMipLevels({\n              width: width,\n              height: height\n            });\n            urls.push(url);\n\n          case 9:\n            (0, _assert[\"default\"])(mipLevels > 0);\n\n            for (mipLevel = urls.length; mipLevel < mipLevels; ++mipLevel) {\n              _url = (0, _generateUrl.generateUrl)(getUrl, options, _objectSpread(_objectSpread({}, urlOptions), {}, {\n                lod: mipLevel\n              }));\n              urls.push(_url);\n            }\n\n            return _context3.abrupt(\"return\", urls);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getMipmappedImageUrls.apply(this, arguments);\n}\n\nfunction getMipLevels(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n  return 1 + Math.floor(Math.log2(Math.max(width, height)));\n}\n//# sourceMappingURL=load-image.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_loadImage","_asyncToGenerator2","_regenerator","mark","_callee","getUrl","options","imageUrls","_args","wrap","_callee$","_context","prev","next","undefined","getImageUrls","sent","_deepLoad","deepLoad","_parseImage","abrupt","stop","_x2","_x3","_getImageUrls","_callee2","urlOptions","mipLevels","_args2","_callee2$","_context2","image","getMipmappedImageUrls","t0","_generateUrl","generateUrl","_x4","_x5","_x6","_x7","_getMipmappedImageUrls","_callee3","urls","url","_getImageSize","width","height","mipLevel","_url","_callee3$","_context3","lod","shallowLoad","_parsedImageApi","getImageSize","getMipLevels","_assert","_ref","Math","floor","log2","max","_interopRequireDefault","value","loadImage","_x"]
}
