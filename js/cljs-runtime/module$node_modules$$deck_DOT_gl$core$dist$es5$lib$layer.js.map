{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$layer.js",
"lineCount":47,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/lib/layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _constants = require(\"./constants\");\n\nvar _attributeManager = _interopRequireDefault(require(\"./attribute/attribute-manager\"));\n\nvar _uniformTransitionManager = _interopRequireDefault(require(\"./uniform-transition-manager\"));\n\nvar _props = require(\"../lifecycle/props\");\n\nvar _count = require(\"../utils/count\");\n\nvar _log = _interopRequireDefault(require(\"../utils/log\"));\n\nvar _debug = _interopRequireDefault(require(\"../debug\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nvar _assert = _interopRequireDefault(require(\"../utils/assert\"));\n\nvar _shader = require(\"../utils/shader\");\n\nvar _projectFunctions = require(\"../shaderlib/project/project-functions\");\n\nvar _typedArrayManager = _interopRequireDefault(require(\"../utils/typed-array-manager\"));\n\nvar _component = _interopRequireDefault(require(\"../lifecycle/component\"));\n\nvar _layerState = _interopRequireDefault(require(\"./layer-state\"));\n\nvar _webMercator = require(\"@math.gl/web-mercator\");\n\nvar _core2 = require(\"@loaders.gl/core\");\n\nvar TRACE_CHANGE_FLAG = 'layer.changeFlag';\nvar TRACE_INITIALIZE = 'layer.initialize';\nvar TRACE_UPDATE = 'layer.update';\nvar TRACE_FINALIZE = 'layer.finalize';\nvar TRACE_MATCHED = 'layer.matched';\nvar EMPTY_ARRAY = Object.freeze([]);\nvar pickingColorCache = new Uint8ClampedArray(0);\nvar defaultProps = {\n  data: {\n    type: 'data',\n    value: EMPTY_ARRAY,\n    async: true\n  },\n  dataComparator: null,\n  _dataDiff: {\n    type: 'function',\n    value: function value(data) {\n      return data && data.__diff;\n    },\n    compare: false,\n    optional: true\n  },\n  dataTransform: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDataLoad: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  fetch: {\n    type: 'function',\n    value: function value(url, _ref) {\n      var propName = _ref.propName,\n          layer = _ref.layer;\n      var resourceManager = layer.context.resourceManager;\n      var loadOptions = layer.getLoadOptions();\n      var inResourceManager = resourceManager.contains(url);\n\n      if (!inResourceManager && !loadOptions) {\n        resourceManager.add({\n          resourceId: url,\n          data: url,\n          persistent: false\n        });\n        inResourceManager = true;\n      }\n\n      if (inResourceManager) {\n        return resourceManager.subscribe({\n          resourceId: url,\n          onChange: function onChange(data) {\n            return layer.internalState.reloadAsyncProp(propName, data);\n          },\n          consumerId: layer.id,\n          requestId: propName\n        });\n      }\n\n      return (0, _core2.load)(url, loadOptions);\n    },\n    compare: false\n  },\n  updateTriggers: {},\n  visible: true,\n  pickable: false,\n  opacity: {\n    type: 'number',\n    min: 0,\n    max: 1,\n    value: 1\n  },\n  onHover: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onClick: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDragStart: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDrag: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDragEnd: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  coordinateSystem: _constants.COORDINATE_SYSTEM.DEFAULT,\n  coordinateOrigin: {\n    type: 'array',\n    value: [0, 0, 0],\n    compare: true\n  },\n  modelMatrix: {\n    type: 'array',\n    value: null,\n    compare: true,\n    optional: true\n  },\n  wrapLongitude: false,\n  positionFormat: 'XYZ',\n  colorFormat: 'RGBA',\n  parameters: {},\n  uniforms: {},\n  extensions: [],\n  getPolygonOffset: {\n    type: 'function',\n    value: function value(_ref2) {\n      var layerIndex = _ref2.layerIndex;\n      return [0, -layerIndex * 100];\n    },\n    compare: false\n  },\n  highlightedObjectIndex: null,\n  autoHighlight: false,\n  highlightColor: {\n    type: 'accessor',\n    value: [0, 0, 128, 128]\n  }\n};\n\nvar Layer = function (_Component) {\n  (0, _inherits2[\"default\"])(Layer, _Component);\n\n  function Layer() {\n    (0, _classCallCheck2[\"default\"])(this, Layer);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Layer).apply(this, arguments));\n  }\n\n  (0, _createClass2[\"default\"])(Layer, [{\n    key: \"toString\",\n    value: function toString() {\n      var className = this.constructor.layerName || this.constructor.name;\n      return \"\".concat(className, \"({id: '\").concat(this.props.id, \"'})\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(updateObject) {\n      this.setChangeFlags({\n        stateChanged: true\n      });\n      Object.assign(this.state, updateObject);\n      this.setNeedsRedraw();\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw() {\n      var redraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.internalState) {\n        this.internalState.needsRedraw = redraw;\n      }\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate() {\n      this.context.layerManager.setNeedsUpdate(String(this));\n      this.internalState.needsUpdate = true;\n    }\n  }, {\n    key: \"getNeedsRedraw\",\n    value: function getNeedsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      return this._getNeedsRedraw(opts);\n    }\n  }, {\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      return this.internalState.needsUpdate || this.hasUniformTransition() || this.shouldUpdateState(this._getUpdateParams());\n    }\n  }, {\n    key: \"hasUniformTransition\",\n    value: function hasUniformTransition() {\n      return this.internalState.uniformTransitions.active;\n    }\n  }, {\n    key: \"isPickable\",\n    value: function isPickable() {\n      return this.props.pickable && this.props.visible;\n    }\n  }, {\n    key: \"getModels\",\n    value: function getModels() {\n      return this.state && (this.state.models || (this.state.model ? [this.state.model] : []));\n    }\n  }, {\n    key: \"getAttributeManager\",\n    value: function getAttributeManager() {\n      return this.internalState && this.internalState.attributeManager;\n    }\n  }, {\n    key: \"getCurrentLayer\",\n    value: function getCurrentLayer() {\n      return this.internalState && this.internalState.layer;\n    }\n  }, {\n    key: \"getLoadOptions\",\n    value: function getLoadOptions() {\n      return this.props.loadOptions;\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var viewport = this.context.viewport;\n      var worldPosition = (0, _projectFunctions.getWorldPosition)(xyz, {\n        viewport: viewport,\n        modelMatrix: this.props.modelMatrix,\n        coordinateOrigin: this.props.coordinateOrigin,\n        coordinateSystem: this.props.coordinateSystem\n      });\n\n      var _worldToPixels = (0, _webMercator.worldToPixels)(worldPosition, viewport.pixelProjectionMatrix),\n          _worldToPixels2 = (0, _slicedToArray2[\"default\"])(_worldToPixels, 3),\n          x = _worldToPixels2[0],\n          y = _worldToPixels2[1],\n          z = _worldToPixels2[2];\n\n      return xyz.length === 2 ? [x, y] : [x, y, z];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xy) {\n      var viewport = this.context.viewport;\n      return viewport.unproject(xy);\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      return (0, _projectFunctions.projectPosition)(xyz, {\n        viewport: this.context.viewport,\n        modelMatrix: this.props.modelMatrix,\n        coordinateOrigin: this.props.coordinateOrigin,\n        coordinateSystem: this.props.coordinateSystem\n      });\n    }\n  }, {\n    key: \"use64bitPositions\",\n    value: function use64bitPositions() {\n      var coordinateSystem = this.props.coordinateSystem;\n      return coordinateSystem === _constants.COORDINATE_SYSTEM.DEFAULT || coordinateSystem === _constants.COORDINATE_SYSTEM.LNGLAT || coordinateSystem === _constants.COORDINATE_SYSTEM.CARTESIAN;\n    }\n  }, {\n    key: \"onHover\",\n    value: function onHover(info, pickingEvent) {\n      if (this.props.onHover) {\n        return this.props.onHover(info, pickingEvent);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(info, pickingEvent) {\n      if (this.props.onClick) {\n        return this.props.onClick(info, pickingEvent);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"nullPickingColor\",\n    value: function nullPickingColor() {\n      return [0, 0, 0];\n    }\n  }, {\n    key: \"encodePickingColor\",\n    value: function encodePickingColor(i) {\n      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      target[0] = i + 1 & 255;\n      target[1] = i + 1 >> 8 & 255;\n      target[2] = i + 1 >> 8 >> 8 & 255;\n      return target;\n    }\n  }, {\n    key: \"decodePickingColor\",\n    value: function decodePickingColor(color) {\n      (0, _assert[\"default\"])(color instanceof Uint8Array);\n\n      var _color = (0, _slicedToArray2[\"default\"])(color, 3),\n          i1 = _color[0],\n          i2 = _color[1],\n          i3 = _color[2];\n\n      var index = i1 + i2 * 256 + i3 * 65536 - 1;\n      return index;\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      throw new Error(\"Layer \".concat(this, \" has not defined initializeState\"));\n    }\n  }, {\n    key: \"getShaders\",\n    value: function getShaders(shaders) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.extensions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var extension = _step.value;\n          shaders = (0, _shader.mergeShaders)(shaders, extension.getShaders.call(this, extension));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return shaders;\n    }\n  }, {\n    key: \"shouldUpdateState\",\n    value: function shouldUpdateState(_ref3) {\n      var oldProps = _ref3.oldProps,\n          props = _ref3.props,\n          context = _ref3.context,\n          changeFlags = _ref3.changeFlags;\n      return changeFlags.propsOrDataChanged;\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref4) {\n      var oldProps = _ref4.oldProps,\n          props = _ref4.props,\n          context = _ref4.context,\n          changeFlags = _ref4.changeFlags;\n      var attributeManager = this.getAttributeManager();\n\n      if (changeFlags.dataChanged && attributeManager) {\n        var dataChanged = changeFlags.dataChanged;\n\n        if (Array.isArray(dataChanged)) {\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = dataChanged[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var dataRange = _step2.value;\n              attributeManager.invalidateAll(dataRange);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                _iterator2[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        } else {\n          attributeManager.invalidateAll();\n        }\n      }\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.getModels()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var model = _step3.value;\n          model[\"delete\"]();\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      var attributeManager = this.getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.finalize();\n      }\n\n      this.context.resourceManager.unsubscribe({\n        consumerId: this.id\n      });\n      this.internalState.uniformTransitions.clear();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(opts) {\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.getModels()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var model = _step4.value;\n          model.draw(opts);\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n            _iterator4[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(_ref5) {\n      var info = _ref5.info,\n          mode = _ref5.mode;\n      var index = info.index;\n\n      if (index >= 0) {\n        if (Array.isArray(this.props.data)) {\n          info.object = this.props.data[index];\n        }\n      }\n\n      return info;\n    }\n  }, {\n    key: \"invalidateAttribute\",\n    value: function invalidateAttribute() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';\n      var diffReason = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var attributeManager = this.getAttributeManager();\n\n      if (!attributeManager) {\n        return;\n      }\n\n      if (name === 'all') {\n        attributeManager.invalidateAll();\n      } else {\n        attributeManager.invalidate(name);\n      }\n    }\n  }, {\n    key: \"updateAttributes\",\n    value: function updateAttributes(changedAttributes) {\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = this.getModels()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var model = _step5.value;\n\n          this._setModelAttributes(model, changedAttributes);\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateAttributes\",\n    value: function _updateAttributes(props) {\n      var attributeManager = this.getAttributeManager();\n\n      if (!attributeManager) {\n        return;\n      }\n\n      var numInstances = this.getNumInstances(props);\n      var startIndices = this.getStartIndices(props);\n      attributeManager.update({\n        data: props.data,\n        numInstances: numInstances,\n        startIndices: startIndices,\n        props: props,\n        transitions: props.transitions,\n        buffers: props.data.attributes,\n        context: this,\n        ignoreUnknownAttributes: true\n      });\n      var changedAttributes = attributeManager.getChangedAttributes({\n        clearChangedFlags: true\n      });\n      this.updateAttributes(changedAttributes);\n    }\n  }, {\n    key: \"_updateAttributeTransition\",\n    value: function _updateAttributeTransition() {\n      var attributeManager = this.getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.updateTransition();\n      }\n    }\n  }, {\n    key: \"_updateUniformTransition\",\n    value: function _updateUniformTransition() {\n      var uniformTransitions = this.internalState.uniformTransitions;\n\n      if (uniformTransitions.active) {\n        var propsInTransition = uniformTransitions.update();\n        var props = Object.create(this.props);\n\n        for (var key in propsInTransition) {\n          Object.defineProperty(props, key, {\n            value: propsInTransition[key]\n          });\n        }\n\n        return props;\n      }\n\n      return this.props;\n    }\n  }, {\n    key: \"calculateInstancePickingColors\",\n    value: function calculateInstancePickingColors(attribute, _ref6) {\n      var numInstances = _ref6.numInstances;\n      var cacheSize = pickingColorCache.length / 3;\n\n      if (cacheSize < numInstances) {\n        pickingColorCache = _typedArrayManager[\"default\"].allocate(pickingColorCache, numInstances, {\n          size: 3,\n          copy: true\n        });\n        var newCacheSize = pickingColorCache.length / 3;\n        var pickingColor = [];\n        (0, _assert[\"default\"])(newCacheSize < 16777215, 'index out of picking color range');\n\n        for (var i = cacheSize; i < newCacheSize; i++) {\n          this.encodePickingColor(i, pickingColor);\n          pickingColorCache[i * 3 + 0] = pickingColor[0];\n          pickingColorCache[i * 3 + 1] = pickingColor[1];\n          pickingColorCache[i * 3 + 2] = pickingColor[2];\n        }\n      }\n\n      attribute.value = pickingColorCache.subarray(0, numInstances * 3);\n    }\n  }, {\n    key: \"_setModelAttributes\",\n    value: function _setModelAttributes(model, changedAttributes) {\n      var attributeManager = this.getAttributeManager();\n      var excludeAttributes = model.userData.excludeAttributes || {};\n      var shaderAttributes = attributeManager.getShaderAttributes(changedAttributes, excludeAttributes);\n      model.setAttributes(shaderAttributes);\n    }\n  }, {\n    key: \"clearPickingColor\",\n    value: function clearPickingColor(color) {\n      var _this$getAttributeMan = this.getAttributeManager().attributes,\n          pickingColors = _this$getAttributeMan.pickingColors,\n          instancePickingColors = _this$getAttributeMan.instancePickingColors;\n      var colors = pickingColors || instancePickingColors;\n      var i = this.decodePickingColor(color);\n      var start = colors.getVertexOffset(i);\n      var end = colors.getVertexOffset(i + 1);\n      colors.buffer.subData({\n        data: new Uint8Array(end - start),\n        offset: start\n      });\n    }\n  }, {\n    key: \"restorePickingColors\",\n    value: function restorePickingColors() {\n      var _this$getAttributeMan2 = this.getAttributeManager().attributes,\n          pickingColors = _this$getAttributeMan2.pickingColors,\n          instancePickingColors = _this$getAttributeMan2.instancePickingColors;\n      var colors = pickingColors || instancePickingColors;\n      colors.updateSubBuffer({\n        startOffset: 0\n      });\n    }\n  }, {\n    key: \"getNumInstances\",\n    value: function getNumInstances(props) {\n      props = props || this.props;\n\n      if (props.numInstances !== undefined) {\n        return props.numInstances;\n      }\n\n      if (this.state && this.state.numInstances !== undefined) {\n        return this.state.numInstances;\n      }\n\n      return (0, _count.count)(props.data);\n    }\n  }, {\n    key: \"getStartIndices\",\n    value: function getStartIndices(props) {\n      props = props || this.props;\n\n      if (props.startIndices !== undefined) {\n        return props.startIndices;\n      }\n\n      if (this.state && this.state.startIndices) {\n        return this.state.startIndices;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      (0, _debug[\"default\"])(TRACE_INITIALIZE, this);\n\n      this._initState();\n\n      this.initializeState(this.context);\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = this.props.extensions[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var extension = _step6.value;\n          extension.initializeState.call(this, this.context, extension);\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n            _iterator6[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      this.setChangeFlags({\n        dataChanged: true,\n        propsChanged: true,\n        viewportChanged: true,\n        extensionsChanged: true\n      });\n\n      this._updateState();\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var stateNeedsUpdate = this.needsUpdate();\n      (0, _debug[\"default\"])(TRACE_UPDATE, this, stateNeedsUpdate);\n\n      if (stateNeedsUpdate) {\n        this._updateState();\n      }\n    }\n  }, {\n    key: \"_updateState\",\n    value: function _updateState() {\n      var currentProps = this.props;\n\n      var propsInTransition = this._updateUniformTransition();\n\n      this.internalState.propsInTransition = propsInTransition;\n      this.props = propsInTransition;\n\n      var updateParams = this._getUpdateParams();\n\n      if (this.context.gl) {\n        this.updateState(updateParams);\n      } else {\n        try {\n          this.updateState(updateParams);\n        } catch (error) {}\n      }\n\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = this.props.extensions[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var extension = _step7.value;\n          extension.updateState.call(this, updateParams, extension);\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n            _iterator7[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n\n      this._updateModules(updateParams);\n\n      if (this.isComposite) {\n        this._renderLayers(updateParams);\n      } else {\n        this.setNeedsRedraw();\n\n        this._updateAttributes(this.props);\n\n        if (this.state.model) {\n          this.state.model.setInstanceCount(this.getNumInstances());\n        }\n      }\n\n      this.props = currentProps;\n      this.clearChangeFlags();\n      this.internalState.needsUpdate = false;\n      this.internalState.resetOldProps();\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      (0, _debug[\"default\"])(TRACE_FINALIZE, this);\n      (0, _assert[\"default\"])(this.internalState && this.state);\n      this.finalizeState(this.context);\n      var _iteratorNormalCompletion8 = true;\n      var _didIteratorError8 = false;\n      var _iteratorError8 = undefined;\n\n      try {\n        for (var _iterator8 = this.props.extensions[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n          var extension = _step8.value;\n          extension.finalizeState.call(this, extension);\n        }\n      } catch (err) {\n        _didIteratorError8 = true;\n        _iteratorError8 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n            _iterator8[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError8) {\n            throw _iteratorError8;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"drawLayer\",\n    value: function drawLayer(_ref7) {\n      var _this = this;\n\n      var _ref7$moduleParameter = _ref7.moduleParameters,\n          moduleParameters = _ref7$moduleParameter === void 0 ? null : _ref7$moduleParameter,\n          _ref7$uniforms = _ref7.uniforms,\n          uniforms = _ref7$uniforms === void 0 ? {} : _ref7$uniforms,\n          _ref7$parameters = _ref7.parameters,\n          parameters = _ref7$parameters === void 0 ? {} : _ref7$parameters;\n\n      this._updateAttributeTransition();\n\n      var currentProps = this.props;\n      this.props = this.internalState.propsInTransition || currentProps;\n      var opacity = this.props.opacity;\n      uniforms.opacity = Math.pow(opacity, 1 / 2.2);\n\n      if (moduleParameters) {\n        this.setModuleParameters(moduleParameters);\n      }\n\n      var getPolygonOffset = this.props.getPolygonOffset;\n      var offsets = getPolygonOffset && getPolygonOffset(uniforms) || [0, 0];\n      (0, _core.setParameters)(this.context.gl, {\n        polygonOffset: offsets\n      });\n      (0, _core.withParameters)(this.context.gl, parameters, function () {\n        var opts = {\n          moduleParameters: moduleParameters,\n          uniforms: uniforms,\n          parameters: parameters,\n          context: _this.context\n        };\n        var _iteratorNormalCompletion9 = true;\n        var _didIteratorError9 = false;\n        var _iteratorError9 = undefined;\n\n        try {\n          for (var _iterator9 = _this.props.extensions[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n            var extension = _step9.value;\n            extension.draw.call(_this, opts, extension);\n          }\n        } catch (err) {\n          _didIteratorError9 = true;\n          _iteratorError9 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n              _iterator9[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError9) {\n              throw _iteratorError9;\n            }\n          }\n        }\n\n        _this.draw(opts);\n      });\n      this.props = currentProps;\n    }\n  }, {\n    key: \"getChangeFlags\",\n    value: function getChangeFlags() {\n      return this.internalState.changeFlags;\n    }\n  }, {\n    key: \"setChangeFlags\",\n    value: function setChangeFlags(flags) {\n      var changeFlags = this.internalState.changeFlags;\n\n      for (var key in changeFlags) {\n        if (flags[key] && !changeFlags[key]) {\n          changeFlags[key] = flags[key];\n          (0, _debug[\"default\"])(TRACE_CHANGE_FLAG, this, key, flags);\n        }\n      }\n\n      var propsOrDataChanged = changeFlags.dataChanged || changeFlags.updateTriggersChanged || changeFlags.propsChanged || changeFlags.extensionsChanged;\n      changeFlags.propsOrDataChanged = propsOrDataChanged;\n      changeFlags.somethingChanged = propsOrDataChanged || flags.viewportChanged || flags.stateChanged;\n    }\n  }, {\n    key: \"clearChangeFlags\",\n    value: function clearChangeFlags() {\n      this.internalState.changeFlags = {\n        dataChanged: false,\n        propsChanged: false,\n        updateTriggersChanged: false,\n        viewportChanged: false,\n        stateChanged: false,\n        extensionsChanged: false,\n        propsOrDataChanged: false,\n        somethingChanged: false\n      };\n    }\n  }, {\n    key: \"diffProps\",\n    value: function diffProps(newProps, oldProps) {\n      var changeFlags = (0, _props.diffProps)(newProps, oldProps);\n\n      if (changeFlags.updateTriggersChanged) {\n        for (var key in changeFlags.updateTriggersChanged) {\n          if (changeFlags.updateTriggersChanged[key]) {\n            this.invalidateAttribute(key);\n          }\n        }\n      }\n\n      if (changeFlags.transitionsChanged) {\n        for (var _key in changeFlags.transitionsChanged) {\n          this.internalState.uniformTransitions.add(_key, oldProps[_key], newProps[_key], newProps.transitions[_key]);\n        }\n      }\n\n      return this.setChangeFlags(changeFlags);\n    }\n  }, {\n    key: \"validateProps\",\n    value: function validateProps() {\n      (0, _props.validateProps)(this.props);\n    }\n  }, {\n    key: \"setModuleParameters\",\n    value: function setModuleParameters(moduleParameters) {\n      var _iteratorNormalCompletion10 = true;\n      var _didIteratorError10 = false;\n      var _iteratorError10 = undefined;\n\n      try {\n        for (var _iterator10 = this.getModels()[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n          var model = _step10.value;\n          model.updateModuleSettings(moduleParameters);\n        }\n      } catch (err) {\n        _didIteratorError10 = true;\n        _iteratorError10 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion10 && _iterator10[\"return\"] != null) {\n            _iterator10[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError10) {\n            throw _iteratorError10;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateModules\",\n    value: function _updateModules(_ref8) {\n      var props = _ref8.props,\n          oldProps = _ref8.oldProps;\n      var autoHighlight = props.autoHighlight,\n          highlightedObjectIndex = props.highlightedObjectIndex,\n          highlightColor = props.highlightColor;\n\n      if (oldProps.autoHighlight !== autoHighlight || oldProps.highlightedObjectIndex !== highlightedObjectIndex || oldProps.highlightColor !== highlightColor) {\n        var parameters = {};\n\n        if (!autoHighlight) {\n          parameters.pickingSelectedColor = null;\n        }\n\n        if (Array.isArray(highlightColor)) {\n          parameters.pickingHighlightColor = highlightColor;\n        }\n\n        if (Number.isInteger(highlightedObjectIndex)) {\n          parameters.pickingSelectedColor = highlightedObjectIndex >= 0 ? this.encodePickingColor(highlightedObjectIndex) : null;\n        }\n\n        this.setModuleParameters(parameters);\n      }\n    }\n  }, {\n    key: \"_getUpdateParams\",\n    value: function _getUpdateParams() {\n      return {\n        props: this.props,\n        oldProps: this.internalState.getOldProps(),\n        context: this.context,\n        changeFlags: this.internalState.changeFlags\n      };\n    }\n  }, {\n    key: \"_getNeedsRedraw\",\n    value: function _getNeedsRedraw(opts) {\n      if (!this.internalState) {\n        return false;\n      }\n\n      var redraw = false;\n      redraw = redraw || this.internalState.needsRedraw && this.id;\n      this.internalState.needsRedraw = this.internalState.needsRedraw && !opts.clearRedrawFlags;\n      var attributeManager = this.getAttributeManager();\n      var attributeManagerNeedsRedraw = attributeManager && attributeManager.getNeedsRedraw(opts);\n      redraw = redraw || attributeManagerNeedsRedraw;\n      return redraw;\n    }\n  }, {\n    key: \"_getAttributeManager\",\n    value: function _getAttributeManager() {\n      return new _attributeManager[\"default\"](this.context.gl, {\n        id: this.props.id,\n        stats: this.context.stats,\n        timeline: this.context.timeline\n      });\n    }\n  }, {\n    key: \"_initState\",\n    value: function _initState() {\n      (0, _assert[\"default\"])(!this.internalState && !this.state);\n      (0, _assert[\"default\"])(isFinite(this.props.coordinateSystem), \"\".concat(this.id, \": invalid coordinateSystem\"));\n\n      var attributeManager = this._getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.addInstanced({\n          instancePickingColors: {\n            type: 5121,\n            size: 3,\n            noAlloc: true,\n            update: this.calculateInstancePickingColors\n          }\n        });\n      }\n\n      this.internalState = new _layerState[\"default\"]({\n        attributeManager: attributeManager,\n        layer: this\n      });\n      this.clearChangeFlags();\n      this.state = {};\n      Object.defineProperty(this.state, 'attributeManager', {\n        get: function get() {\n          _log[\"default\"].deprecated('layer.state.attributeManager', 'layer.getAttributeManager()');\n\n          return attributeManager;\n        }\n      });\n      this.internalState.layer = this;\n      this.internalState.uniformTransitions = new _uniformTransitionManager[\"default\"](this.context.timeline);\n      this.internalState.onAsyncPropUpdated = this._onAsyncPropUpdated.bind(this);\n      this.internalState.setAsyncProps(this.props);\n    }\n  }, {\n    key: \"_transferState\",\n    value: function _transferState(oldLayer) {\n      (0, _debug[\"default\"])(TRACE_MATCHED, this, this === oldLayer);\n      var state = oldLayer.state,\n          internalState = oldLayer.internalState;\n      (0, _assert[\"default\"])(state && internalState);\n\n      if (this === oldLayer) {\n        return;\n      }\n\n      this.internalState = internalState;\n      this.internalState.layer = this;\n      this.state = state;\n      this.internalState.setAsyncProps(this.props);\n      this.diffProps(this.props, this.internalState.getOldProps());\n    }\n  }, {\n    key: \"_onAsyncPropUpdated\",\n    value: function _onAsyncPropUpdated() {\n      this.diffProps(this.props, this.internalState.getOldProps());\n      this.setNeedsUpdate();\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return this.internalState && !this.internalState.isAsyncPropLoading();\n    }\n  }, {\n    key: \"wrapLongitude\",\n    get: function get() {\n      return this.props.wrapLongitude;\n    }\n  }]);\n  return Layer;\n}(_component[\"default\"]);\n\nexports[\"default\"] = Layer;\nLayer.layerName = 'Layer';\nLayer.defaultProps = defaultProps;\n//# sourceMappingURL=layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_slicedToArray2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_constants","_attributeManager","_uniformTransitionManager","_props","_count","_log","_debug","_core","_assert","_shader","_projectFunctions","_typedArrayManager","_component","_layerState","_webMercator","_core2","EMPTY_ARRAY","freeze","pickingColorCache","Uint8ClampedArray","defaultProps","data","type","async","dataComparator","_dataDiff","__diff","compare","optional","dataTransform","onDataLoad","fetch","url","_ref","propName","layer","resourceManager","context","loadOptions","getLoadOptions","inResourceManager","contains","add","resourceId","persistent","subscribe","onChange","internalState","reloadAsyncProp","consumerId","id","requestId","load","updateTriggers","visible","pickable","opacity","min","max","onHover","onClick","onDragStart","onDrag","onDragEnd","coordinateSystem","COORDINATE_SYSTEM","DEFAULT","coordinateOrigin","modelMatrix","wrapLongitude","positionFormat","colorFormat","parameters","uniforms","extensions","getPolygonOffset","_ref2","layerIndex","highlightedObjectIndex","autoHighlight","highlightColor","Layer","_Component","apply","arguments","key","toString","concat","constructor","layerName","name","props","setState","updateObject","setChangeFlags","stateChanged","assign","state","setNeedsRedraw","redraw","length","undefined","needsRedraw","setNeedsUpdate","layerManager","String","needsUpdate","getNeedsRedraw","_getNeedsRedraw","opts","clearRedrawFlags","hasUniformTransition","shouldUpdateState","_getUpdateParams","uniformTransitions","active","isPickable","getModels","models","model","getAttributeManager","attributeManager","getCurrentLayer","project","xyz","viewport","worldPosition","getWorldPosition","_worldToPixels","worldToPixels","pixelProjectionMatrix","_worldToPixels2","x","y","z","unproject","xy","projectPosition","use64bitPositions","LNGLAT","CARTESIAN","info","pickingEvent","nullPickingColor","encodePickingColor","i","target","decodePickingColor","color","Uint8Array","_color","i1","i2","i3","initializeState","Error","getShaders","shaders","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","extension","mergeShaders","call","err","_ref3","changeFlags","propsOrDataChanged","updateState","_ref4","dataChanged","Array","isArray","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","invalidateAll","finalizeState","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","finalize","unsubscribe","clear","draw","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","getPickingInfo","_ref5","index","object","invalidateAttribute","invalidate","updateAttributes","changedAttributes","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_setModelAttributes","_updateAttributes","numInstances","getNumInstances","startIndices","getStartIndices","update","transitions","buffers","attributes","ignoreUnknownAttributes","getChangedAttributes","clearChangedFlags","_updateAttributeTransition","updateTransition","_updateUniformTransition","propsInTransition","create","calculateInstancePickingColors","attribute","_ref6","cacheSize","allocate","size","copy","newCacheSize","pickingColor","subarray","shaderAttributes","getShaderAttributes","userData","excludeAttributes","setAttributes","clearPickingColor","_this$getAttributeMan","instancePickingColors","colors","pickingColors","start","getVertexOffset","end","buffer","subData","offset","restorePickingColors","_this$getAttributeMan2","updateSubBuffer","startOffset","count","_initialize","TRACE_INITIALIZE","_initState","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","propsChanged","viewportChanged","extensionsChanged","_updateState","_update","stateNeedsUpdate","TRACE_UPDATE","currentProps","updateParams","gl","error","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","_updateModules","isComposite","_renderLayers","setInstanceCount","clearChangeFlags","resetOldProps","_finalize","TRACE_FINALIZE","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_iterator8","_step8","drawLayer","_ref7","_this","_ref7$moduleParameter","moduleParameters","_ref7$uniforms","_ref7$parameters","Math","pow","setModuleParameters","offsets","setParameters","polygonOffset","withParameters","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_iterator9","_step9","getChangeFlags","flags","TRACE_CHANGE_FLAG","updateTriggersChanged","somethingChanged","diffProps","newProps","oldProps","transitionsChanged","_key","validateProps","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_iterator10","_step10","updateModuleSettings","_ref8","pickingSelectedColor","pickingHighlightColor","Number","isInteger","getOldProps","attributeManagerNeedsRedraw","_getAttributeManager","stats","timeline","isFinite","addInstanced","noAlloc","get","deprecated","onAsyncPropUpdated","_onAsyncPropUpdated","bind","setAsyncProps","_transferState","oldLayer","TRACE_MATCHED","isAsyncPropLoading"]
}
