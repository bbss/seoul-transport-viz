{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$core$dist$es5$worker_utils$worker_farm.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/core/dist/es5/worker-utils/worker-farm.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$core$dist$es5$worker_utils$worker_farm\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _workerPool = _interopRequireDefault(require(\"./worker-pool\"));\n\nvar DEFAULT_MAX_CONCURRENCY = 5;\n\nvar WorkerFarm = function () {\n  (0, _createClass2[\"default\"])(WorkerFarm, null, [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof Worker !== 'undefined';\n    }\n  }]);\n\n  function WorkerFarm(_ref) {\n    var _ref$maxConcurrency = _ref.maxConcurrency,\n        maxConcurrency = _ref$maxConcurrency === void 0 ? DEFAULT_MAX_CONCURRENCY : _ref$maxConcurrency,\n        onMessage = _ref.onMessage,\n        _ref$onDebug = _ref.onDebug,\n        onDebug = _ref$onDebug === void 0 ? function () {} : _ref$onDebug;\n    (0, _classCallCheck2[\"default\"])(this, WorkerFarm);\n    this.maxConcurrency = maxConcurrency;\n    this.onMessage = onMessage;\n    this.onDebug = onDebug;\n    this.workerPools = new Map();\n  }\n\n  (0, _createClass2[\"default\"])(WorkerFarm, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('maxConcurrency' in props) {\n        this.maxConcurrency = props.maxConcurrency;\n      }\n\n      if ('onDebug' in props) {\n        this.onDebug = props.onDebug;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.workerPools.forEach(function (workerPool) {\n        return workerPool.destroy();\n      });\n    }\n  }, {\n    key: \"process\",\n    value: function () {\n      var _process = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(workerSource, workerName, data) {\n        var workerPool;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                workerPool = this._getWorkerPool(workerSource, workerName);\n                return _context.abrupt(\"return\", workerPool.process(data));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function process(_x, _x2, _x3) {\n        return _process.apply(this, arguments);\n      }\n\n      return process;\n    }()\n  }, {\n    key: \"_getWorkerPool\",\n    value: function _getWorkerPool(workerSource, workerName) {\n      var workerPool = this.workerPools.get(workerName);\n\n      if (!workerPool) {\n        workerPool = new _workerPool[\"default\"]({\n          source: workerSource,\n          name: workerName,\n          onMessage: this.onMessage,\n          maxConcurrency: this.maxConcurrency,\n          onDebug: this.onDebug\n        });\n        this.workerPools.set(workerName, workerPool);\n      }\n\n      return workerPool;\n    }\n  }]);\n  return WorkerFarm;\n}();\n\nexports[\"default\"] = WorkerFarm;\n//# sourceMappingURL=worker-farm.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_workerPool","WorkerFarm","_ref","_ref$maxConcurrency","maxConcurrency","DEFAULT_MAX_CONCURRENCY","onMessage","_ref$onDebug","onDebug","workerPools","Map","key","isSupported","Worker","setProps","props","destroy","forEach","workerPool","_process","mark","_callee","workerSource","workerName","data","wrap","_callee$","_context","prev","next","_getWorkerPool","abrupt","process","stop","_x","_x2","_x3","apply","arguments","get","source","name","set"]
}
