shadow$provide.module$node_modules$rxjs$dist$cjs$internal$operators$repeatWhen=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b);d.prototype=
null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.repeatWhen=void 0;var Subject_1=require("module$node_modules$rxjs$dist$cjs$internal$Subject");global=require("module$node_modules$rxjs$dist$cjs$internal$OuterSubscriber");var subscribeToResult_1=require("module$node_modules$rxjs$dist$cjs$internal$util$subscribeToResult");exports.repeatWhen=function(notifier){return function(source){return source.lift(new RepeatWhenOperator(notifier))}};
var RepeatWhenOperator=function(){function RepeatWhenOperator(notifier){this.notifier=notifier}RepeatWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new RepeatWhenSubscriber(subscriber,this.notifier,source))};return RepeatWhenOperator}(),RepeatWhenSubscriber=function(_super){function RepeatWhenSubscriber(destination,notifier,source){destination=_super.call(this,destination)||this;destination.notifier=notifier;destination.source=source;destination.notifications=null;
destination.retries=null;destination.retriesSubscription=null;destination.sourceIsBeingSubscribedTo=!0;return destination}__extends(RepeatWhenSubscriber,_super);RepeatWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.sourceIsBeingSubscribedTo=!0;this.source.subscribe(this)};RepeatWhenSubscriber.prototype.notifyComplete=function(innerSub){if(!1===this.sourceIsBeingSubscribedTo)return _super.prototype.complete.call(this)};RepeatWhenSubscriber.prototype.complete=
function(){this.sourceIsBeingSubscribedTo=!1;if(!this.isStopped){this.retries||this.subscribeToRetries();if(!this.retriesSubscription||this.retriesSubscription.closed)return _super.prototype.complete.call(this);this._unsubscribeAndRecycle();this.notifications.next()}};RepeatWhenSubscriber.prototype._unsubscribe=function(){var notifications=this.notifications,retriesSubscription=this.retriesSubscription;notifications&&(notifications.unsubscribe(),this.notifications=null);retriesSubscription&&(retriesSubscription.unsubscribe(),
this.retriesSubscription=null);this.retries=null};RepeatWhenSubscriber.prototype._unsubscribeAndRecycle=function(){var _unsubscribe=this._unsubscribe;this._unsubscribe=null;_super.prototype._unsubscribeAndRecycle.call(this);this._unsubscribe=_unsubscribe;return this};RepeatWhenSubscriber.prototype.subscribeToRetries=function(){this.notifications=new Subject_1.Subject;try{var notifier=this.notifier;var retries=notifier(this.notifications)}catch(e){return _super.prototype.complete.call(this)}this.retries=
retries;this.retriesSubscription=subscribeToResult_1.subscribeToResult(this,retries)};return RepeatWhenSubscriber}(global.OuterSubscriber)}
//# sourceMappingURL=module$node_modules$rxjs$dist$cjs$internal$operators$repeatWhen.js.map
