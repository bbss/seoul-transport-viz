shadow$provide.module$node_modules$react_map_gl$dist$es5$components$layer=function(global,require,module,exports){function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,
Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=
void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_assertThisInitialized2=global(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=
global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_objectWithoutProperties2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),React=module(require("module$node_modules$react$index"));module=global(require("module$node_modules$prop_types$index"));var _mapContext=global(require("module$node_modules$react_map_gl$dist$es5$components$map_context")),
_assert=global(require("module$node_modules$react_map_gl$dist$es5$utils$assert")),_deepEqual=global(require("module$node_modules$react_map_gl$dist$es5$utils$deep_equal"));require={type:module["default"].string.isRequired,id:module["default"].string,source:module["default"].string,beforeId:module["default"].string};var layerCounter=0;global=function(_PureComponent){function Layer(_props){(0,_classCallCheck2["default"])(this,Layer);var _this=_super.call(this,_props);(0,_defineProperty2["default"])((0,
_assertThisInitialized2["default"])(_this),"id",void 0);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"type",void 0);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_map",null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_layerOptions",{});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_updateLayer",function(){var map=_this._map;if(map){var _assertThisInitialize=(0,_assertThisInitialized2["default"])(_this),
props=_assertThisInitialize.props;_assertThisInitialize=_assertThisInitialize._layerOptions;(0,_assert["default"])(!props.id||props.id===_this.id,"layer id changed");(0,_assert["default"])(props.type===_this.type,"layer type changed");if(_this.getLayer())try{var id=_this.id,_props$layout=props.layout;_props$layout=void 0===_props$layout?{}:_props$layout;var _props$paint=props.paint;_props$paint=void 0===_props$paint?{}:_props$paint;var filter=props.filter,minzoom=props.minzoom,maxzoom=props.maxzoom,
beforeId=props.beforeId,otherProps=(0,_objectWithoutProperties2["default"])(props,"layout paint filter minzoom maxzoom beforeId".split(" "));beforeId!==_assertThisInitialize.beforeId&&map.moveLayer(id,beforeId);if(_props$layout!==_assertThisInitialize.layout)for(var key in _props$layout)(0,_deepEqual["default"])(_props$layout[key],_assertThisInitialize.layout[key])||map.setLayoutProperty(id,key,_props$layout[key]);if(_props$paint!==_assertThisInitialize.paint)for(var _key in _props$paint)(0,_deepEqual["default"])(_props$paint[_key],
_assertThisInitialize.paint[_key])||map.setPaintProperty(id,_key,_props$paint[_key]);(0,_deepEqual["default"])(filter,_assertThisInitialize.filter)||map.setFilter(id,filter);minzoom===_assertThisInitialize.minzoom&&maxzoom===_assertThisInitialize.maxzoom||map.setLayerZoomRange(id,minzoom,maxzoom);for(var _key2 in otherProps)(0,_deepEqual["default"])(otherProps[_key2],_assertThisInitialize[_key2])||map.setLayerProperty(id,_key2,otherProps[_key2]);Object.assign(_assertThisInitialize,props)}catch(error){console.warn(error)}else _this._createLayer()}});
_this.id=_props.id||"jsx-layer-".concat(layerCounter++);_this.type=_props.type;return _this}(0,_inherits2["default"])(Layer,_PureComponent);var _super=_createSuper(Layer);(0,_createClass2["default"])(Layer,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var map=this._map;map&&(map.off("styledata",this._updateLayer),map.style&&map.style._loaded&&map.removeLayer(this.id))}},
{key:"getLayer",value:function(){var map=this._map;return map&&map.style&&map.getLayer(this.id)}},{key:"_createLayer",value:function(){var map=this._map;if(map.style&&map.style._loaded){var options=Object.assign({},this.props);options.id=this.id;delete options.beforeId;map.addLayer(options,this.props.beforeId);this._layerOptions=options}}},{key:"_render",value:function(context){!this._map&&context.map&&(this._map=context.map,this._map.on("styledata",this._updateLayer));return null}},{key:"render",
value:function(){return React.createElement(_mapContext["default"].Consumer,null,this._render.bind(this))}}]);return Layer}(React.PureComponent);exports["default"]=global;(0,_defineProperty2["default"])(global,"propTypes",require)}
//# sourceMappingURL=module$node_modules$react_map_gl$dist$es5$components$layer.js.map
