{
"version":3,
"file":"module$node_modules$$math_DOT_gl$web_mercator$dist$es5$web_mercator_utils.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/@math_DOT_gl/web-mercator/dist/es5/web-mercator-utils.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$math_DOT_gl$web_mercator$dist$es5$web_mercator_utils\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.zoomToScale = zoomToScale;\nexports.scaleToZoom = scaleToZoom;\nexports.lngLatToWorld = lngLatToWorld;\nexports.worldToLngLat = worldToLngLat;\nexports.getMeterZoom = getMeterZoom;\nexports.getDistanceScales = getDistanceScales;\nexports.addMetersToLngLat = addMetersToLngLat;\nexports.getViewMatrix = getViewMatrix;\nexports.getProjectionParameters = getProjectionParameters;\nexports.getProjectionMatrix = getProjectionMatrix;\nexports.worldToPixels = worldToPixels;\nexports.pixelsToWorld = pixelsToWorld;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _mathUtils = require(\"./math-utils\");\n\nvar mat4 = _interopRequireWildcard(require(\"gl-matrix/mat4\"));\n\nvar vec2 = _interopRequireWildcard(require(\"gl-matrix/vec2\"));\n\nvar vec3 = _interopRequireWildcard(require(\"gl-matrix/vec3\"));\n\nvar _assert = _interopRequireDefault(require(\"./assert\"));\n\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nvar DEFAULT_ALTITUDE = 1.5;\n\nfunction zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\n\nfunction scaleToZoom(scale) {\n  return Math.log2(scale);\n}\n\nfunction lngLatToWorld(_ref) {\n  var _ref2 = (0, _slicedToArray2[\"default\"])(_ref, 2),\n      lng = _ref2[0],\n      lat = _ref2[1];\n\n  (0, _assert[\"default\"])(Number.isFinite(lng));\n  (0, _assert[\"default\"])(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  var y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\n\nfunction worldToLngLat(_ref3) {\n  var _ref4 = (0, _slicedToArray2[\"default\"])(_ref3, 2),\n      x = _ref4[0],\n      y = _ref4[1];\n\n  var lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\n\nfunction getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  (0, _assert[\"default\"])(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\n\nfunction getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n      longitude = _ref6.longitude,\n      _ref6$highPrecision = _ref6.highPrecision,\n      highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  (0, _assert[\"default\"])(Number.isFinite(latitude) && Number.isFinite(longitude));\n  var result = {};\n  var worldSize = TILE_SIZE;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var unitsPerDegreeX = worldSize / 360;\n  var unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  var altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    var altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  return result;\n}\n\nfunction addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = (0, _slicedToArray2[\"default\"])(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      z0 = _lngLatZ[2];\n\n  var _xyz = (0, _slicedToArray2[\"default\"])(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var _getDistanceScales = getDistanceScales({\n    longitude: longitude,\n    latitude: latitude,\n    highPrecision: true\n  }),\n      unitsPerMeter = _getDistanceScales.unitsPerMeter,\n      unitsPerMeter2 = _getDistanceScales.unitsPerMeter2;\n\n  var worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\n\nfunction getViewMatrix(_ref7) {\n  var height = _ref7.height,\n      pitch = _ref7.pitch,\n      bearing = _ref7.bearing,\n      altitude = _ref7.altitude,\n      scale = _ref7.scale,\n      _ref7$center = _ref7.center,\n      center = _ref7$center === void 0 ? null : _ref7$center;\n  var vm = (0, _mathUtils.createMat4)();\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n  scale /= height;\n  mat4.scale(vm, vm, [scale, scale, scale]);\n\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n\n  return vm;\n}\n\nfunction getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n      height = _ref8.height,\n      _ref8$altitude = _ref8.altitude,\n      altitude = _ref8$altitude === void 0 ? DEFAULT_ALTITUDE : _ref8$altitude,\n      _ref8$pitch = _ref8.pitch,\n      pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n      _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n      nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n      _ref8$farZMultiplier = _ref8.farZMultiplier,\n      farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var halfFov = Math.atan(0.5 / altitude);\n  var topHalfSurfaceDistance = Math.sin(halfFov) * altitude / Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n  var farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + altitude;\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance: altitude,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\n\nfunction getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n      height = _ref9.height,\n      pitch = _ref9.pitch,\n      altitude = _ref9.altitude,\n      nearZMultiplier = _ref9.nearZMultiplier,\n      farZMultiplier = _ref9.farZMultiplier;\n\n  var _getProjectionParamet = getProjectionParameters({\n    width: width,\n    height: height,\n    altitude: altitude,\n    pitch: pitch,\n    nearZMultiplier: nearZMultiplier,\n    farZMultiplier: farZMultiplier\n  }),\n      fov = _getProjectionParamet.fov,\n      aspect = _getProjectionParamet.aspect,\n      near = _getProjectionParamet.near,\n      far = _getProjectionParamet.far;\n\n  var projectionMatrix = mat4.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\n\nfunction worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = (0, _slicedToArray2[\"default\"])(xyz, 3),\n      x = _xyz2[0],\n      y = _xyz2[1],\n      _xyz2$ = _xyz2[2],\n      z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n  (0, _assert[\"default\"])(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return (0, _mathUtils.transformVector)(pixelProjectionMatrix, [x, y, z, 1]);\n}\n\nfunction pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _xyz3 = (0, _slicedToArray2[\"default\"])(xyz, 3),\n      x = _xyz3[0],\n      y = _xyz3[1],\n      z = _xyz3[2];\n\n  (0, _assert[\"default\"])(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    var coord = (0, _mathUtils.transformVector)(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  var coord0 = (0, _mathUtils.transformVector)(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = (0, _mathUtils.transformVector)(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}\n//# sourceMappingURL=web-mercator-utils.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","scaleToZoom","scale","Math","log2","lngLatToWorld","_ref","_ref2","_slicedToArray2","lng","lat","_assert","Number","isFinite","TILE_SIZE","DEGREES_TO_RADIANS","PI","log","tan","PI_4","worldToLngLat","_ref3","_ref4","x","RADIANS_TO_DEGREES","atan","exp","y","getDistanceScales","_ref6","latitude","longitude","_ref6$highPrecision","highPrecision","result","worldSize","latCosine","cos","unitsPerDegreeX","unitsPerDegreeY","altUnitsPerMeter","EARTH_CIRCUMFERENCE","unitsPerMeter","metersPerUnit","unitsPerDegree","degreesPerUnit","latCosine2","altUnitsPerDegree2","altUnitsPerMeter2","unitsPerDegree2","unitsPerMeter2","getProjectionParameters","_ref8","_ref8$altitude","altitude","DEFAULT_ALTITUDE","_ref8$pitch","pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","pitchRadians","halfFov","fov","aspect","width","height","focalDistance","near","far","sin","min","max","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","zoomToScale","zoom","pow","getMeterZoom","_ref5","addMetersToLngLat","lngLatZ","xyz","_lngLatZ","z0","_xyz","z","_getDistanceScales","worldspace","newLngLat","newZ","getViewMatrix","_ref7","bearing","_ref7$center","center","vm","_mathUtils","createMat4","mat4","translate","rotateX","rotateZ","vec3","negate","getProjectionMatrix","_ref9","_getProjectionParamet","perspective","projectionMatrix","worldToPixels","pixelProjectionMatrix","_xyz2","_xyz2$","transformVector","pixelsToWorld","pixelUnprojectionMatrix","targetZ","arguments","length","undefined","_xyz3","coord","coord0","coord1","z1","vec2","lerp","t"]
}
