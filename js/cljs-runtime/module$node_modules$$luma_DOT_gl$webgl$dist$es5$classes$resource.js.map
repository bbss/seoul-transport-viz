{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$resource.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/resource.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$resource\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _init = require(\"../init\");\n\nvar _webglUtils = require(\"../webgl-utils\");\n\nvar _utils = require(\"../utils\");\n\nvar ERR_RESOURCE_METHOD_UNDEFINED = 'Resource subclass must define virtual methods';\n\nvar Resource = function () {\n  function Resource(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, Resource);\n    (0, _webglUtils.assertWebGLContext)(gl);\n    var id = opts.id,\n        _opts$userData = opts.userData,\n        userData = _opts$userData === void 0 ? {} : _opts$userData;\n    this.gl = gl;\n    this.id = id || (0, _utils.uid)(this.constructor.name);\n    this.userData = userData;\n    this._bound = false;\n    this._handle = opts.handle;\n\n    if (this._handle === undefined) {\n      this._handle = this._createHandle();\n    }\n\n    this.byteLength = 0;\n\n    this._addStats();\n  }\n\n  (0, _createClass2[\"default\"])(Resource, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.constructor.name, \"(\").concat(this.id, \")\");\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$deleteChildren = _ref.deleteChildren,\n          deleteChildren = _ref$deleteChildren === void 0 ? false : _ref$deleteChildren;\n\n      var children = this._handle && this._deleteHandle(this._handle);\n\n      if (this._handle) {\n        this._removeStats();\n      }\n\n      this._handle = null;\n\n      if (children && deleteChildren) {\n        children.filter(Boolean).forEach(function (child) {\n          child[\"delete\"]();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var funcOrHandle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.handle;\n\n      if (typeof funcOrHandle !== 'function') {\n        this._bindHandle(funcOrHandle);\n\n        return this;\n      }\n\n      var value;\n\n      if (!this._bound) {\n        this._bindHandle(this.handle);\n\n        this._bound = true;\n        value = funcOrHandle();\n        this._bound = false;\n\n        this._bindHandle(null);\n      } else {\n        value = funcOrHandle();\n      }\n\n      return value;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      this.bind(null);\n    }\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(pname) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      pname = (0, _webglUtils.getKeyValue)(this.gl, pname);\n      (0, _utils.assert)(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = (0, _gltools.isWebGL2)(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          var webgl1Default = parameter.webgl1;\n          var webgl2Default = 'webgl2' in parameter ? parameter.webgl2 : parameter.webgl1;\n          var defaultValue = isWebgl2 ? webgl2Default : webgl1Default;\n          return defaultValue;\n        }\n      }\n\n      return this._getParameter(pname, opts);\n    }\n  }, {\n    key: \"getParameters\",\n    value: function getParameters() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _ref2 = {},\n          parameters = _ref2.parameters,\n          keys = _ref2.keys;\n      var PARAMETERS = this.constructor.PARAMETERS || {};\n      var isWebgl2 = (0, _gltools.isWebGL2)(this.gl);\n      var values = {};\n      var parameterKeys = parameters || Object.keys(PARAMETERS);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = parameterKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var pname = _step.value;\n          var parameter = PARAMETERS[pname];\n          var parameterAvailable = parameter && (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n          if (parameterAvailable) {\n            var key = keys ? (0, _webglUtils.getKey)(this.gl, pname) : pname;\n            values[key] = this.getParameter(pname, opts);\n\n            if (keys && parameter.type === 'GLenum') {\n              values[key] = (0, _webglUtils.getKey)(this.gl, values[key]);\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return values;\n    }\n  }, {\n    key: \"setParameter\",\n    value: function setParameter(pname, value) {\n      pname = (0, _webglUtils.getKeyValue)(this.gl, pname);\n      (0, _utils.assert)(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = (0, _gltools.isWebGL2)(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          throw new Error('Parameter not available on this platform');\n        }\n\n        if (parameter.type === 'GLenum') {\n          value = (0, _webglUtils.getKeyValue)(value);\n        }\n      }\n\n      this._setParameter(pname, value);\n\n      return this;\n    }\n  }, {\n    key: \"setParameters\",\n    value: function setParameters(parameters) {\n      for (var pname in parameters) {\n        this.setParameter(pname, parameters[pname]);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"stubRemovedMethods\",\n    value: function stubRemovedMethods(className, version, methodNames) {\n      return (0, _utils.stubRemovedMethods)(this, className, version, methodNames);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize(opts) {}\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getOptsFromHandle\",\n    value: function _getOptsFromHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname, opts) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_setParameter\",\n    value: function _setParameter(pname, value) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_context\",\n    value: function _context() {\n      this.gl.luma = this.gl.luma || {};\n      return this.gl.luma;\n    }\n  }, {\n    key: \"_addStats\",\n    value: function _addStats() {\n      var name = this.constructor.name;\n\n      var stats = _init.lumaStats.get('Resource Counts');\n\n      stats.get('Resources Created').incrementCount();\n      stats.get(\"\".concat(name, \"s Created\")).incrementCount();\n      stats.get(\"\".concat(name, \"s Active\")).incrementCount();\n    }\n  }, {\n    key: \"_removeStats\",\n    value: function _removeStats() {\n      var name = this.constructor.name;\n\n      var stats = _init.lumaStats.get('Resource Counts');\n\n      stats.get(\"\".concat(name, \"s Active\")).decrementCount();\n    }\n  }, {\n    key: \"_trackAllocatedMemory\",\n    value: function _trackAllocatedMemory(bytes) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.constructor.name;\n\n      var stats = _init.lumaStats.get('Memory Usage');\n\n      stats.get('GPU Memory').addCount(bytes);\n      stats.get(\"\".concat(name, \" Memory\")).addCount(bytes);\n      this.byteLength = bytes;\n    }\n  }, {\n    key: \"_trackDeallocatedMemory\",\n    value: function _trackDeallocatedMemory() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.constructor.name;\n\n      var stats = _init.lumaStats.get('Memory Usage');\n\n      stats.get('GPU Memory').subtractCount(this.byteLength);\n      stats.get(\"\".concat(name, \" Memory\")).subtractCount(this.byteLength);\n      this.byteLength = 0;\n    }\n  }, {\n    key: \"handle\",\n    get: function get() {\n      return this._handle;\n    }\n  }]);\n  return Resource;\n}();\n\nexports[\"default\"] = Resource;\n//# sourceMappingURL=resource.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_gltools","_init","_webglUtils","_utils","Resource","gl","opts","arguments","length","undefined","assertWebGLContext","id","_opts$userData","userData","uid","constructor","name","_bound","_handle","handle","_createHandle","byteLength","_addStats","key","toString","concat","_delete","_ref$deleteChildren","deleteChildren","_ref","children","_deleteHandle","_removeStats","filter","Boolean","forEach","child","bind","funcOrHandle","_bindHandle","unbind","getParameter","pname","getKeyValue","assert","parameter","PARAMETERS","isWebgl2","isWebGL2","getExtension","extension","webgl1Default","defaultValue","webgl1","webgl2Default","webgl2","_getParameter","getParameters","_ref2","parameters","keys","values","parameterKeys","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","parameterAvailable","getKey","type","err","setParameter","Error","_setParameter","setParameters","stubRemovedMethods","className","version","methodNames","initialize","ERR_RESOURCE_METHOD_UNDEFINED","_getOptsFromHandle","_context","luma","stats","lumaStats","get","incrementCount","decrementCount","_trackAllocatedMemory","bytes","addCount","_trackDeallocatedMemory","subtractCount"]
}
