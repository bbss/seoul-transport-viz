{
"version":3,
"file":"module$node_modules$mjolnir_DOT_js$dist$es5$event_manager.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/mjolnir_DOT_js/dist/es5/event-manager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mjolnir_DOT_js$dist$es5$event_manager\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _hammer = require(\"./utils/hammer\");\n\nvar _wheelInput = _interopRequireDefault(require(\"./inputs/wheel-input\"));\n\nvar _moveInput = _interopRequireDefault(require(\"./inputs/move-input\"));\n\nvar _keyInput = _interopRequireDefault(require(\"./inputs/key-input\"));\n\nvar _contextmenuInput = _interopRequireDefault(require(\"./inputs/contextmenu-input\"));\n\nvar _eventRegistrar = _interopRequireDefault(require(\"./utils/event-registrar\"));\n\nvar _constants = require(\"./constants\");\n\nvar DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager: _hammer.Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\n\nvar EventManager = function () {\n  function EventManager() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, EventManager);\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    var events = options.events;\n\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  (0, _createClass2[\"default\"])(EventManager, [{\n    key: \"setElement\",\n    value: function setElement(element) {\n      var _this = this;\n\n      if (this.element) {\n        this.destroy();\n      }\n\n      this.element = element;\n\n      if (!element) {\n        return;\n      }\n\n      var options = this.options;\n      var ManagerClass = options.Manager;\n      this.manager = new ManagerClass(element, {\n        touchAction: options.touchAction,\n        recognizers: options.recognizers || _constants.RECOGNIZERS\n      }).on('hammer.input', this._onBasicInput);\n\n      if (!options.recognizers) {\n        Object.keys(_constants.RECOGNIZER_COMPATIBLE_MAP).forEach(function (name) {\n          var recognizer = _this.manager.get(name);\n\n          if (recognizer) {\n            _constants.RECOGNIZER_COMPATIBLE_MAP[name].forEach(function (otherName) {\n              recognizer.recognizeWith(otherName);\n            });\n          }\n        });\n      }\n\n      for (var recognizerName in options.recognizerOptions) {\n        var recognizer = this.manager.get(recognizerName);\n\n        if (recognizer) {\n          var recognizerOption = options.recognizerOptions[recognizerName];\n          delete recognizerOption.enable;\n          recognizer.set(recognizerOption);\n        }\n      }\n\n      this.wheelInput = new _wheelInput[\"default\"](element, this._onOtherEvent, {\n        enable: false\n      });\n      this.moveInput = new _moveInput[\"default\"](element, this._onOtherEvent, {\n        enable: false\n      });\n      this.keyInput = new _keyInput[\"default\"](element, this._onOtherEvent, {\n        enable: false,\n        tabIndex: options.tabIndex\n      });\n      this.contextmenuInput = new _contextmenuInput[\"default\"](element, this._onOtherEvent, {\n        enable: false\n      });\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.events[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = (0, _slicedToArray2[\"default\"])(_step.value, 2),\n              eventAlias = _step$value[0],\n              eventRegistrar = _step$value[1];\n\n          if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n\n            this.manager.on(eventAlias, eventRegistrar.handleEvent);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.element) {\n        this.wheelInput.destroy();\n        this.moveInput.destroy();\n        this.keyInput.destroy();\n        this.contextmenuInput.destroy();\n        this.manager.destroy();\n        this.wheelInput = null;\n        this.moveInput = null;\n        this.keyInput = null;\n        this.contextmenuInput = null;\n        this.manager = null;\n        this.element = null;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, true);\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false, true);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      this._removeEventHandler(event, handler);\n    }\n  }, {\n    key: \"_toggleRecognizer\",\n    value: function _toggleRecognizer(name, enabled) {\n      var manager = this.manager;\n\n      if (!manager) {\n        return;\n      }\n\n      var recognizer = manager.get(name);\n\n      if (recognizer && recognizer.options.enable !== enabled) {\n        recognizer.set({\n          enable: enabled\n        });\n        var fallbackRecognizers = _constants.RECOGNIZER_FALLBACK_MAP[name];\n\n        if (fallbackRecognizers && !this.options.recognizers) {\n          fallbackRecognizers.forEach(function (otherName) {\n            var otherRecognizer = manager.get(otherName);\n\n            if (enabled) {\n              otherRecognizer.requireFailure(name);\n              recognizer.dropRequireFailure(otherName);\n            } else {\n              otherRecognizer.dropRequireFailure(name);\n            }\n          });\n        }\n      }\n\n      this.wheelInput.enableEventType(name, enabled);\n      this.moveInput.enableEventType(name, enabled);\n      this.keyInput.enableEventType(name, enabled);\n      this.contextmenuInput.enableEventType(name, enabled);\n    }\n  }, {\n    key: \"_addEventHandler\",\n    value: function _addEventHandler(event, handler, opts, once, passive) {\n      if (typeof event !== 'string') {\n        opts = handler;\n\n        for (var eventName in event) {\n          this._addEventHandler(eventName, event[eventName], opts, once, passive);\n        }\n\n        return;\n      }\n\n      var manager = this.manager,\n          events = this.events;\n      var eventAlias = _constants.GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        eventRegistrar = new _eventRegistrar[\"default\"](this);\n        events.set(eventAlias, eventRegistrar);\n        eventRegistrar.recognizerName = _constants.EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n\n        if (manager) {\n          manager.on(eventAlias, eventRegistrar.handleEvent);\n        }\n      }\n\n      eventRegistrar.add(event, handler, opts, once, passive);\n\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n      }\n    }\n  }, {\n    key: \"_removeEventHandler\",\n    value: function _removeEventHandler(event, handler) {\n      if (typeof event !== 'string') {\n        for (var eventName in event) {\n          this._removeEventHandler(eventName, event[eventName]);\n        }\n\n        return;\n      }\n\n      var events = this.events;\n      var eventAlias = _constants.GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        return;\n      }\n\n      eventRegistrar.remove(event, handler);\n\n      if (eventRegistrar.isEmpty()) {\n        var recognizerName = eventRegistrar.recognizerName;\n        var isRecognizerUsed = false;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = events.values()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var eh = _step2.value;\n\n            if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n              isRecognizerUsed = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        if (!isRecognizerUsed) {\n          this._toggleRecognizer(recognizerName, false);\n        }\n      }\n    }\n  }, {\n    key: \"_onBasicInput\",\n    value: function _onBasicInput(event) {\n      var srcEvent = event.srcEvent;\n      var alias = _constants.BASIC_EVENT_ALIASES[srcEvent.type];\n\n      if (alias) {\n        this.manager.emit(alias, event);\n      }\n    }\n  }, {\n    key: \"_onOtherEvent\",\n    value: function _onOtherEvent(event) {\n      this.manager.emit(event.type, event);\n    }\n  }]);\n  return EventManager;\n}();\n\nexports[\"default\"] = EventManager;\n//# sourceMappingURL=event-manager.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_slicedToArray2","_classCallCheck2","_createClass2","_hammer","_wheelInput","_moveInput","_keyInput","_contextmenuInput","_eventRegistrar","_constants","DEFAULT_OPTIONS","events","recognizers","recognizerOptions","Manager","touchAction","tabIndex","EventManager","element","arguments","length","undefined","options","assign","Map","_onBasicInput","bind","_onOtherEvent","setElement","on","key","_this","destroy","manager","RECOGNIZERS","keys","RECOGNIZER_COMPATIBLE_MAP","forEach","name","recognizer","get","otherName","recognizeWith","recognizerName","recognizerOption","enable","set","wheelInput","moveInput","keyInput","contextmenuInput","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","_step$value","eventAlias","eventRegistrar","isEmpty","_toggleRecognizer","handleEvent","err","event","handler","opts","_addEventHandler","once","watch","off","_removeEventHandler","enabled","fallbackRecognizers","RECOGNIZER_FALLBACK_MAP","otherRecognizer","requireFailure","dropRequireFailure","enableEventType","passive","eventName","GESTURE_EVENT_ALIASES","EVENT_RECOGNIZER_MAP","add","remove","isRecognizerUsed","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","values","_step2","eh","alias","BASIC_EVENT_ALIASES","srcEvent","type","emit"]
}
