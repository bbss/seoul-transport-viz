{
"version":3,
"file":"module$node_modules$$mapbox$tiny_sdf$index.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/@mapbox/tiny-sdf/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$mapbox$tiny_sdf$index\"] = function(global,require,module,exports) {\n'use strict';\n\nmodule.exports = TinySDF;\nmodule.exports.default = TinySDF;\n\nvar INF = 1e20;\n\nfunction TinySDF(fontSize, buffer, radius, cutoff, fontFamily, fontWeight) {\n    this.fontSize = fontSize || 24;\n    this.buffer = buffer === undefined ? 3 : buffer;\n    this.cutoff = cutoff || 0.25;\n    this.fontFamily = fontFamily || 'sans-serif';\n    this.fontWeight = fontWeight || 'normal';\n    this.radius = radius || 8;\n    var size = this.size = this.fontSize + this.buffer * 2;\n\n    this.canvas = document.createElement('canvas');\n    this.canvas.width = this.canvas.height = size;\n\n    this.ctx = this.canvas.getContext('2d');\n    this.ctx.font = this.fontWeight + ' ' + this.fontSize + 'px ' + this.fontFamily;\n    this.ctx.textBaseline = 'middle';\n    this.ctx.fillStyle = 'black';\n\n    // temporary arrays for the distance transform\n    this.gridOuter = new Float64Array(size * size);\n    this.gridInner = new Float64Array(size * size);\n    this.f = new Float64Array(size);\n    this.d = new Float64Array(size);\n    this.z = new Float64Array(size + 1);\n    this.v = new Int16Array(size);\n\n    // hack around https://bugzilla.mozilla.org/show_bug.cgi?id=737852\n    this.middle = Math.round((size / 2) * (navigator.userAgent.indexOf('Gecko/') >= 0 ? 1.2 : 1));\n}\n\nTinySDF.prototype.draw = function (char) {\n    this.ctx.clearRect(0, 0, this.size, this.size);\n    this.ctx.fillText(char, this.buffer, this.middle);\n\n    var imgData = this.ctx.getImageData(0, 0, this.size, this.size);\n    var alphaChannel = new Uint8ClampedArray(this.size * this.size);\n\n    for (var i = 0; i < this.size * this.size; i++) {\n        var a = imgData.data[i * 4 + 3] / 255; // alpha value\n        this.gridOuter[i] = a === 1 ? 0 : a === 0 ? INF : Math.pow(Math.max(0, 0.5 - a), 2);\n        this.gridInner[i] = a === 1 ? INF : a === 0 ? 0 : Math.pow(Math.max(0, a - 0.5), 2);\n    }\n\n    edt(this.gridOuter, this.size, this.size, this.f, this.d, this.v, this.z);\n    edt(this.gridInner, this.size, this.size, this.f, this.d, this.v, this.z);\n\n    for (i = 0; i < this.size * this.size; i++) {\n        var d = this.gridOuter[i] - this.gridInner[i];\n        alphaChannel[i] = Math.max(0, Math.min(255, Math.round(255 - 255 * (d / this.radius + this.cutoff))));\n    }\n\n    return alphaChannel;\n};\n\n// 2D Euclidean distance transform by Felzenszwalb & Huttenlocher https://cs.brown.edu/~pff/papers/dt-final.pdf\nfunction edt(data, width, height, f, d, v, z) {\n    for (var x = 0; x < width; x++) {\n        for (var y = 0; y < height; y++) {\n            f[y] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, height);\n        for (y = 0; y < height; y++) {\n            data[y * width + x] = d[y];\n        }\n    }\n    for (y = 0; y < height; y++) {\n        for (x = 0; x < width; x++) {\n            f[x] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, width);\n        for (x = 0; x < width; x++) {\n            data[y * width + x] = Math.sqrt(d[x]);\n        }\n    }\n}\n\n// 1D squared distance transform\nfunction edt1d(f, d, v, z, n) {\n    v[0] = 0;\n    z[0] = -INF;\n    z[1] = +INF;\n\n    for (var q = 1, k = 0; q < n; q++) {\n        var s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        while (s <= z[k]) {\n            k--;\n            s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        }\n        k++;\n        v[k] = q;\n        z[k] = s;\n        z[k + 1] = +INF;\n    }\n\n    for (q = 0, k = 0; q < n; q++) {\n        while (z[k + 1] < q) k++;\n        d[q] = (q - v[k]) * (q - v[k]) + f[v[k]];\n    }\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","TinySDF","fontSize","buffer","radius","cutoff","fontFamily","fontWeight","undefined","size","canvas","document","createElement","width","height","ctx","getContext","font","textBaseline","fillStyle","gridOuter","Float64Array","gridInner","f","d","z","v","Int16Array","middle","Math","round","navigator","userAgent","indexOf","edt","data","x","y","edt1d","sqrt","n","INF","q","k","s","default","prototype","draw","TinySDF.prototype.draw","char","clearRect","fillText","imgData","getImageData","alphaChannel","Uint8ClampedArray","i","a","pow","max","min"]
}
