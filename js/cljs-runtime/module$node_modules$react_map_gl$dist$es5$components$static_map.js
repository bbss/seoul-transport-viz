shadow$provide.module$node_modules$react_map_gl$dist$es5$components$static_map=function(global,require,module,exports){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=
null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=
(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,
[],function(){})),!0}catch(e){return!1}}module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_assertThisInitialized2=global(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),
_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),React=module(require("module$node_modules$react$index")),_propTypes=global(require("module$node_modules$prop_types$index")),
_styleUtils=require("module$node_modules$react_map_gl$dist$es5$utils$style_utils"),_viewportMercatorProject=global(require("module$node_modules$viewport_mercator_project$index")),_reactVirtualizedAutoSizer=global(require("module$node_modules$react_virtualized_auto_sizer$dist$index_cjs")),_mapbox=global(require("module$node_modules$react_map_gl$dist$es5$mapbox$mapbox")),_mapboxgl=global(require("module$node_modules$react_map_gl$dist$es5$utils$mapboxgl_browser")),_mapConstraints=require("module$node_modules$react_map_gl$dist$es5$utils$map_constraints");
module=require("module$node_modules$react_map_gl$dist$es5$utils$map_state");var _mapContext=global(require("module$node_modules$react_map_gl$dist$es5$components$map_context")),CONTAINER_STYLE={position:"absolute",width:"100%",height:"100%",overflow:"hidden"};require=Object.assign({},_mapbox["default"].propTypes,{width:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),height:_propTypes["default"].oneOfType([_propTypes["default"].number,_propTypes["default"].string]),
onResize:_propTypes["default"].func,preventStyleDiffing:_propTypes["default"].bool,disableTokenWarning:_propTypes["default"].bool,visible:_propTypes["default"].bool,className:_propTypes["default"].string,style:_propTypes["default"].object,visibilityConstraints:_propTypes["default"].object});global=Object.assign({},_mapbox["default"].defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:module.MAPBOX_LIMITS});module=
function(_PureComponent){function StaticMap(){(0,_classCallCheck2["default"])(this,StaticMap);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_super.call.apply(_super,[this].concat(args));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"state",{accessTokenInvalid:!1});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_mapbox",null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),
"_map",null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_mapboxMapRef",(0,React.createRef)());(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_mapContainerRef",(0,React.createRef)());(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_queryParams",{});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_width",0);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),
"_height",0);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getMap",function(){return _this._map});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"queryRenderedFeatures",function(geometry){return _this._map.queryRenderedFeatures(geometry,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_mapboxMapError",function(evt){401!==(evt.error&&evt.error.status||
evt.status)||_this.state.accessTokenInvalid||(console.error("A valid API access token is required to use Mapbox data"),_this.setState({accessTokenInvalid:!0}));_this.props.onError(evt)});return _this}(0,_inherits2["default"])(StaticMap,_PureComponent);var _super=_createSuper(StaticMap);(0,_createClass2["default"])(StaticMap,[{key:"componentDidMount",value:function(){if(StaticMap.supported()){var mapStyle=this.props.mapStyle;this._mapbox=new _mapbox["default"](Object.assign({},this.props,{mapboxgl:_mapboxgl["default"],
width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:(0,_styleUtils.normalizeStyle)(mapStyle)}));this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(prevProps){this._mapbox&&(this._updateMapStyle(prevProps,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._map=this._mapbox=null)}},{key:"_updateMapSize",value:function(width,height){if(this._width!==
width||this._height!==height)this._width=width,this._height=height,this._updateMapProps(this.props)}},{key:"_updateMapStyle",value:function(oldProps,newProps){newProps=newProps.mapStyle;newProps!==oldProps.mapStyle&&newProps&&this._map.setStyle((0,_styleUtils.normalizeStyle)(newProps),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(props){this._mapbox&&this._mapbox.setProps(Object.assign({},props,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",
value:function(){return this.state.accessTokenInvalid&&!this.props.disableTokenWarning?React.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},React.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),React.createElement("div",{key:"text"},"For information on setting up your basemap, read"),React.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens")):null}},{key:"_renderOverlays",
value:function(dimensions){var _this2=this,_dimensions$width=dimensions.width,width=void 0===_dimensions$width?Number(this.props.width):_dimensions$width;dimensions=dimensions.height;var height=void 0===dimensions?Number(this.props.height):dimensions;this._updateMapSize(width,height);return React.createElement(_mapContext["default"].Consumer,null,function(interactiveContext){interactiveContext=_objectSpread(_objectSpread({},interactiveContext),{},{viewport:new _viewportMercatorProject["default"](_objectSpread(_objectSpread(_objectSpread({},
_this2.props),_this2.props.viewState),{},{width:width,height:height})),map:_this2._map,mapContainer:interactiveContext.mapContainer||_this2._mapContainerRef.current});return React.createElement(_mapContext["default"].Provider,{value:interactiveContext},React.createElement("div",{key:"map-overlays",className:"overlays",style:CONTAINER_STYLE},_this2.props.children))})}},{key:"render",value:function(){var _this$props=this.props,className=_this$props.className,width=_this$props.width,height=_this$props.height,
visibilityConstraints=_this$props.visibilityConstraints;_this$props=Object.assign({position:"relative"},_this$props.style,{width:width,height:height});visibilityConstraints=this.props.visible&&(0,_mapConstraints.checkVisibilityConstraints)(this.props.viewState||this.props,visibilityConstraints);visibilityConstraints=Object.assign({},CONTAINER_STYLE,{visibility:visibilityConstraints?"inherit":"hidden"});return React.createElement("div",{key:"map-container",style:_this$props,ref:this._mapContainerRef},
React.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:visibilityConstraints,className:className}),React.createElement(_reactVirtualizedAutoSizer["default"],{key:"autosizer",disableWidth:Number.isFinite(width),disableHeight:Number.isFinite(height),onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return _mapboxgl["default"]&&_mapboxgl["default"].supported()}}]);return StaticMap}(React.PureComponent);
exports["default"]=module;(0,_defineProperty2["default"])(module,"propTypes",require);(0,_defineProperty2["default"])(module,"defaultProps",global)}
//# sourceMappingURL=module$node_modules$react_map_gl$dist$es5$components$static_map.js.map
