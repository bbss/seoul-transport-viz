{
"version":3,
"file":"module$node_modules$mjolnir_DOT_js$dist$es5$utils$event_registrar.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/mjolnir_DOT_js/dist/es5/utils/event-registrar.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$mjolnir_DOT_js$dist$es5$utils$event_registrar\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _eventUtils = require(\"./event-utils\");\n\nvar DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\n\nvar EventRegistrar = function () {\n  function EventRegistrar(eventManager) {\n    (0, _classCallCheck2[\"default\"])(this, EventRegistrar);\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  (0, _createClass2[\"default\"])(EventRegistrar, [{\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this._active;\n    }\n  }, {\n    key: \"add\",\n    value: function add(type, handler, opts) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      if (opts && ((0, _typeof2[\"default\"])(opts) !== 'object' || opts.addEventListener)) {\n        opts = {\n          srcElement: opts\n        };\n      }\n\n      opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n      var entries = handlersByElement.get(opts.srcElement);\n\n      if (!entries) {\n        entries = [];\n        handlersByElement.set(opts.srcElement, entries);\n      }\n\n      var entry = {\n        type: type,\n        handler: handler,\n        srcElement: opts.srcElement,\n        priority: opts.priority\n      };\n\n      if (once) {\n        entry.once = true;\n      }\n\n      if (passive) {\n        entry.passive = true;\n      }\n\n      handlers.push(entry);\n      this._active = this._active || !entry.passive;\n      var insertPosition = entries.length - 1;\n\n      while (insertPosition >= 0) {\n        if (entries[insertPosition].priority >= entry.priority) {\n          break;\n        }\n\n        insertPosition--;\n      }\n\n      entries.splice(insertPosition + 1, 0, entry);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, handler) {\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        var entry = handlers[i];\n\n        if (entry.type === type && entry.handler === handler) {\n          handlers.splice(i, 1);\n          var entries = handlersByElement.get(entry.srcElement);\n          entries.splice(entries.indexOf(entry), 1);\n\n          if (entries.length === 0) {\n            handlersByElement[\"delete\"](entry.srcElement);\n          }\n        }\n      }\n\n      this._active = handlers.some(function (entry) {\n        return !entry.passive;\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (this.isEmpty()) {\n        return;\n      }\n\n      var mjolnirEvent = this._normalizeEvent(event);\n\n      var target = event.srcEvent.target;\n\n      while (target && target !== mjolnirEvent.rootElement) {\n        this._emit(mjolnirEvent, target);\n\n        if (mjolnirEvent.handled) {\n          return;\n        }\n\n        target = target.parentNode;\n      }\n\n      this._emit(mjolnirEvent, 'root');\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event, srcElement) {\n      var entries = this.handlersByElement.get(srcElement);\n\n      if (entries) {\n        var immediatePropagationStopped = false;\n\n        var stopPropagation = function stopPropagation() {\n          event.handled = true;\n        };\n\n        var stopImmediatePropagation = function stopImmediatePropagation() {\n          event.handled = true;\n          immediatePropagationStopped = true;\n        };\n\n        var entriesToRemove = [];\n\n        for (var i = 0; i < entries.length; i++) {\n          var _entries$i = entries[i],\n              type = _entries$i.type,\n              handler = _entries$i.handler,\n              once = _entries$i.once;\n          handler(Object.assign({}, event, {\n            type: type,\n            stopPropagation: stopPropagation,\n            stopImmediatePropagation: stopImmediatePropagation\n          }));\n\n          if (once) {\n            entriesToRemove.push(entries[i]);\n          }\n\n          if (immediatePropagationStopped) {\n            break;\n          }\n        }\n\n        for (var _i = 0; _i < entriesToRemove.length; _i++) {\n          var _entriesToRemove$_i = entriesToRemove[_i],\n              type = _entriesToRemove$_i.type,\n              handler = _entriesToRemove$_i.handler;\n          this.remove(type, handler);\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      var rootElement = this.eventManager.element;\n      return Object.assign({}, event, (0, _eventUtils.whichButtons)(event), (0, _eventUtils.getOffsetPosition)(event, rootElement), {\n        handled: false,\n        rootElement: rootElement\n      });\n    }\n  }]);\n  return EventRegistrar;\n}();\n\nexports[\"default\"] = EventRegistrar;\n//# sourceMappingURL=event-registrar.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_typeof2","_classCallCheck2","_createClass2","_eventUtils","DEFAULT_OPTIONS","srcElement","priority","EventRegistrar","eventManager","handlers","handlersByElement","Map","handleEvent","bind","_active","key","isEmpty","add","type","handler","opts","once","arguments","length","undefined","passive","addEventListener","assign","entries","get","set","entry","push","insertPosition","splice","remove","i","indexOf","some","event","mjolnirEvent","_normalizeEvent","target","srcEvent","rootElement","_emit","handled","parentNode","immediatePropagationStopped","stopPropagation","stopImmediatePropagation","entriesToRemove","_entries$i","_i","_entriesToRemove$_i","element","whichButtons","getOffsetPosition"]
}
