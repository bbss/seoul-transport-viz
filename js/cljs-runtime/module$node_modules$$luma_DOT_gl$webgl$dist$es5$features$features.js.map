{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$features$features.js",
"lineCount":5,
"mappings":"AAAAA,cAAA,kEAAA,CAAsF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAwB9HC,QAASA,YAAW,CAACC,EAAD,CAAKC,QAAL,CAAe,CACjCA,QAAA,CAAWC,KAAAC,QAAA,CAAcF,QAAd,CAAA,CAA0BA,QAA1B,CAAqC,CAACA,QAAD,CAChD,OAAOA,SAAAG,MAAA,CAAe,QAAS,CAACC,OAAD,CAAU,CACvC,MAAOC,mBAAA,CAAmBN,EAAnB,CAAuBK,OAAvB,CADgC,CAAlC,CAF0B,CAoBnCC,QAASA,mBAAkB,CAACN,EAAD,CAAKO,GAAL,CAAU,CACnCP,EAAAQ,KAAA,CAAUR,EAAAQ,KAAV,EAAqB,EACrBR,GAAAQ,KAAAC,KAAA,CAAeT,EAAAQ,KAAAC,KAAf,EAA+B,EAE/B,IAA0BC,IAAAA,EAA1B,GAAIV,EAAAQ,KAAAC,KAAA,CAAaF,GAAb,CAAJ,CAAqC,CACnCE,IAAAA,sBAAAT,EAAAQ,KAAAC,KAAAA,CAWEJ,QAAUM,mBAAA,CAAoB,SAApB,CAAA,CAXyBJ,GAWzB,CACd,EAAC,CAAA,CAAGK,MAAAC,OAAJ,EAAmBR,OAAnB;AAZuCE,GAYvC,CAEIO,QAAAA,CAAoB,CAAC,CAAA,CAAGC,QAAAC,SAAJ,EAdWhB,EAcX,CAAA,CAA6BK,OAAA,CAAQ,CAAR,CAA7B,EAA2CA,OAAA,CAAQ,CAAR,CAA3C,CAAwDA,OAAA,CAAQ,CAAR,CAEhF,IAAiC,UAAjC,GAAI,MAAOS,QAAX,CACE,IAAAG,YAAcH,OAAA,CAjBmBd,EAiBnB,CADhB,KAEO,IAAIE,KAAAC,QAAA,CAAcW,OAAd,CAAJ,CAAsC,CAE3C,IAAII,0BADJD,WACIC,CADU,CAAA,CACd,CACIC,kBAAoB,CAAA,CADxB,CAEIC,eAAiBV,IAAAA,EAErB,IAAI,CACF,IADE,IACOW,UAAYP,OAAA,CAAkBQ,MAAAC,SAAlB,CAAA,EADnB,CACyDC,KAA3D,CAAkE,EAAEN,yBAAF,CAA8BO,CAACD,KAADC,CAASJ,SAAAK,KAAA,EAATD,MAA9B,CAAlE,CAAkIP,yBAAlI,CAA8J,CAAA,CAA9J,CAAoK,CAClK,IAAIS,UAAYH,KAAAI,MAChBX,YAAA,CAAcA,WAAd,EAA6B,CAAA,CA3BAjB,EA2BQ6B,aAAA,CAAgBF,SAAhB,CAF6H,CADlK,CAKF,MAAOG,GAAP,CAAY,CACZX,iBACA;AADoB,CAAA,CACpB,CAAAC,cAAA,CAAiBU,GAFL,CALd,OAQU,CACR,GAAI,CACF,GAAI,CAACZ,yBAAL,EAAyD,IAAzD,EAAkCG,SAAA,CAAU,QAAV,CAAlC,CACEA,SAAA,CAAU,QAAV,CAAA,EAFA,CAAJ,OAIU,CACR,GAAIF,iBAAJ,CACE,KAAMC,eAAN,CAFM,CALF,CAdiC,CAAtC,IAyBiC,QAAjC,GAAI,MAAON,QAAX,CACLG,WADK,CACS,CAAA,CA5CmBjB,EA4CX6B,aAAA,CAAgBf,OAAhB,CADjB,CAEiC,SAAjC,GAAI,MAAOA,QAAX,CACLG,WADK,CACSH,OADT,CAGL,CAAC,CAAA,CAAGF,MAAAC,OAAJ,EAAmB,CAAA,CAAnB,CAhDAJ,sBAAA,CAAaF,GAAb,CAAA,CAmDKU,WApD8B,CAIhCjB,EAAAQ,KAAAC,KAAA,CAAaF,GAAb,CAAL,EACEQ,QAAAgB,IAAAA,IAAA,CAAiBC,uBAAjB,CAA0C,WAAAC,OAAA,CAAmB1B,GAAnB,CAAwB,gBAAxB,CAA1C,CAAA,EAGF,OAAOP,GAAAQ,KAAAC,KAAA,CAAaF,GAAb,CAZ4B,CAzCjC2B,MAAAA,CAAyBtC,OAAA,CAAQ,kEAAR,CAE7BuC;MAAAC,eAAA,CAAsBtC,OAAtB,CAA+B,YAA/B,CAA6C,CAC3C8B,MAAO,CAAA,CADoC,CAA7C,CAGA9B,QAAAuC,WAAA,CAYAA,QAAmB,CAACrC,EAAD,CAAKK,OAAL,CAAc,CAC/B,MAAON,YAAA,CAAYC,EAAZ,CAAgBK,OAAhB,CADwB,CAXjCP,QAAAC,YAAA,CAAsBA,WACtBD,QAAAwC,YAAA,CAqBAA,QAAoB,CAACtC,EAAD,CAAK,CACvBA,EAAAQ,KAAA,CAAUR,EAAAQ,KAAV,EAAqB,EACrBR,GAAAQ,KAAAC,KAAA,CAAeT,EAAAQ,KAAAC,KAAf,EAA+B,EAE/B,KAAKF,IAAIA,GAAT,GAAgBI,oBAAA,CAAoB,SAApB,CAAhB,CAC4BD,IAAAA,EAA1B,GAAIV,EAAAQ,KAAAC,KAAA,CAAaF,GAAb,CAAJ,GACEP,EAAAQ,KAAAC,KAAA,CAAaF,GAAb,CADF,CACsBD,kBAAA,CAAmBN,EAAnB,CAAuBO,GAAvB,CADtB,CAKF,OAAOP,GAAAQ,KAAAC,KAVgB,CAnBzB,KAAIE,oBAAsBuB,MAAA,CAAuBtC,OAAA,CAAQ,+EAAR,CAAvB,CAA1B;AAEImB,SAAWnB,OAAA,CAAQ,yDAAR,CAFf,CAIIgB,OAAShB,OAAA,CAAQ,6DAAR,CAJb,CAMIoC,wBAA0B,CAlBgG;",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/features/features.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$features$features\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasFeature = hasFeature;\nexports.hasFeatures = hasFeatures;\nexports.getFeatures = getFeatures;\n\nvar _webglFeaturesTable = _interopRequireDefault(require(\"./webgl-features-table\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _utils = require(\"../utils\");\n\nvar LOG_UNSUPPORTED_FEATURE = 2;\n\nfunction hasFeature(gl, feature) {\n  return hasFeatures(gl, feature);\n}\n\nfunction hasFeatures(gl, features) {\n  features = Array.isArray(features) ? features : [features];\n  return features.every(function (feature) {\n    return isFeatureSupported(gl, feature);\n  });\n}\n\nfunction getFeatures(gl) {\n  gl.luma = gl.luma || {};\n  gl.luma.caps = gl.luma.caps || {};\n\n  for (var cap in _webglFeaturesTable[\"default\"]) {\n    if (gl.luma.caps[cap] === undefined) {\n      gl.luma.caps[cap] = isFeatureSupported(gl, cap);\n    }\n  }\n\n  return gl.luma.caps;\n}\n\nfunction isFeatureSupported(gl, cap) {\n  gl.luma = gl.luma || {};\n  gl.luma.caps = gl.luma.caps || {};\n\n  if (gl.luma.caps[cap] === undefined) {\n    gl.luma.caps[cap] = queryFeature(gl, cap);\n  }\n\n  if (!gl.luma.caps[cap]) {\n    _gltools.log.log(LOG_UNSUPPORTED_FEATURE, \"Feature: \".concat(cap, \" not supported\"))();\n  }\n\n  return gl.luma.caps[cap];\n}\n\nfunction queryFeature(gl, cap) {\n  var feature = _webglFeaturesTable[\"default\"][cap];\n  (0, _utils.assert)(feature, cap);\n  var isSupported;\n  var featureDefinition = (0, _gltools.isWebGL2)(gl) ? feature[1] || feature[0] : feature[0];\n\n  if (typeof featureDefinition === 'function') {\n    isSupported = featureDefinition(gl);\n  } else if (Array.isArray(featureDefinition)) {\n    isSupported = true;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = featureDefinition[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var extension = _step.value;\n        isSupported = isSupported && Boolean(gl.getExtension(extension));\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (typeof featureDefinition === 'string') {\n    isSupported = Boolean(gl.getExtension(featureDefinition));\n  } else if (typeof featureDefinition === 'boolean') {\n    isSupported = featureDefinition;\n  } else {\n    (0, _utils.assert)(false);\n  }\n\n  return isSupported;\n}\n//# sourceMappingURL=features.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","hasFeatures","gl","features","Array","isArray","every","feature","isFeatureSupported","cap","luma","caps","undefined","_webglFeaturesTable","_utils","assert","featureDefinition","_gltools","isWebGL2","isSupported","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","extension","value","getExtension","err","log","LOG_UNSUPPORTED_FEATURE","concat","_interopRequireDefault","Object","defineProperty","hasFeature","getFeatures"]
}
