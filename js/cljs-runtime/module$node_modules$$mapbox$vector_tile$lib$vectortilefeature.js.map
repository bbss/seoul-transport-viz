{
"version":3,
"file":"module$node_modules$$mapbox$vector_tile$lib$vectortilefeature.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@mapbox/vector-tile/lib/vectortilefeature.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$mapbox$vector_tile$lib$vectortilefeature\"] = function(global,require,module,exports) {\n'use strict';\n\nvar Point = require('@mapbox/point-geometry');\n\nmodule.exports = VectorTileFeature;\n\nfunction VectorTileFeature(pbf, end, extent, keys, values) {\n    // Public\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n\n    pbf.readFields(readFeature, this, end);\n}\n\nfunction readFeature(tag, feature, pbf) {\n    if (tag == 1) feature.id = pbf.readVarint();\n    else if (tag == 2) readTag(pbf, feature);\n    else if (tag == 3) feature.type = pbf.readVarint();\n    else if (tag == 4) feature._geometry = pbf.pos;\n}\n\nfunction readTag(pbf, feature) {\n    var end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var key = feature._keys[pbf.readVarint()],\n            value = feature._values[pbf.readVarint()];\n        feature.properties[key] = value;\n    }\n}\n\nVectorTileFeature.types = ['Unknown', 'Point', 'LineString', 'Polygon'];\n\nVectorTileFeature.prototype.loadGeometry = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        lines = [],\n        line;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n\n            if (cmd === 1) { // moveTo\n                if (line) lines.push(line);\n                line = [];\n            }\n\n            line.push(new Point(x, y));\n\n        } else if (cmd === 7) {\n\n            // Workaround for https://github.com/mapbox/mapnik-vector-tile/issues/90\n            if (line) {\n                line.push(line[0].clone()); // closePolygon\n            }\n\n        } else {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    if (line) lines.push(line);\n\n    return lines;\n};\n\nVectorTileFeature.prototype.bbox = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        x1 = Infinity,\n        x2 = -Infinity,\n        y1 = Infinity,\n        y2 = -Infinity;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n            if (x < x1) x1 = x;\n            if (x > x2) x2 = x;\n            if (y < y1) y1 = y;\n            if (y > y2) y2 = y;\n\n        } else if (cmd !== 7) {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    return [x1, y1, x2, y2];\n};\n\nVectorTileFeature.prototype.toGeoJSON = function(x, y, z) {\n    var size = this.extent * Math.pow(2, z),\n        x0 = this.extent * x,\n        y0 = this.extent * y,\n        coords = this.loadGeometry(),\n        type = VectorTileFeature.types[this.type],\n        i, j;\n\n    function project(line) {\n        for (var j = 0; j < line.length; j++) {\n            var p = line[j], y2 = 180 - (p.y + y0) * 360 / size;\n            line[j] = [\n                (p.x + x0) * 360 / size - 180,\n                360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90\n            ];\n        }\n    }\n\n    switch (this.type) {\n    case 1:\n        var points = [];\n        for (i = 0; i < coords.length; i++) {\n            points[i] = coords[i][0];\n        }\n        coords = points;\n        project(coords);\n        break;\n\n    case 2:\n        for (i = 0; i < coords.length; i++) {\n            project(coords[i]);\n        }\n        break;\n\n    case 3:\n        coords = classifyRings(coords);\n        for (i = 0; i < coords.length; i++) {\n            for (j = 0; j < coords[i].length; j++) {\n                project(coords[i][j]);\n            }\n        }\n        break;\n    }\n\n    if (coords.length === 1) {\n        coords = coords[0];\n    } else {\n        type = 'Multi' + type;\n    }\n\n    var result = {\n        type: \"Feature\",\n        geometry: {\n            type: type,\n            coordinates: coords\n        },\n        properties: this.properties\n    };\n\n    if ('id' in this) {\n        result.id = this.id;\n    }\n\n    return result;\n};\n\n// classifies an array of rings into polygons with outer rings and holes\n\nfunction classifyRings(rings) {\n    var len = rings.length;\n\n    if (len <= 1) return [rings];\n\n    var polygons = [],\n        polygon,\n        ccw;\n\n    for (var i = 0; i < len; i++) {\n        var area = signedArea(rings[i]);\n        if (area === 0) continue;\n\n        if (ccw === undefined) ccw = area < 0;\n\n        if (ccw === area < 0) {\n            if (polygon) polygons.push(polygon);\n            polygon = [rings[i]];\n\n        } else {\n            polygon.push(rings[i]);\n        }\n    }\n    if (polygon) polygons.push(polygon);\n\n    return polygons;\n}\n\nfunction signedArea(ring) {\n    var sum = 0;\n    for (var i = 0, len = ring.length, j = len - 1, p1, p2; i < len; j = i++) {\n        p1 = ring[i];\n        p2 = ring[j];\n        sum += (p2.x - p1.x) * (p1.y + p2.y);\n    }\n    return sum;\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","VectorTileFeature","pbf","end","extent","keys","values","properties","type","_pbf","_geometry","_keys","_values","readFields","readFeature","tag","feature","id","readVarint","pos","key","value","classifyRings","rings","len","length","polygons","polygon","ccw","i","p2","sum","ring","j","p1","x","y","area","undefined","push","Point","types","prototype","loadGeometry","VectorTileFeature.prototype.loadGeometry","cmd","lines","line","cmdLen","readSVarint","clone","Error","bbox","VectorTileFeature.prototype.bbox","x1","Infinity","x2","y1","y2","toGeoJSON","VectorTileFeature.prototype.toGeoJSON","z","project","p","x0","size","Math","PI","atan","exp","y0","pow","coords","points","result","geometry","coordinates"]
}
