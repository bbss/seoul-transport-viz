{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$shader.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/shader.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$shader\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FragmentShader = exports.VertexShader = exports.Shader = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _glslUtils = require(\"../glsl-utils\");\n\nvar _webglUtils = require(\"../webgl-utils\");\n\nvar _utils = require(\"../utils\");\n\nvar _resource = _interopRequireDefault(require(\"./resource\"));\n\nvar ERR_SOURCE = 'Shader: GLSL source code must be a JavaScript string';\n\nvar Shader = function (_Resource) {\n  (0, _inherits2[\"default\"])(Shader, _Resource);\n  (0, _createClass2[\"default\"])(Shader, null, [{\n    key: \"getTypeName\",\n    value: function getTypeName(shaderType) {\n      switch (shaderType) {\n        case 35633:\n          return 'vertex-shader';\n\n        case 35632:\n          return 'fragment-shader';\n\n        default:\n          (0, _utils.assert)(false);\n          return 'unknown';\n      }\n    }\n  }]);\n\n  function Shader(gl, props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Shader);\n    (0, _webglUtils.assertWebGLContext)(gl);\n    (0, _utils.assert)(typeof props.source === 'string', ERR_SOURCE);\n    var id = (0, _glslUtils.getShaderName)(props.source, null) || props.id || (0, _utils.uid)(\"unnamed \".concat(Shader.getTypeName(props.shaderType)));\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Shader).call(this, gl, {\n      id: id\n    }));\n    _this.shaderType = props.shaderType;\n    _this.source = props.source;\n\n    _this.initialize(props);\n\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Shader, [{\n    key: \"initialize\",\n    value: function initialize(_ref) {\n      var source = _ref.source;\n      var shaderName = (0, _glslUtils.getShaderName)(source, null);\n\n      if (shaderName) {\n        this.id = (0, _utils.uid)(shaderName);\n      }\n\n      this._compile(source);\n    }\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(pname) {\n      return this.gl.getShaderParameter(this.handle, pname);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(Shader.getTypeName(this.shaderType), \":\").concat(this.id);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return (0, _glslUtils.getShaderName)(this.source) || 'unnamed-shader';\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource() {\n      return this.gl.getShaderSource(this.handle);\n    }\n  }, {\n    key: \"getTranslatedSource\",\n    value: function getTranslatedSource() {\n      var extension = this.gl.getExtension('WEBGL.debug_shaders');\n      return extension ? extension.getTranslatedShaderSource(this.handle) : 'No translated source available. WEBGL.debug_shaders not implemented';\n    }\n  }, {\n    key: \"_compile\",\n    value: function _compile() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.source;\n\n      if (!source.startsWith('#version ')) {\n        source = \"#version 100\\n\".concat(source);\n      }\n\n      this.source = source;\n      this.gl.shaderSource(this.handle, this.source);\n      this.gl.compileShader(this.handle);\n      var compileStatus = this.getParameter(35713);\n\n      if (!compileStatus) {\n        var infoLog = this.gl.getShaderInfoLog(this.handle);\n\n        var _parseGLSLCompilerErr = (0, _glslUtils.parseGLSLCompilerError)(infoLog, this.source, this.shaderType, this.id),\n            shaderName = _parseGLSLCompilerErr.shaderName,\n            errors = _parseGLSLCompilerErr.errors,\n            warnings = _parseGLSLCompilerErr.warnings;\n\n        _gltools.log.error(\"GLSL compilation errors in \".concat(shaderName, \"\\n\").concat(errors))();\n\n        _gltools.log.warn(\"GLSL compilation warnings in \".concat(shaderName, \"\\n\").concat(warnings))();\n\n        throw new Error(\"GLSL compilation errors in \".concat(shaderName));\n      }\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteShader(this.handle);\n    }\n  }, {\n    key: \"_getOptsFromHandle\",\n    value: function _getOptsFromHandle() {\n      return {\n        type: this.getParameter(35663),\n        source: this.getSource()\n      };\n    }\n  }]);\n  return Shader;\n}(_resource[\"default\"]);\n\nexports.Shader = Shader;\n\nvar VertexShader = function (_Shader) {\n  (0, _inherits2[\"default\"])(VertexShader, _Shader);\n\n  function VertexShader(gl, props) {\n    (0, _classCallCheck2[\"default\"])(this, VertexShader);\n\n    if (typeof props === 'string') {\n      props = {\n        source: props\n      };\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(VertexShader).call(this, gl, Object.assign({}, props, {\n      shaderType: 35633\n    })));\n  }\n\n  (0, _createClass2[\"default\"])(VertexShader, [{\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createShader(35633);\n    }\n  }]);\n  return VertexShader;\n}(Shader);\n\nexports.VertexShader = VertexShader;\n\nvar FragmentShader = function (_Shader2) {\n  (0, _inherits2[\"default\"])(FragmentShader, _Shader2);\n\n  function FragmentShader(gl, props) {\n    (0, _classCallCheck2[\"default\"])(this, FragmentShader);\n\n    if (typeof props === 'string') {\n      props = {\n        source: props\n      };\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(FragmentShader).call(this, gl, Object.assign({}, props, {\n      shaderType: 35632\n    })));\n  }\n\n  (0, _createClass2[\"default\"])(FragmentShader, [{\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createShader(35632);\n    }\n  }]);\n  return FragmentShader;\n}(Shader);\n\nexports.FragmentShader = FragmentShader;\n//# sourceMappingURL=shader.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","FragmentShader","VertexShader","Shader","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","_createClass2","_inherits2","_gltools","_glslUtils","_webglUtils","_utils","_Resource","gl","props","assertWebGLContext","assert","source","ERR_SOURCE","id","getShaderName","uid","concat","getTypeName","shaderType","_this","call","initialize","key","_ref","shaderName","_compile","getParameter","pname","getShaderParameter","handle","toString","getName","getSource","getShaderSource","getTranslatedSource","extension","getExtension","getTranslatedShaderSource","arguments","length","undefined","startsWith","shaderSource","compileShader","compileStatus","infoLog","getShaderInfoLog","_parseGLSLCompilerErr","parseGLSLCompilerError","errors","warnings","log","error","warn","Error","_deleteHandle","deleteShader","_getOptsFromHandle","type","_resource","_Shader","assign","_createHandle","createShader","_Shader2"]
}
