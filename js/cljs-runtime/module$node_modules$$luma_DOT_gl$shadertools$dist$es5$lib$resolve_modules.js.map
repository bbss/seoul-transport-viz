{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$shadertools$dist$es5$lib$resolve_modules.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/shadertools/dist/es5/lib/resolve-modules.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$shadertools$dist$es5$lib$resolve_modules\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolveModules = resolveModules;\nexports.TEST_EXPORTS = void 0;\n\nvar _shaderModule = _interopRequireDefault(require(\"./shader-module\"));\n\nvar _utils = require(\"../utils\");\n\nfunction resolveModules(modules) {\n  return getShaderDependencies(instantiateModules(modules));\n}\n\nfunction getShaderDependencies(modules) {\n  var moduleMap = {};\n  var moduleDepth = {};\n  getDependencyGraph({\n    modules: modules,\n    level: 0,\n    moduleMap: moduleMap,\n    moduleDepth: moduleDepth\n  });\n  return Object.keys(moduleDepth).sort(function (a, b) {\n    return moduleDepth[b] - moduleDepth[a];\n  }).map(function (name) {\n    return moduleMap[name];\n  });\n}\n\nfunction getDependencyGraph(_ref) {\n  var modules = _ref.modules,\n      level = _ref.level,\n      moduleMap = _ref.moduleMap,\n      moduleDepth = _ref.moduleDepth;\n\n  if (level >= 5) {\n    throw new Error('Possible loop in shader dependency graph');\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = modules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var module = _step.value;\n      moduleMap[module.name] = module;\n\n      if (moduleDepth[module.name] === undefined || moduleDepth[module.name] < level) {\n        moduleDepth[module.name] = level;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = modules[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _module = _step2.value;\n\n      if (_module.dependencies) {\n        getDependencyGraph({\n          modules: _module.dependencies,\n          level: level + 1,\n          moduleMap: moduleMap,\n          moduleDepth: moduleDepth\n        });\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\nfunction instantiateModules(modules, seen) {\n  return modules.map(function (module) {\n    if (module instanceof _shaderModule[\"default\"]) {\n      return module;\n    }\n\n    (0, _utils.assert)(typeof module !== 'string', \"Shader module use by name is deprecated. Import shader module '\".concat(module, \"' and use it directly.\"));\n    (0, _utils.assert)(module.name, 'shader module has no name');\n    module = new _shaderModule[\"default\"](module);\n    module.dependencies = instantiateModules(module.dependencies);\n    return module;\n  });\n}\n\nvar TEST_EXPORTS = {\n  getShaderDependencies: getShaderDependencies,\n  getDependencyGraph: getDependencyGraph\n};\nexports.TEST_EXPORTS = TEST_EXPORTS;\n//# sourceMappingURL=resolve-modules.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","getShaderDependencies","modules","moduleMap","moduleDepth","getDependencyGraph","level","Object","keys","sort","a","b","map","name","_ref","Error","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","Symbol","iterator","_step","done","next","value","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_module","dependencies","instantiateModules","seen","_shaderModule","_utils","assert","concat","_interopRequireDefault","defineProperty","resolveModules","TEST_EXPORTS"]
}
