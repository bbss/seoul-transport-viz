shadow$provide.module$node_modules$$loaders_DOT_gl$core$dist$es5$worker_utils$worker_farm=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _regenerator=global(require("module$node_modules$$babel$runtime$regenerator$index")),_asyncToGenerator2=global(require("module$node_modules$$babel$runtime$helpers$asyncToGenerator")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),
_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_workerPool=global(require("module$node_modules$$loaders_DOT_gl$core$dist$es5$worker_utils$worker_pool"));require=function(){function WorkerFarm(_ref){var _ref$maxConcurrency=_ref.maxConcurrency;_ref$maxConcurrency=void 0===_ref$maxConcurrency?5:_ref$maxConcurrency;var onMessage=_ref.onMessage;_ref=_ref.onDebug;_ref=void 0===_ref?function(){}:_ref;(0,_classCallCheck2["default"])(this,WorkerFarm);this.maxConcurrency=
_ref$maxConcurrency;this.onMessage=onMessage;this.onDebug=_ref;this.workerPools=new Map}(0,_createClass2["default"])(WorkerFarm,null,[{key:"isSupported",value:function(){return"undefined"!==typeof Worker}}]);(0,_createClass2["default"])(WorkerFarm,[{key:"setProps",value:function(props){"maxConcurrency"in props&&(this.maxConcurrency=props.maxConcurrency);"onDebug"in props&&(this.onDebug=props.onDebug)}},{key:"destroy",value:function(){this.workerPools.forEach(function(workerPool){return workerPool.destroy()})}},
{key:"process",value:function(){var _process=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee(workerSource,workerName,data){var workerPool;return _regenerator["default"].wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return workerPool=this._getWorkerPool(workerSource,workerName),_context.abrupt("return",workerPool.process(data));case 2:case "end":return _context.stop()}},_callee,this)}));return function(_x,_x2,_x3){return _process.apply(this,
arguments)}}()},{key:"_getWorkerPool",value:function(workerSource,workerName){var workerPool=this.workerPools.get(workerName);workerPool||(workerPool=new _workerPool["default"]({source:workerSource,name:workerName,onMessage:this.onMessage,maxConcurrency:this.maxConcurrency,onDebug:this.onDebug}),this.workerPools.set(workerName,workerPool));return workerPool}}]);return WorkerFarm}();exports["default"]=require}
//# sourceMappingURL=module$node_modules$$loaders_DOT_gl$core$dist$es5$worker_utils$worker_farm.js.map
