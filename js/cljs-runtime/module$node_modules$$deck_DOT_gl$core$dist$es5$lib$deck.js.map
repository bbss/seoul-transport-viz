{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$deck.js",
"lineCount":37,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/lib/deck.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$deck\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _layerManager = _interopRequireDefault(require(\"./layer-manager\"));\n\nvar _viewManager = _interopRequireDefault(require(\"./view-manager\"));\n\nvar _mapView = _interopRequireDefault(require(\"../views/map-view\"));\n\nvar _effectManager = _interopRequireDefault(require(\"./effect-manager\"));\n\nvar _effect = _interopRequireDefault(require(\"./effect\"));\n\nvar _deckRenderer = _interopRequireDefault(require(\"./deck-renderer\"));\n\nvar _deckPicker = _interopRequireDefault(require(\"./deck-picker\"));\n\nvar _tooltip = _interopRequireDefault(require(\"./tooltip\"));\n\nvar _log = _interopRequireDefault(require(\"../utils/log\"));\n\nvar _deepEqual = require(\"../utils/deep-equal\");\n\nvar _init = _interopRequireDefault(require(\"./init\"));\n\nvar _env = require(\"probe.gl/env\");\n\nvar _core = require(\"@luma.gl/core\");\n\nvar _probe = require(\"probe.gl\");\n\nvar _mjolnir = require(\"mjolnir.js\");\n\nvar _assert = _interopRequireDefault(require(\"../utils/assert\"));\n\nvar _constants = require(\"./constants\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction noop() {}\n\nvar getCursor = function getCursor(_ref) {\n  var isDragging = _ref.isDragging;\n  return isDragging ? 'grabbing' : 'grab';\n};\n\nfunction getPropTypes(PropTypes) {\n  return {\n    id: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    layers: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    layerFilter: PropTypes.func,\n    views: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    viewState: PropTypes.object,\n    effects: PropTypes.arrayOf(PropTypes.instanceOf(_effect[\"default\"])),\n    controller: PropTypes.oneOfType([PropTypes.func, PropTypes.bool, PropTypes.object]),\n    gl: PropTypes.object,\n    glOptions: PropTypes.object,\n    parameters: PropTypes.object,\n    pickingRadius: PropTypes.number,\n    useDevicePixels: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n    touchAction: PropTypes.string,\n    onWebGLInitialized: PropTypes.func,\n    onResize: PropTypes.func,\n    onViewStateChange: PropTypes.func,\n    onBeforeRender: PropTypes.func,\n    onAfterRender: PropTypes.func,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func,\n    debug: PropTypes.bool,\n    drawPickingColors: PropTypes.bool,\n    _framebuffer: PropTypes.object,\n    _animate: PropTypes.bool\n  };\n}\n\nvar defaultProps = {\n  id: 'deckgl-overlay',\n  width: '100%',\n  height: '100%',\n  pickingRadius: 0,\n  layerFilter: null,\n  glOptions: {},\n  gl: null,\n  layers: [],\n  effects: [],\n  views: null,\n  controller: null,\n  useDevicePixels: true,\n  touchAction: 'none',\n  _framebuffer: null,\n  _animate: false,\n  onWebGLInitialized: noop,\n  onResize: noop,\n  onViewStateChange: noop,\n  onBeforeRender: noop,\n  onAfterRender: noop,\n  onLoad: noop,\n  onError: null,\n  _onMetrics: null,\n  getCursor: getCursor,\n  debug: false,\n  drawPickingColors: false\n};\n\nvar Deck = function () {\n  function Deck(props) {\n    (0, _classCallCheck2[\"default\"])(this, Deck);\n    props = Object.assign({}, defaultProps, props);\n    this.props = {};\n    this.width = 0;\n    this.height = 0;\n    this.viewManager = null;\n    this.layerManager = null;\n    this.effectManager = null;\n    this.deckRenderer = null;\n    this.deckPicker = null;\n    this._needsRedraw = true;\n    this._pickRequest = {};\n    this._lastPointerDownInfo = null;\n    this.viewState = null;\n    this.interactiveState = {\n      isDragging: false\n    };\n    this._onEvent = this._onEvent.bind(this);\n    this._onPointerDown = this._onPointerDown.bind(this);\n    this._onPointerMove = this._onPointerMove.bind(this);\n    this._pickAndCallback = this._pickAndCallback.bind(this);\n    this._onRendererInitialized = this._onRendererInitialized.bind(this);\n    this._onRenderFrame = this._onRenderFrame.bind(this);\n    this._onViewStateChange = this._onViewStateChange.bind(this);\n    this._onInteractiveStateChange = this._onInteractiveStateChange.bind(this);\n\n    if (props.viewState && props.initialViewState) {\n      _log[\"default\"].warn('View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.')();\n    }\n\n    if ((0, _env.getBrowser)() === 'IE') {\n      _log[\"default\"].warn('IE 11 support will be deprecated in v8.0')();\n    }\n\n    if (!props.gl) {\n      if (typeof document !== 'undefined') {\n        this.canvas = this._createCanvas(props);\n      }\n    }\n\n    this.animationLoop = this._createAnimationLoop(props);\n    this.stats = new _probe.Stats({\n      id: 'deck.gl'\n    });\n    this.metrics = {\n      fps: 0,\n      setPropsTime: 0,\n      updateAttributesTime: 0,\n      framesRedrawn: 0,\n      pickTime: 0,\n      pickCount: 0,\n      gpuTime: 0,\n      gpuTimePerFrame: 0,\n      cpuTime: 0,\n      cpuTimePerFrame: 0,\n      bufferMemory: 0,\n      textureMemory: 0,\n      renderbufferMemory: 0,\n      gpuMemory: 0\n    };\n    this._metricsCounter = 0;\n    this.setProps(props);\n    this.animationLoop.start();\n  }\n\n  (0, _createClass2[\"default\"])(Deck, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this.animationLoop.stop();\n      this.animationLoop = null;\n      this._lastPointerDownInfo = null;\n\n      if (this.layerManager) {\n        this.layerManager.finalize();\n        this.layerManager = null;\n        this.viewManager.finalize();\n        this.viewManager = null;\n        this.effectManager.finalize();\n        this.effectManager = null;\n        this.deckRenderer.finalize();\n        this.deckRenderer = null;\n        this.deckPicker.finalize();\n        this.deckPicker = null;\n        this.eventManager.destroy();\n        this.eventManager = null;\n        this.tooltip.remove();\n        this.tooltip = null;\n      }\n\n      if (!this.props.canvas && !this.props.gl && this.canvas) {\n        this.canvas.parentElement.removeChild(this.canvas);\n        this.canvas = null;\n      }\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this.stats.get('setProps Time').timeStart();\n\n      if ('onLayerHover' in props) {\n        _log[\"default\"].removed('onLayerHover', 'onHover')();\n      }\n\n      if ('onLayerClick' in props) {\n        _log[\"default\"].removed('onLayerClick', 'onClick')();\n      }\n\n      if (props.initialViewState && !(0, _deepEqual.deepEqual)(this.props.initialViewState, props.initialViewState)) {\n        this.viewState = props.initialViewState;\n      }\n\n      Object.assign(this.props, props);\n\n      this._setCanvasSize(this.props);\n\n      var resolvedProps = Object.create(this.props);\n      Object.assign(resolvedProps, {\n        views: this._getViews(),\n        width: this.width,\n        height: this.height,\n        viewState: this._getViewState()\n      });\n      this.animationLoop.setProps(resolvedProps);\n\n      if (this.layerManager) {\n        this.viewManager.setProps(resolvedProps);\n        this.layerManager.activateViewport(this.getViewports()[0]);\n        this.layerManager.setProps(resolvedProps);\n        this.effectManager.setProps(resolvedProps);\n        this.deckRenderer.setProps(resolvedProps);\n        this.deckPicker.setProps(resolvedProps);\n      }\n\n      this.stats.get('setProps Time').timeEnd();\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n\n      if (this.props._animate) {\n        return 'Deck._animate';\n      }\n\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      var viewManagerNeedsRedraw = this.viewManager.needsRedraw(opts);\n      var layerManagerNeedsRedraw = this.layerManager.needsRedraw(opts);\n      var effectManagerNeedsRedraw = this.effectManager.needsRedraw(opts);\n      var deckRendererNeedsRedraw = this.deckRenderer.needsRedraw(opts);\n      redraw = redraw || viewManagerNeedsRedraw || layerManagerNeedsRedraw || effectManagerNeedsRedraw || deckRendererNeedsRedraw;\n      return redraw;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw(force) {\n      if (!this.layerManager) {\n        return;\n      }\n\n      var redrawReason = force || this.needsRedraw({\n        clearRedrawFlags: true\n      });\n\n      if (!redrawReason) {\n        return;\n      }\n\n      this.stats.get('Redraw Count').incrementCount();\n\n      if (this.props._customRender) {\n        this.props._customRender(redrawReason);\n      } else {\n        this._drawLayers(redrawReason);\n      }\n    }\n  }, {\n    key: \"getViews\",\n    value: function getViews() {\n      return this.viewManager.views;\n    }\n  }, {\n    key: \"getViewports\",\n    value: function getViewports(rect) {\n      return this.viewManager.getViewports(rect);\n    }\n  }, {\n    key: \"pickObject\",\n    value: function pickObject(opts) {\n      var infos = this._pick('pickObject', 'pickObject Time', opts).result;\n\n      return infos.length ? infos[0] : null;\n    }\n  }, {\n    key: \"pickMultipleObjects\",\n    value: function pickMultipleObjects(opts) {\n      opts.depth = opts.depth || 10;\n      return this._pick('pickObject', 'pickMultipleObjects Time', opts).result;\n    }\n  }, {\n    key: \"pickObjects\",\n    value: function pickObjects(opts) {\n      return this._pick('pickObjects', 'pickObjects Time', opts);\n    }\n  }, {\n    key: \"_addResources\",\n    value: function _addResources(resources) {\n      var forceUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      for (var id in resources) {\n        this.layerManager.resourceManager.add({\n          resourceId: id,\n          data: resources[id],\n          forceUpdate: forceUpdate\n        });\n      }\n    }\n  }, {\n    key: \"_removeResources\",\n    value: function _removeResources(resourceIds) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = resourceIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var id = _step.value;\n          this.layerManager.resourceManager.remove(id);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_pick\",\n    value: function _pick(method, statKey, opts) {\n      var stats = this.stats;\n      stats.get('Pick Count').incrementCount();\n      stats.get(statKey).timeStart();\n      var infos = this.deckPicker[method](Object.assign({\n        layers: this.layerManager.getLayers(opts),\n        viewports: this.getViewports(opts),\n        onViewportActive: this.layerManager.activateViewport\n      }, opts));\n      stats.get(statKey).timeEnd();\n      return infos;\n    }\n  }, {\n    key: \"_createCanvas\",\n    value: function _createCanvas(props) {\n      var canvas = props.canvas;\n\n      if (typeof canvas === 'string') {\n        canvas = document.getElementById(canvas);\n        (0, _assert[\"default\"])(canvas);\n      }\n\n      if (!canvas) {\n        canvas = document.createElement('canvas');\n        var parent = props.parent || document.body;\n        parent.appendChild(canvas);\n      }\n\n      var id = props.id,\n          style = props.style;\n      canvas.id = id;\n      Object.assign(canvas.style, style);\n      return canvas;\n    }\n  }, {\n    key: \"_setCanvasSize\",\n    value: function _setCanvasSize(props) {\n      if (!this.canvas) {\n        return;\n      }\n\n      var width = props.width,\n          height = props.height;\n\n      if (width || width === 0) {\n        width = Number.isFinite(width) ? \"\".concat(width, \"px\") : width;\n        this.canvas.style.width = width;\n      }\n\n      if (height || height === 0) {\n        height = Number.isFinite(height) ? \"\".concat(height, \"px\") : height;\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.height = height;\n      }\n    }\n  }, {\n    key: \"_updateCanvasSize\",\n    value: function _updateCanvasSize() {\n      if (this._checkForCanvasSizeChange()) {\n        var width = this.width,\n            height = this.height;\n        this.viewManager.setProps({\n          width: width,\n          height: height\n        });\n        this.props.onResize({\n          width: this.width,\n          height: this.height\n        });\n      }\n    }\n  }, {\n    key: \"_checkForCanvasSizeChange\",\n    value: function _checkForCanvasSizeChange() {\n      var canvas = this.canvas;\n\n      if (!canvas) {\n        return false;\n      }\n\n      var newWidth = canvas.clientWidth || canvas.width;\n      var newHeight = canvas.clientHeight || canvas.height;\n\n      if (newWidth !== this.width || newHeight !== this.height) {\n        this.width = newWidth;\n        this.height = newHeight;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_createAnimationLoop\",\n    value: function _createAnimationLoop(props) {\n      var _this = this;\n\n      var width = props.width,\n          height = props.height,\n          gl = props.gl,\n          glOptions = props.glOptions,\n          debug = props.debug,\n          useDevicePixels = props.useDevicePixels,\n          autoResizeDrawingBuffer = props.autoResizeDrawingBuffer;\n      return new _core.AnimationLoop({\n        width: width,\n        height: height,\n        useDevicePixels: useDevicePixels,\n        autoResizeDrawingBuffer: autoResizeDrawingBuffer,\n        autoResizeViewport: false,\n        gl: gl,\n        onCreateContext: function onCreateContext(opts) {\n          return (0, _core.createGLContext)(Object.assign({}, glOptions, opts, {\n            canvas: _this.canvas,\n            debug: debug\n          }));\n        },\n        onInitialize: this._onRendererInitialized,\n        onRender: this._onRenderFrame,\n        onBeforeRender: props.onBeforeRender,\n        onAfterRender: props.onAfterRender\n      });\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState() {\n      return this.props.viewState || this.viewState;\n    }\n  }, {\n    key: \"_getViews\",\n    value: function _getViews() {\n      var views = this.props.views || [new _mapView[\"default\"]({\n        id: 'default-view'\n      })];\n      views = Array.isArray(views) ? views : [views];\n\n      if (views.length && this.props.controller) {\n        views[0].props.controller = this.props.controller;\n      }\n\n      return views;\n    }\n  }, {\n    key: \"_onPointerMove\",\n    value: function _onPointerMove(event) {\n      var _pickRequest = this._pickRequest;\n\n      if (event.type === 'pointerleave') {\n        _pickRequest.x = -1;\n        _pickRequest.y = -1;\n        _pickRequest.radius = 0;\n      } else if (event.leftButton || event.rightButton) {\n        return;\n      } else {\n        var pos = event.offsetCenter;\n\n        if (!pos) {\n          return;\n        }\n\n        _pickRequest.x = pos.x;\n        _pickRequest.y = pos.y;\n        _pickRequest.radius = this.props.pickingRadius;\n      }\n\n      if (this.layerManager) {\n        this.layerManager.context.mousePosition = {\n          x: _pickRequest.x,\n          y: _pickRequest.y\n        };\n      }\n\n      _pickRequest.event = event;\n      _pickRequest.mode = 'hover';\n    }\n  }, {\n    key: \"_pickAndCallback\",\n    value: function _pickAndCallback() {\n      var _pickRequest = this._pickRequest;\n\n      if (_pickRequest.event) {\n        var _this$_pick = this._pick('pickObject', 'pickObject Time', _pickRequest),\n            result = _this$_pick.result,\n            emptyInfo = _this$_pick.emptyInfo;\n\n        var pickedInfo = emptyInfo;\n        var handled = false;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = result[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var info = _step2.value;\n            pickedInfo = info;\n            handled = info.layer.onHover(info, _pickRequest.event);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        if (!handled && this.props.onHover) {\n          this.props.onHover(pickedInfo, _pickRequest.event);\n        }\n\n        if (this.props.getTooltip) {\n          var displayInfo = this.props.getTooltip(pickedInfo);\n          this.tooltip.setTooltip(displayInfo, pickedInfo.x, pickedInfo.y);\n        }\n\n        _pickRequest.event = null;\n      }\n    }\n  }, {\n    key: \"_updateCursor\",\n    value: function _updateCursor() {\n      var container = this.props.parent || this.canvas;\n\n      if (container) {\n        container.style.cursor = this.props.getCursor(this.interactiveState);\n      }\n    }\n  }, {\n    key: \"_setGLContext\",\n    value: function _setGLContext(gl) {\n      if (this.layerManager) {\n        return;\n      }\n\n      if (!this.canvas) {\n        this.canvas = gl.canvas;\n        (0, _core.instrumentGLContext)(gl, {\n          enable: true,\n          copyState: true\n        });\n      }\n\n      this.tooltip = new _tooltip[\"default\"](this.canvas);\n      (0, _core.setParameters)(gl, {\n        blend: true,\n        blendFunc: [770, 771, 1, 771],\n        polygonOffsetFill: true,\n        depthTest: true,\n        depthFunc: 515\n      });\n      this.props.onWebGLInitialized(gl);\n      var timeline = new _core.Timeline();\n      timeline.play();\n      this.animationLoop.attachTimeline(timeline);\n      this.eventManager = new _mjolnir.EventManager(this.props.parent || gl.canvas, {\n        touchAction: this.props.touchAction,\n        events: {\n          pointerdown: this._onPointerDown,\n          pointermove: this._onPointerMove,\n          pointerleave: this._onPointerMove\n        }\n      });\n\n      for (var eventType in _constants.EVENTS) {\n        this.eventManager.on(eventType, this._onEvent);\n      }\n\n      this.viewManager = new _viewManager[\"default\"]({\n        timeline: timeline,\n        eventManager: this.eventManager,\n        onViewStateChange: this._onViewStateChange,\n        onInteractiveStateChange: this._onInteractiveStateChange,\n        views: this._getViews(),\n        viewState: this._getViewState(),\n        width: this.width,\n        height: this.height\n      });\n      var viewport = this.viewManager.getViewports()[0];\n      this.layerManager = new _layerManager[\"default\"](gl, {\n        deck: this,\n        stats: this.stats,\n        viewport: viewport,\n        timeline: timeline\n      });\n      this.effectManager = new _effectManager[\"default\"]();\n      this.deckRenderer = new _deckRenderer[\"default\"](gl);\n      this.deckPicker = new _deckPicker[\"default\"](gl);\n      this.setProps(this.props);\n\n      this._updateCanvasSize();\n\n      this.props.onLoad();\n    }\n  }, {\n    key: \"_drawLayers\",\n    value: function _drawLayers(redrawReason, renderOptions) {\n      var gl = this.layerManager.context.gl;\n      (0, _core.setParameters)(gl, this.props.parameters);\n      this.props.onBeforeRender({\n        gl: gl\n      });\n      this.deckRenderer.renderLayers(Object.assign({\n        target: this.props._framebuffer,\n        layers: this.layerManager.getLayers(),\n        viewports: this.viewManager.getViewports(),\n        onViewportActive: this.layerManager.activateViewport,\n        views: this.viewManager.getViews(),\n        pass: 'screen',\n        redrawReason: redrawReason,\n        effects: this.effectManager.getEffects()\n      }, renderOptions));\n      this.props.onAfterRender({\n        gl: gl\n      });\n    }\n  }, {\n    key: \"_onRendererInitialized\",\n    value: function _onRendererInitialized(_ref2) {\n      var gl = _ref2.gl;\n\n      this._setGLContext(gl);\n    }\n  }, {\n    key: \"_onRenderFrame\",\n    value: function _onRenderFrame(animationProps) {\n      this._getFrameStats();\n\n      if (this._metricsCounter++ % 60 === 0) {\n        this._getMetrics();\n\n        this.stats.reset();\n\n        _log[\"default\"].table(4, this.metrics)();\n\n        if (this.props._onMetrics) {\n          this.props._onMetrics(this.metrics);\n        }\n      }\n\n      this._updateCanvasSize();\n\n      this._updateCursor();\n\n      this.layerManager.updateLayers();\n\n      this._pickAndCallback();\n\n      this.redraw(false);\n\n      if (this.viewManager) {\n        this.viewManager.updateViewStates();\n      }\n    }\n  }, {\n    key: \"_onViewStateChange\",\n    value: function _onViewStateChange(params) {\n      var viewState = this.props.onViewStateChange(params) || params.viewState;\n\n      if (this.viewState) {\n        this.viewState = _objectSpread({}, this.viewState, (0, _defineProperty2[\"default\"])({}, params.viewId, viewState));\n\n        if (!this.props.viewState) {\n          this.viewManager.setProps({\n            viewState: this.viewState\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_onInteractiveStateChange\",\n    value: function _onInteractiveStateChange(_ref3) {\n      var _ref3$isDragging = _ref3.isDragging,\n          isDragging = _ref3$isDragging === void 0 ? false : _ref3$isDragging;\n\n      if (isDragging !== this.interactiveState.isDragging) {\n        this.interactiveState.isDragging = isDragging;\n      }\n    }\n  }, {\n    key: \"_onEvent\",\n    value: function _onEvent(event) {\n      var eventOptions = _constants.EVENTS[event.type];\n      var pos = event.offsetCenter;\n\n      if (!eventOptions || !pos) {\n        return;\n      }\n\n      var layers = this.layerManager.getLayers();\n      var info = this.deckPicker.getLastPickedObject({\n        x: pos.x,\n        y: pos.y,\n        layers: layers,\n        viewports: this.getViewports(pos)\n      }, this._lastPointerDownInfo);\n      var layer = info.layer;\n      var layerHandler = layer && (layer[eventOptions.handler] || layer.props[eventOptions.handler]);\n      var rootHandler = this.props[eventOptions.handler];\n      var handled = false;\n\n      if (layerHandler) {\n        handled = layerHandler.call(layer, info, event);\n      }\n\n      if (!handled && rootHandler) {\n        rootHandler(info, event);\n      }\n    }\n  }, {\n    key: \"_onPointerDown\",\n    value: function _onPointerDown(event) {\n      var pos = event.offsetCenter;\n      this._lastPointerDownInfo = this.pickObject({\n        x: pos.x,\n        y: pos.y,\n        radius: this.props.pickingRadius\n      });\n    }\n  }, {\n    key: \"_getFrameStats\",\n    value: function _getFrameStats() {\n      var stats = this.stats;\n      stats.get('frameRate').timeEnd();\n      stats.get('frameRate').timeStart();\n      var animationLoopStats = this.animationLoop.stats;\n      stats.get('GPU Time').addTime(animationLoopStats.get('GPU Time').lastTiming);\n      stats.get('CPU Time').addTime(animationLoopStats.get('CPU Time').lastTiming);\n    }\n  }, {\n    key: \"_getMetrics\",\n    value: function _getMetrics() {\n      var metrics = this.metrics,\n          stats = this.stats;\n      metrics.fps = stats.get('frameRate').getHz();\n      metrics.setPropsTime = stats.get('setProps Time').time;\n      metrics.updateAttributesTime = stats.get('Update Attributes').time;\n      metrics.framesRedrawn = stats.get('Redraw Count').count;\n      metrics.pickTime = stats.get('pickObject Time').time + stats.get('pickMultipleObjects Time').time + stats.get('pickObjects Time').time;\n      metrics.pickCount = stats.get('Pick Count').count;\n      metrics.gpuTime = stats.get('GPU Time').time;\n      metrics.cpuTime = stats.get('CPU Time').time;\n      metrics.gpuTimePerFrame = stats.get('GPU Time').getAverageTime();\n      metrics.cpuTimePerFrame = stats.get('CPU Time').getAverageTime();\n\n      var memoryStats = _core.lumaStats.get('Memory Usage');\n\n      metrics.bufferMemory = memoryStats.get('Buffer Memory').count;\n      metrics.textureMemory = memoryStats.get('Texture Memory').count;\n      metrics.renderbufferMemory = memoryStats.get('Renderbuffer Memory').count;\n      metrics.gpuMemory = memoryStats.get('GPU Memory').count;\n    }\n  }]);\n  return Deck;\n}();\n\nexports[\"default\"] = Deck;\nDeck.getPropTypes = getPropTypes;\nDeck.defaultProps = defaultProps;\nDeck.VERSION = _init[\"default\"].VERSION;\n//# sourceMappingURL=deck.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","noop","_interopRequireDefault","value","_classCallCheck2","_createClass2","_layerManager","_viewManager","_mapView","_effectManager","_effect","_deckRenderer","_deckPicker","_tooltip","_log","_deepEqual","_init","_env","_core","_probe","_mjolnir","_assert","_constants","defaultProps","id","width","height","pickingRadius","layerFilter","glOptions","gl","layers","effects","views","controller","useDevicePixels","touchAction","_framebuffer","_animate","onWebGLInitialized","onResize","onViewStateChange","onBeforeRender","onAfterRender","onLoad","onError","_onMetrics","getCursor","_ref","isDragging","debug","drawPickingColors","Deck","props","assign","deckPicker","deckRenderer","effectManager","layerManager","viewManager","_needsRedraw","_pickRequest","viewState","_lastPointerDownInfo","interactiveState","_onEvent","bind","_onPointerDown","_onPointerMove","_pickAndCallback","_onRendererInitialized","_onRenderFrame","_onViewStateChange","_onInteractiveStateChange","initialViewState","warn","getBrowser","document","canvas","_createCanvas","animationLoop","_createAnimationLoop","stats","Stats","metrics","fps","setPropsTime","updateAttributesTime","framesRedrawn","pickTime","pickCount","gpuTime","gpuTimePerFrame","cpuTime","cpuTimePerFrame","bufferMemory","textureMemory","renderbufferMemory","gpuMemory","_metricsCounter","setProps","start","finalize","stop","eventManager","destroy","tooltip","remove","parentElement","removeChild","get","timeStart","removed","deepEqual","_setCanvasSize","resolvedProps","create","_getViews","_getViewState","activateViewport","getViewports","timeEnd","needsRedraw","opts","undefined","clearRedrawFlags","redraw","viewManagerNeedsRedraw","layerManagerNeedsRedraw","effectManagerNeedsRedraw","deckRendererNeedsRedraw","force","redrawReason","incrementCount","_customRender","_drawLayers","getViews","rect","pickObject","infos","_pick","result","pickMultipleObjects","depth","pickObjects","_addResources","resources","forceUpdate","resourceManager","add","resourceId","data","_removeResources","resourceIds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","err","method","statKey","getLayers","viewports","onViewportActive","getElementById","createElement","appendChild","parent","body","style","Number","isFinite","concat","position","_updateCanvasSize","_checkForCanvasSizeChange","newWidth","clientWidth","newHeight","clientHeight","_this","AnimationLoop","autoResizeDrawingBuffer","autoResizeViewport","onCreateContext","createGLContext","onInitialize","onRender","Array","isArray","event","type","x","y","radius","leftButton","rightButton","pos","offsetCenter","context","mousePosition","mode","_this$_pick","pickedInfo","emptyInfo","handled","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","info","layer","onHover","getTooltip","displayInfo","setTooltip","_updateCursor","container","cursor","_setGLContext","instrumentGLContext","enable","copyState","setParameters","blend","blendFunc","polygonOffsetFill","depthTest","depthFunc","timeline","Timeline","play","attachTimeline","EventManager","events","pointerdown","pointermove","pointerleave","eventType","EVENTS","on","onInteractiveStateChange","viewport","deck","renderOptions","parameters","renderLayers","pass","getEffects","_ref2","animationProps","_getFrameStats","_getMetrics","reset","table","updateLayers","updateViewStates","params","viewId","_ref3","_ref3$isDragging","eventOptions","getLastPickedObject","layerHandler","handler","rootHandler","call","animationLoopStats","addTime","lastTiming","getHz","time","count","getAverageTime","memoryStats","lumaStats","getPropTypes","PropTypes","string","oneOfType","number","array","func","arrayOf","instanceOf","bool","VERSION"]
}
