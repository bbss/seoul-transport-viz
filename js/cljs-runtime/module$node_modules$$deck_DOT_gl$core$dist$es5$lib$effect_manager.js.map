{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$effect_manager.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/lib/effect-manager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$effect_manager\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _deepEqual = require(\"../utils/deep-equal\");\n\nvar _lightingEffect = _interopRequireDefault(require(\"../effects/lighting/lighting-effect\"));\n\nvar DEFAULT_LIGHTING_EFFECT = new _lightingEffect[\"default\"]();\n\nvar EffectManager = function () {\n  function EffectManager() {\n    (0, _classCallCheck2[\"default\"])(this, EffectManager);\n    this.effects = [];\n    this._internalEffects = [];\n    this._needsRedraw = 'Initial render';\n    this.setEffects();\n  }\n\n  (0, _createClass2[\"default\"])(EffectManager, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('effects' in props) {\n        if (props.effects.length !== this.effects.length || !(0, _deepEqual.deepEqual)(props.effects, this.effects)) {\n          this.setEffects(props.effects);\n          this._needsRedraw = 'effects changed';\n        }\n      }\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"getEffects\",\n    value: function getEffects() {\n      return this._internalEffects;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.cleanup();\n    }\n  }, {\n    key: \"setEffects\",\n    value: function setEffects() {\n      var effects = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.cleanup();\n      this.effects = effects;\n\n      this._createInternalEffects();\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.effects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var effect = _step.value;\n          effect.cleanup();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this._internalEffects[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _effect = _step2.value;\n\n          _effect.cleanup();\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this.effects.length = 0;\n      this._internalEffects.length = 0;\n    }\n  }, {\n    key: \"_createInternalEffects\",\n    value: function _createInternalEffects() {\n      this._internalEffects = this.effects.slice();\n\n      if (!this.effects.some(function (effect) {\n        return effect instanceof _lightingEffect[\"default\"];\n      })) {\n        this._internalEffects.push(DEFAULT_LIGHTING_EFFECT);\n      }\n    }\n  }]);\n  return EffectManager;\n}();\n\nexports[\"default\"] = EffectManager;\n//# sourceMappingURL=effect-manager.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_deepEqual","_lightingEffect","DEFAULT_LIGHTING_EFFECT","EffectManager","effects","_internalEffects","_needsRedraw","setEffects","key","setProps","props","length","deepEqual","needsRedraw","redraw","clearRedrawFlags","opts","arguments","undefined","getEffects","finalize","cleanup","_createInternalEffects","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","slice","some","effect","push"]
}
