shadow$provide.module$node_modules$react_map_gl$dist$es5$components$source=function(global,require,module,exports){function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=(0,_getPrototypeOf2["default"])(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,
Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=
void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_assertThisInitialized2=global(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=
global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),React=module(require("module$node_modules$react$index"));module=global(require("module$node_modules$prop_types$index"));var _mapContext=global(require("module$node_modules$react_map_gl$dist$es5$components$map_context")),_assert=global(require("module$node_modules$react_map_gl$dist$es5$utils$assert")),_deepEqual=global(require("module$node_modules$react_map_gl$dist$es5$utils$deep_equal"));
require={type:module["default"].string.isRequired,id:module["default"].string};var sourceCounter=0;global=function(_PureComponent){function Source(_props){(0,_classCallCheck2["default"])(this,Source);var _this=_super.call(this,_props);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"id",void 0);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"type",void 0);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_map",
null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_sourceOptions",{});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"_updateSource",function(){var _assertThisInitialize=(0,_assertThisInitialized2["default"])(_this),type=_assertThisInitialize.type;if(_assertThisInitialize._map){var _assertThisInitialize2=(0,_assertThisInitialized2["default"])(_this);_assertThisInitialize=_assertThisInitialize2._sourceOptions;var props=_assertThisInitialize2.props;
(0,_assert["default"])(!props.id||props.id===_this.id,"source id changed");(0,_assert["default"])(props.type===type,"source type changed");_assertThisInitialize2="";var changedKeyCount=0,key;for(key in props)"children"===key||"id"===key||(0,_deepEqual["default"])(_assertThisInitialize[key],props[key])||(_assertThisInitialize[key]=props[key],_assertThisInitialize2=key,changedKeyCount++);(key=_this.getSource())?changedKeyCount&&("geojson"===type?key.setData(_assertThisInitialize.data):"image"===type?
key.updateImage({url:_assertThisInitialize.url,coordinates:_assertThisInitialize.coordinates}):"canvas"!==type&&"video"!==type||1!==changedKeyCount||"coordinates"!==_assertThisInitialize2?console.warn("Unable to update \x3cSource\x3e prop: ".concat(_assertThisInitialize2)):key.setCoordinates(_assertThisInitialize.coordinates)):_this._createSource(_assertThisInitialize)}});_this.id=_props.id||"jsx-source-".concat(sourceCounter++);_this.type=_props.type;return _this}(0,_inherits2["default"])(Source,
_PureComponent);var _super=_createSuper(Source);(0,_createClass2["default"])(Source,[{key:"componentWillUnmount",value:function(){var _this2=this,map=this._map;map&&(map.off("styledata",this._updateSource),requestAnimationFrame(function(){map.style&&map.style._loaded&&map.removeSource(_this2.id)}))}},{key:"getSource",value:function(){var map=this._map;return map&&map.style&&map.getSource(this.id)}},{key:"_createSource",value:function(sourceOptions){var map=this._map;map.style&&map.style._loaded&&
map.addSource(this.id,sourceOptions)}},{key:"_render",value:function(context){var _this3=this;!this._map&&context.map&&(this._map=context.map,this._map.on("styledata",this._updateSource));this._updateSource();return React.Children.map(this.props.children,function(child){return(0,React.cloneElement)(child,{source:_this3.id})})}},{key:"render",value:function(){return React.createElement(_mapContext["default"].Consumer,null,this._render.bind(this))}}]);return Source}(React.PureComponent);exports["default"]=
global;(0,_defineProperty2["default"])(global,"propTypes",require)}
//# sourceMappingURL=module$node_modules$react_map_gl$dist$es5$components$source.js.map
