{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$experimental$dist$es5$scenegraph$nodes$scenegraph_node.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/experimental/dist/es5/scenegraph/nodes/scenegraph-node.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$experimental$dist$es5$scenegraph$nodes$scenegraph_node\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _math = require(\"math.gl\");\n\nvar _webgl = require(\"@luma.gl/webgl\");\n\nvar ScenegraphNode = function () {\n  function ScenegraphNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, ScenegraphNode);\n    var id = props.id;\n    this.id = id || (0, _webgl.uid)(this.constructor.name);\n    this.display = true;\n    this.position = new _math.Vector3();\n    this.rotation = new _math.Vector3();\n    this.scale = new _math.Vector3(1, 1, 1);\n    this.matrix = new _math.Matrix4();\n    this.userData = {};\n    this.props = {};\n\n    this._setScenegraphNodeProps(props);\n  }\n\n  (0, _createClass2[\"default\"])(ScenegraphNode, [{\n    key: \"delete\",\n    value: function _delete() {}\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._setScenegraphNodeProps(props);\n\n      return this;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"{type: ScenegraphNode, id: \".concat(this.id, \")}\");\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(position) {\n      (0, _webgl.assert)(position.length === 3, 'setPosition requires vector argument');\n      this.position = position;\n      return this;\n    }\n  }, {\n    key: \"setRotation\",\n    value: function setRotation(rotation) {\n      (0, _webgl.assert)(rotation.length === 3, 'setRotation requires vector argument');\n      this.rotation = rotation;\n      return this;\n    }\n  }, {\n    key: \"setScale\",\n    value: function setScale(scale) {\n      (0, _webgl.assert)(scale.length === 3, 'setScale requires vector argument');\n      this.scale = scale;\n      return this;\n    }\n  }, {\n    key: \"setMatrix\",\n    value: function setMatrix(matrix) {\n      var copyMatrix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (copyMatrix) {\n        this.matrix.copy(matrix);\n      } else {\n        this.matrix = matrix;\n      }\n    }\n  }, {\n    key: \"setMatrixComponents\",\n    value: function setMatrixComponents(_ref) {\n      var position = _ref.position,\n          rotation = _ref.rotation,\n          scale = _ref.scale,\n          _ref$update = _ref.update,\n          update = _ref$update === void 0 ? true : _ref$update;\n\n      if (position) {\n        this.setPosition(position);\n      }\n\n      if (rotation) {\n        this.setRotation(rotation);\n      }\n\n      if (scale) {\n        this.setScale(scale);\n      }\n\n      if (update) {\n        this.updateMatrix();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"updateMatrix\",\n    value: function updateMatrix() {\n      var pos = this.position;\n      var rot = this.rotation;\n      var scale = this.scale;\n      this.matrix.identity();\n      this.matrix.translate(pos);\n      this.matrix.rotateXYZ(rot);\n      this.matrix.scale(scale);\n      return this;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          position = _ref2.position,\n          rotation = _ref2.rotation,\n          scale = _ref2.scale;\n\n      if (position) {\n        this.setPosition(position);\n      }\n\n      if (rotation) {\n        this.setRotation(rotation);\n      }\n\n      if (scale) {\n        this.setScale(scale);\n      }\n\n      this.updateMatrix();\n      return this;\n    }\n  }, {\n    key: \"getCoordinateUniforms\",\n    value: function getCoordinateUniforms(viewMatrix, modelMatrix) {\n      (0, _webgl.assert)(viewMatrix);\n      modelMatrix = modelMatrix || this.matrix;\n      var worldMatrix = new _math.Matrix4(viewMatrix).multiplyRight(modelMatrix);\n      var worldInverse = worldMatrix.invert();\n      var worldInverseTranspose = worldInverse.transpose();\n      return {\n        viewMatrix: viewMatrix,\n        modelMatrix: modelMatrix,\n        objectMatrix: modelMatrix,\n        worldMatrix: worldMatrix,\n        worldInverseMatrix: worldInverse,\n        worldInverseTransposeMatrix: worldInverseTranspose\n      };\n    }\n  }, {\n    key: \"_setScenegraphNodeProps\",\n    value: function _setScenegraphNodeProps(props) {\n      if ('display' in props) {\n        this.display = props.display;\n      }\n\n      if ('position' in props) {\n        this.setPosition(props.position);\n      }\n\n      if ('rotation' in props) {\n        this.setRotation(props.rotation);\n      }\n\n      if ('scale' in props) {\n        this.setScale(props.scale);\n      }\n\n      if ('matrix' in props) {\n        this.setMatrix(props.matrix);\n      }\n\n      Object.assign(this.props, props);\n    }\n  }]);\n  return ScenegraphNode;\n}();\n\nexports[\"default\"] = ScenegraphNode;\n//# sourceMappingURL=scenegraph-node.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_math","_webgl","ScenegraphNode","props","arguments","length","undefined","id","uid","constructor","name","display","position","Vector3","rotation","scale","matrix","Matrix4","userData","_setScenegraphNodeProps","key","_delete","setProps","toString","concat","setPosition","assert","setRotation","setScale","setMatrix","copyMatrix","copy","setMatrixComponents","_ref","_ref$update","update","updateMatrix","pos","rot","identity","translate","rotateXYZ","_ref2","getCoordinateUniforms","viewMatrix","modelMatrix","worldMatrix","multiplyRight","worldInverse","invert","worldInverseTranspose","transpose","objectMatrix","worldInverseMatrix","worldInverseTransposeMatrix","assign"]
}
