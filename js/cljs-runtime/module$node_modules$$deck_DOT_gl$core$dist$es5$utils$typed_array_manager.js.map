{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$utils$typed_array_manager.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/utils/typed-array-manager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$utils$typed_array_manager\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.TypedArrayManager = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar TypedArrayManager = function () {\n  function TypedArrayManager() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$overAlloc = _ref.overAlloc,\n        overAlloc = _ref$overAlloc === void 0 ? 2 : _ref$overAlloc,\n        _ref$poolSize = _ref.poolSize,\n        poolSize = _ref$poolSize === void 0 ? 100 : _ref$poolSize;\n\n    (0, _classCallCheck2[\"default\"])(this, TypedArrayManager);\n    this.overAlloc = overAlloc;\n    this.poolSize = poolSize;\n    this._pool = [];\n  }\n\n  (0, _createClass2[\"default\"])(TypedArrayManager, [{\n    key: \"allocate\",\n    value: function allocate(typedArray, count, _ref2) {\n      var _ref2$size = _ref2.size,\n          size = _ref2$size === void 0 ? 1 : _ref2$size,\n          type = _ref2.type,\n          _ref2$padding = _ref2.padding,\n          padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n          _ref2$copy = _ref2.copy,\n          copy = _ref2$copy === void 0 ? false : _ref2$copy,\n          _ref2$initialize = _ref2.initialize,\n          initialize = _ref2$initialize === void 0 ? false : _ref2$initialize;\n      var Type = type || typedArray && typedArray.constructor || Float32Array;\n      var newSize = count * size + padding;\n\n      if (ArrayBuffer.isView(typedArray)) {\n        if (newSize <= typedArray.length) {\n          return typedArray;\n        }\n\n        if (newSize * typedArray.BYTES_PER_ELEMENT <= typedArray.buffer.byteLength) {\n          return new Type(typedArray.buffer, 0, newSize);\n        }\n      }\n\n      var newArray = this._allocate(Type, newSize, initialize);\n\n      if (typedArray && copy) {\n        newArray.set(typedArray);\n      } else if (!initialize) {\n        newArray.fill(0, 0, 4);\n      }\n\n      this._release(typedArray);\n\n      return newArray;\n    }\n  }, {\n    key: \"release\",\n    value: function release(typedArray) {\n      this._release(typedArray);\n    }\n  }, {\n    key: \"_allocate\",\n    value: function _allocate(Type, size, initialize) {\n      size = Math.max(Math.ceil(size * this.overAlloc), 1);\n      var pool = this._pool;\n      var byteLength = Type.BYTES_PER_ELEMENT * size;\n      var i = pool.findIndex(function (b) {\n        return b.byteLength >= byteLength;\n      });\n\n      if (i >= 0) {\n        var array = new Type(pool.splice(i, 1)[0], 0, size);\n\n        if (initialize) {\n          array.fill(0);\n        }\n\n        return array;\n      }\n\n      return new Type(size);\n    }\n  }, {\n    key: \"_release\",\n    value: function _release(typedArray) {\n      if (!ArrayBuffer.isView(typedArray)) {\n        return;\n      }\n\n      var pool = this._pool;\n      var buffer = typedArray.buffer;\n      var byteLength = buffer.byteLength;\n      var i = pool.findIndex(function (b) {\n        return b.byteLength >= byteLength;\n      });\n\n      if (i < 0) {\n        pool.push(buffer);\n      } else if (i > 0 || pool.length < this.poolSize) {\n        pool.splice(i, 0, buffer);\n      }\n\n      if (pool.length > this.poolSize) {\n        pool.shift();\n      }\n    }\n  }]);\n  return TypedArrayManager;\n}();\n\nexports.TypedArrayManager = TypedArrayManager;\n\nvar _default = new TypedArrayManager();\n\nexports[\"default\"] = _default;\n//# sourceMappingURL=typed-array-manager.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","TypedArrayManager","_classCallCheck2","_createClass2","_ref","arguments","length","undefined","_ref$overAlloc","overAlloc","_ref$poolSize","poolSize","_pool","key","allocate","typedArray","count","_ref2","_ref2$size","size","_ref2$padding","padding","_ref2$copy","copy","_ref2$initialize","initialize","Type","type","constructor","Float32Array","newSize","ArrayBuffer","isView","BYTES_PER_ELEMENT","buffer","byteLength","newArray","_allocate","set","fill","_release","release","Math","max","ceil","pool","i","findIndex","b","array","splice","push","shift","_default"]
}
