{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$controllers$first_person_controller.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/controllers/first-person-controller.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$controllers$first_person_controller\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _controller = _interopRequireDefault(require(\"./controller\"));\n\nvar _viewState = _interopRequireDefault(require(\"./view-state\"));\n\nvar _mathUtils = require(\"../utils/math-utils\");\n\nvar _math = require(\"math.gl\");\n\nvar MOVEMENT_SPEED = 20;\nvar DEFAULT_STATE = {\n  position: [0, 0, 0],\n  pitch: 0,\n  bearing: 0,\n  maxPitch: 90,\n  minPitch: -90\n};\n\nvar FirstPersonState = function (_ViewState) {\n  (0, _inherits2[\"default\"])(FirstPersonState, _ViewState);\n\n  function FirstPersonState(_ref) {\n    var _this;\n\n    var width = _ref.width,\n        height = _ref.height,\n        _ref$position = _ref.position,\n        position = _ref$position === void 0 ? DEFAULT_STATE.position : _ref$position,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        longitude = _ref.longitude,\n        latitude = _ref.latitude,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? DEFAULT_STATE.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? DEFAULT_STATE.minPitch : _ref$minPitch,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoomPosition = _ref.startZoomPosition,\n        startZoom = _ref.startZoom;\n    (0, _classCallCheck2[\"default\"])(this, FirstPersonState);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(FirstPersonState).call(this, {\n      width: width,\n      height: height,\n      position: position,\n      bearing: bearing,\n      pitch: pitch,\n      longitude: longitude,\n      latitude: latitude,\n      maxPitch: maxPitch,\n      minPitch: minPitch\n    }));\n    _this._interactiveState = {\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoomPosition: startZoomPosition,\n      startZoom: startZoom\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(FirstPersonState, [{\n    key: \"getInteractiveState\",\n    value: function getInteractiveState() {\n      return this._interactiveState;\n    }\n  }, {\n    key: \"getDirection\",\n    value: function getDirection() {\n      var use2D = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var spherical = new _math._SphericalCoordinates({\n        bearing: this._viewportProps.bearing,\n        pitch: use2D ? 90 : 90 + this._viewportProps.pitch\n      });\n      var direction = spherical.toVector3().normalize();\n      return direction;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart() {\n      return this;\n    }\n  }, {\n    key: \"pan\",\n    value: function pan() {\n      return this;\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this;\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedState({\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref3) {\n      var deltaScaleX = _ref3.deltaScaleX,\n          deltaScaleY = _ref3.deltaScaleY;\n      var _this$_interactiveSta = this._interactiveState,\n          startBearing = _this$_interactiveSta.startBearing,\n          startPitch = _this$_interactiveSta.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      return this._getUpdatedState({\n        bearing: startBearing - deltaScaleX * 180,\n        pitch: startPitch - deltaScaleY * 90\n      });\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart() {\n      return this._getUpdatedState({\n        startZoomPosition: this._viewportProps.position,\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref4) {\n      var scale = _ref4.scale;\n      var startZoomPosition = this._interactiveState.startZoomPosition;\n\n      if (!startZoomPosition) {\n        startZoomPosition = this._viewportProps.position;\n      }\n\n      var direction = this.getDirection();\n      return this._move(direction, Math.log2(scale), startZoomPosition);\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedState({\n        startZoomPosition: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft() {\n      var direction = this.getDirection(true);\n      return this._move(direction.rotateZ({\n        radians: Math.PI / 2\n      }));\n    }\n  }, {\n    key: \"moveRight\",\n    value: function moveRight() {\n      var direction = this.getDirection(true);\n      return this._move(direction.rotateZ({\n        radians: -Math.PI / 2\n      }));\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var direction = this.getDirection(true);\n      return this._move(direction);\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      var direction = this.getDirection(true);\n      return this._move(direction.negate());\n    }\n  }, {\n    key: \"rotateLeft\",\n    value: function rotateLeft() {\n      return this._getUpdatedState({\n        bearing: this._viewportProps.bearing - 15\n      });\n    }\n  }, {\n    key: \"rotateRight\",\n    value: function rotateRight() {\n      return this._getUpdatedState({\n        bearing: this._viewportProps.bearing + 15\n      });\n    }\n  }, {\n    key: \"rotateUp\",\n    value: function rotateUp() {\n      return this._getUpdatedState({\n        pitch: this._viewportProps.pitch + 10\n      });\n    }\n  }, {\n    key: \"rotateDown\",\n    value: function rotateDown() {\n      return this._getUpdatedState({\n        pitch: this._viewportProps.pitch - 10\n      });\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn() {\n      return this.zoom({\n        scale: 2\n      });\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut() {\n      return this.zoom({\n        scale: 0.5\n      });\n    }\n  }, {\n    key: \"shortestPathFrom\",\n    value: function shortestPathFrom(viewState) {\n      var fromProps = viewState.getViewportProps();\n      var props = Object.assign({}, this._viewportProps);\n      var bearing = props.bearing,\n          longitude = props.longitude;\n\n      if (Math.abs(bearing - fromProps.bearing) > 180) {\n        props.bearing = bearing < 0 ? bearing + 360 : bearing - 360;\n      }\n\n      if (Math.abs(longitude - fromProps.longitude) > 180) {\n        props.longitude = longitude < 0 ? longitude + 360 : longitude - 360;\n      }\n\n      return props;\n    }\n  }, {\n    key: \"_move\",\n    value: function _move(direction) {\n      var speed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var fromPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this._viewportProps.position;\n      var delta = direction.scale(speed * MOVEMENT_SPEED);\n      return this._getUpdatedState({\n        position: new _math.Vector3(fromPosition).add(delta)\n      });\n    }\n  }, {\n    key: \"_getUpdatedState\",\n    value: function _getUpdatedState(newProps) {\n      return new FirstPersonState(Object.assign({}, this._viewportProps, this._interactiveState, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var pitch = props.pitch,\n          maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          longitude = props.longitude,\n          bearing = props.bearing;\n      props.pitch = (0, _math.clamp)(pitch, minPitch, maxPitch);\n\n      if (longitude < -180 || longitude > 180) {\n        props.longitude = (0, _mathUtils.mod)(longitude + 180, 360) - 180;\n      }\n\n      if (bearing < -180 || bearing > 180) {\n        props.bearing = (0, _mathUtils.mod)(bearing + 180, 360) - 180;\n      }\n\n      return props;\n    }\n  }]);\n  return FirstPersonState;\n}(_viewState[\"default\"]);\n\nvar FirstPersonController = function (_Controller) {\n  (0, _inherits2[\"default\"])(FirstPersonController, _Controller);\n\n  function FirstPersonController(props) {\n    (0, _classCallCheck2[\"default\"])(this, FirstPersonController);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(FirstPersonController).call(this, FirstPersonState, props));\n  }\n\n  return FirstPersonController;\n}(_controller[\"default\"]);\n\nexports[\"default\"] = FirstPersonController;\n//# sourceMappingURL=first-person-controller.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_controller","_viewState","_mathUtils","_math","FirstPersonState","_ViewState","_ref","width","height","_ref$position","position","_ref$bearing","bearing","_ref$pitch","pitch","longitude","latitude","_ref$maxPitch","maxPitch","_ref$minPitch","minPitch","startBearing","startPitch","startZoomPosition","startZoom","_this","call","_interactiveState","key","getInteractiveState","getDirection","toVector3","spherical","_SphericalCoordinates","_viewportProps","arguments","length","undefined","normalize","direction","panStart","pan","panEnd","rotateStart","_ref2","_getUpdatedState","rotate","_ref3","deltaScaleX","deltaScaleY","_this$_interactiveSta","Number","isFinite","rotateEnd","zoomStart","zoom","_ref4","scale","_move","Math","log2","zoomEnd","moveLeft","rotateZ","radians","PI","moveRight","moveUp","moveDown","negate","rotateLeft","rotateRight","rotateUp","rotateDown","zoomIn","zoomOut","shortestPathFrom","viewState","fromProps","getViewportProps","props","assign","abs","fromPosition","delta","MOVEMENT_SPEED","speed","add","Vector3","newProps","_applyConstraints","clamp","mod","FirstPersonController","_Controller"]
}
