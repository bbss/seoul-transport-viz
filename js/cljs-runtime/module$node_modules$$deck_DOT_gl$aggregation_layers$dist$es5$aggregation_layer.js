shadow$provide.module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$aggregation_layer=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_possibleConstructorReturn2=
global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_get2=global(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index"),_core2=require("module$node_modules$$luma_DOT_gl$core$dist$es5$index"),_propUtils=require("module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$utils$prop_utils");
require=function(_CompositeLayer){function AggregationLayer(){(0,_classCallCheck2["default"])(this,AggregationLayer);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(AggregationLayer).apply(this,arguments))}(0,_inherits2["default"])(AggregationLayer,_CompositeLayer);(0,_createClass2["default"])(AggregationLayer,[{key:"initializeState",value:function(dimensions){(0,_get2["default"])((0,_getPrototypeOf2["default"])(AggregationLayer.prototype),"initializeState",this).call(this);
this.setState({ignoreProps:(0,_propUtils.filterProps)(this.constructor._propTypes,dimensions.data.props),dimensions:dimensions})}},{key:"updateState",value:function(opts){(0,_get2["default"])((0,_getPrototypeOf2["default"])(AggregationLayer.prototype),"updateState",this).call(this,opts);if(opts.changeFlags.extensionsChanged){var shaders=this.getShaders({});shaders&&shaders.defines&&(shaders.defines.NON_INSTANCED_MODEL=1);this.updateShaders(shaders)}this._updateAttributes(opts.props)}},{key:"updateAttributes",
value:function(changedAttributes){this.setState({changedAttributes:changedAttributes})}},{key:"getAttributes",value:function(){return this.getAttributeManager().getShaderAttributes()}},{key:"getModuleSettings",value:function(){var _this$context=this.context,viewport=_this$context.viewport,mousePosition=_this$context.mousePosition;_this$context=_this$context.gl;return Object.assign(Object.create(this.props),{viewport:viewport,mousePosition:mousePosition,pickingActive:0,devicePixelRatio:(0,_core2.cssToDeviceRatio)(_this$context)})}},
{key:"updateShaders",value:function(shaders){}},{key:"isAggregationDirty",value:function(updateOpts){var params=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},props=updateOpts.props,oldProps=updateOpts.oldProps,changeFlags=updateOpts.changeFlags,_params$compareAll=params.compareAll;_params$compareAll=void 0===_params$compareAll?!1:_params$compareAll;var dimension=params.dimension,ignoreProps=this.state.ignoreProps;params=dimension.props;dimension=dimension.accessors;dimension=void 0===
dimension?[]:dimension;var updateTriggersChanged=changeFlags.updateTriggersChanged;if(updateTriggersChanged){if(updateTriggersChanged.all)return!0;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=dimension[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)if(updateTriggersChanged[_step.value])return!0}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&
null!=_iterator["return"])_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError;}}}if(_params$compareAll)return changeFlags.extensionsChanged?!0:(0,_core._compareProps)({oldProps:oldProps,newProps:props,ignoreProps:ignoreProps,propTypes:this.constructor._propTypes});changeFlags=!0;_iterator=!1;_step=void 0;try{for(var _iterator2=params[Symbol.iterator](),_step2;!(changeFlags=(_step2=_iterator2.next()).done);changeFlags=!0){var name=_step2.value;if(props[name]!==oldProps[name])return!0}}catch(err$396){_iterator=
!0,_step=err$396}finally{try{if(!changeFlags&&null!=_iterator2["return"])_iterator2["return"]()}finally{if(_iterator)throw _step;}}return!1}},{key:"isAttributeChanged",value:function(name){var changedAttributes=this.state.changedAttributes;if(!name){name=!0;for(var key in changedAttributes){name=!1;break}return!name}return changedAttributes&&void 0!==changedAttributes[name]}},{key:"_getAttributeManager",value:function(){return new _core.AttributeManager(this.context.gl,{id:this.props.id,stats:this.context.stats})}}]);
return AggregationLayer}(_core.CompositeLayer);exports["default"]=require;require.layerName="AggregationLayer"}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$aggregation_layer.js.map
