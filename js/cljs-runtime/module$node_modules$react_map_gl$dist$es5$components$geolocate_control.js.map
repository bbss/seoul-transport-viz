{
"version":3,
"file":"module$node_modules$react_map_gl$dist$es5$components$geolocate_control.js",
"lineCount":18,
"mappings":"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",
"sources":["node_modules/react-map-gl/dist/es5/components/geolocate-control.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$react_map_gl$dist$es5$components$geolocate_control\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _viewportMercatorProject = _interopRequireDefault(require(\"viewport-mercator-project\"));\n\nvar _mapboxgl = _interopRequireDefault(require(\"../utils/mapboxgl\"));\n\nvar _baseControl = _interopRequireDefault(require(\"./base-control\"));\n\nvar _marker = _interopRequireDefault(require(\"./marker\"));\n\nvar _mapState = _interopRequireDefault(require(\"../utils/map-state\"));\n\nvar _transitionManager = _interopRequireDefault(require(\"../utils/transition-manager\"));\n\nvar _geolocateUtils = require(\"../utils/geolocate-utils\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar LINEAR_TRANSITION_PROPS = Object.assign({}, _transitionManager[\"default\"].defaultProps, {\n  transitionDuration: 500\n});\n\nvar noop = function noop() {};\n\nvar propTypes = Object.assign({}, _baseControl[\"default\"].propTypes, {\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  label: _propTypes[\"default\"].string,\n  auto: _propTypes[\"default\"].bool,\n  positionOptions: _propTypes[\"default\"].object,\n  fitBoundsOptions: _propTypes[\"default\"].object,\n  trackUserLocation: _propTypes[\"default\"].bool,\n  showUserLocation: _propTypes[\"default\"].bool,\n  onViewStateChange: _propTypes[\"default\"].func,\n  onViewportChange: _propTypes[\"default\"].func,\n  onGeolocate: _propTypes[\"default\"].func\n});\nvar defaultProps = Object.assign({}, _baseControl[\"default\"].defaultProps, {\n  className: '',\n  style: {},\n  label: 'Geolocate',\n  auto: false,\n  positionOptions: null,\n  fitBoundsOptions: null,\n  trackUserLocation: false,\n  showUserLocation: true,\n  onGeolocate: function onGeolocate() {}\n});\n\nvar GeolocateControl = function (_BaseControl) {\n  (0, _inherits2[\"default\"])(GeolocateControl, _BaseControl);\n\n  var _super = _createSuper(GeolocateControl);\n\n  function GeolocateControl() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, GeolocateControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      supportsGeolocation: false,\n      markerPosition: null\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_mapboxGeolocateControl\", null);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_geolocateButtonRef\", (0, React.createRef)());\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_setupMapboxGeolocateControl\", function (supportsGeolocation) {\n      if (!supportsGeolocation) {\n        console.warn('Geolocation support is not available, the GeolocateControl will not be visible.');\n        return;\n      }\n\n      var controlOptions = {\n        showUserLocation: false\n      };\n      ['positionOptions', 'fitBoundsOptions', 'trackUserLocation'].forEach(function (prop) {\n        if (prop in _this.props && _this.props[prop] !== null) {\n          controlOptions[prop] = _this.props[prop];\n        }\n      });\n      var control = new _mapboxgl[\"default\"].GeolocateControl(controlOptions);\n      _this._mapboxGeolocateControl = control;\n      control._watchState = 'OFF';\n      control._geolocateButton = _this._geolocateButtonRef.current;\n\n      if (control.options.trackUserLocation && control._geolocateButton) {\n        control._geolocateButton.setAttribute('aria-pressed', 'false');\n      }\n\n      control._updateMarker = _this._updateMarker;\n      control._updateCamera = _this._updateCamera;\n      control._setup = true;\n      var eventManager = _this._context.eventManager;\n\n      if (control.options.trackUserLocation && eventManager) {\n        eventManager.on('panstart', function () {\n          if (control._watchState === 'ACTIVE_LOCK') {\n            control._watchState = 'BACKGROUND';\n\n            control._geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n\n            control._geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n          }\n        });\n      }\n\n      control.on('geolocate', _this.props.onGeolocate);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_triggerGeolocate\", function () {\n      var control = _this._mapboxGeolocateControl;\n      control._map = _this._context.map;\n\n      if (_this.props.showUserLocation) {\n        control.on('geolocate', _this._updateMarker);\n        control.on('trackuserlocationend', _this._updateMarker);\n      }\n\n      return _this._mapboxGeolocateControl.trigger();\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_updateMarker\", function (position) {\n      if (position) {\n        _this.setState({\n          markerPosition: position.coords\n        });\n      }\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_getBounds\", function (position) {\n      var center = new _mapboxgl[\"default\"].LngLat(position.coords.longitude, position.coords.latitude);\n      var radius = position.coords.accuracy;\n      var bounds = center.toBounds(radius);\n      return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_updateCamera\", function (position) {\n      var viewport = _this._context.viewport;\n\n      var bounds = _this._getBounds(position);\n\n      var _WebMercatorViewport$ = new _viewportMercatorProject[\"default\"](viewport).fitBounds(bounds),\n          longitude = _WebMercatorViewport$.longitude,\n          latitude = _WebMercatorViewport$.latitude,\n          zoom = _WebMercatorViewport$.zoom;\n\n      var newViewState = Object.assign({}, viewport, {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n      var mapState = new _mapState[\"default\"](newViewState);\n      var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n      var onViewportChange = _this.props.onViewportChange || _this._context.onViewportChange || noop;\n      var onViewStateChange = _this.props.onViewStateChange || _this._context.onViewStateChange || noop;\n      onViewStateChange({\n        viewState: viewState\n      });\n      onViewportChange(viewState);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_renderButton\", function (type, label, callback) {\n      return React.createElement(\"button\", {\n        key: type,\n        className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n        ref: _this._geolocateButtonRef,\n        type: \"button\",\n        title: label,\n        onClick: callback\n      }, React.createElement(\"span\", {\n        className: \"mapboxgl-ctrl-icon\",\n        \"aria-hidden\": \"true\"\n      }));\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_renderMarker\", function () {\n      var markerPosition = _this.state.markerPosition;\n      var showUserLocation = _this.props.showUserLocation;\n\n      if (!markerPosition || !showUserLocation) {\n        return null;\n      }\n\n      return React.createElement(_marker[\"default\"], {\n        key: \"location-maker\",\n        className: \"mapboxgl-user-location-dot\",\n        longitude: markerPosition.longitude,\n        latitude: markerPosition.latitude,\n        onContextMenu: function onContextMenu(e) {\n          return e.preventDefault();\n        },\n        captureDrag: false,\n        captureDoubleClick: false\n      });\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(GeolocateControl, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      (0, _geolocateUtils.isGeolocationSupported)().then(function (result) {\n        _this2.setState({\n          supportsGeolocation: result\n        });\n\n        _this2._setupMapboxGeolocateControl(result);\n\n        if (result && _this2.props.auto) {\n          _this2._triggerGeolocate();\n        }\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.state.supportsGeolocation && !prevProps.auto && this.props.auto) {\n        this._triggerGeolocate();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._mapboxGeolocateControl) {\n        var geolocationWatchID = this._mapboxGeolocateControl._geolocationWatchID;\n\n        if (geolocationWatchID !== undefined) {\n          window.navigator.geolocation.clearWatch(geolocationWatchID);\n          this._mapboxGeolocateControl._geolocationWatchID = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      if (!this.state.supportsGeolocation) {\n        return null;\n      }\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          style = _this$props.style,\n          label = _this$props.label;\n      return React.createElement(\"div\", null, this._renderMarker(), React.createElement(\"div\", {\n        key: \"geolocate-control\",\n        className: \"mapboxgl-ctrl mapboxgl-ctrl-group \".concat(className),\n        ref: this._containerRef,\n        style: style,\n        onContextMenu: function onContextMenu(e) {\n          return e.preventDefault();\n        }\n      }, this._renderButton('geolocate', label, this._triggerGeolocate)));\n    }\n  }]);\n  return GeolocateControl;\n}(_baseControl[\"default\"]);\n\nexports[\"default\"] = GeolocateControl;\n(0, _defineProperty2[\"default\"])(GeolocateControl, \"propTypes\", propTypes);\n(0, _defineProperty2[\"default\"])(GeolocateControl, \"defaultProps\", defaultProps);\n//# sourceMappingURL=geolocate-control.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf2","NewTarget","constructor","result","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Date","prototype","toString","call","e","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_defineProperty2","React","_propTypes","_viewportMercatorProject","_mapboxgl","_baseControl","_marker","_mapState","_transitionManager","_geolocateUtils","LINEAR_TRANSITION_PROPS","assign","defaultProps","transitionDuration","noop","propTypes","className","string","style","object","label","auto","bool","positionOptions","fitBoundsOptions","trackUserLocation","showUserLocation","onViewStateChange","func","onViewportChange","onGeolocate","GeolocateControl","_BaseControl","_len","length","args","Array","_key","_this","_super","concat","supportsGeolocation","markerPosition","createRef","controlOptions","forEach","prop","props","control","_mapboxGeolocateControl","_watchState","_geolocateButton","_geolocateButtonRef","current","options","setAttribute","_updateMarker","_updateCamera","_setup","eventManager","_context","on","classList","add","remove","console","warn","_map","map","trigger","position","setState","coords","bounds","toBounds","center","LngLat","longitude","latitude","accuracy","_ne","lng","lat","_sw","viewport","_getBounds","_WebMercatorViewport$","fitBounds","newViewState","zoom","mapState","viewState","getViewportProps","type","callback","createElement","key","ref","title","onClick","state","onContextMenu","preventDefault","captureDrag","captureDoubleClick","componentDidMount","_this2","isGeolocationSupported","then","_setupMapboxGeolocateControl","_triggerGeolocate","componentDidUpdate","prevProps","componentWillUnmount","geolocationWatchID","_geolocationWatchID","undefined","window","navigator","geolocation","clearWatch","_render","_this$props","_renderMarker","_containerRef","_renderButton"]
}
