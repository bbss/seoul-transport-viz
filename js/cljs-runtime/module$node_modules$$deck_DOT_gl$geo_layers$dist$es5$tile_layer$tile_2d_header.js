shadow$provide.module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$tile_2d_header=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _regenerator=global(require("module$node_modules$$babel$runtime$regenerator$index")),_asyncToGenerator2=global(require("module$node_modules$$babel$runtime$helpers$asyncToGenerator")),_classCallCheck2=
global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index");require=function(){function Tile2DHeader(_ref){var x=_ref.x,y=_ref.y,z=_ref.z,onTileLoad=_ref.onTileLoad;_ref=_ref.onTileError;(0,_classCallCheck2["default"])(this,Tile2DHeader);this.x=x;this.y=y;this.z=z;this.isSelected=this.isVisible=!1;this.parent=null;this.children=
[];this.content=null;this._isCancelled=this._isLoaded=!1;this.onTileLoad=onTileLoad;this.onTileError=_ref}(0,_createClass2["default"])(Tile2DHeader,[{key:"_loadData",value:function(){var _loadData2=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee(getTileData,requestScheduler){var x,y,z,bbox,requestToken,tileData,error;return _regenerator["default"].wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return x=this.x,y=this.y,z=this.z,bbox=this.bbox,
_context.next=3,requestScheduler.scheduleRequest(this,function(tile){return tile.isSelected});case 3:if(requestToken=_context.sent){_context.next=7;break}this._isCancelled=!0;return _context.abrupt("return");case 7:return this._isCancelled=!1,_context.prev=8,_context.next=11,getTileData({x:x,y:y,z:z,bbox:bbox});case 11:tileData=_context.sent;_context.next=17;break;case 14:_context.prev=14,_context.t0=_context["catch"](8),error=_context.t0||!0;case 17:return _context.prev=17,requestToken.done(),this._isLoaded=
!0,_context.finish(17);case 21:if(error)this.onTileError(error,this);else this.content=tileData,this.onTileLoad(this);case 22:case "end":return _context.stop()}},_callee,this,[[8,14,17,21]])}));return function(_x,_x2){return _loadData2.apply(this,arguments)}}()},{key:"loadData",value:function(getTileData,requestScheduler){getTileData&&(this._loader=this._loadData(getTileData,requestScheduler))}},{key:"data",get:function(){return this._isLoaded?this.content:this._loader}},{key:"isLoaded",get:function(){return this._isLoaded}},
{key:"isCancelled",get:function(){return this._isCancelled}},{key:"byteLength",get:function(){var result=this.content?this.content.byteLength:0;Number.isFinite(result)||_core.log.error("byteLength not defined in tile data")();return result}}]);return Tile2DHeader}();exports["default"]=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$tile_layer$tile_2d_header.js.map
