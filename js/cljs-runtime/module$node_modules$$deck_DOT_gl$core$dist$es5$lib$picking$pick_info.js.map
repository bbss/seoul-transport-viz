{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$picking$pick_info.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/lib/picking/pick-info.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$picking$pick_info\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.processPickInfo = processPickInfo;\nexports.getLayerPickingInfo = getLayerPickingInfo;\n\nfunction processPickInfo(_ref) {\n  var pickInfo = _ref.pickInfo,\n      lastPickedInfo = _ref.lastPickedInfo,\n      mode = _ref.mode,\n      layers = _ref.layers,\n      viewports = _ref.viewports,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      pixelRatio = _ref.pixelRatio;\n  var pickedColor = pickInfo.pickedColor,\n      pickedLayer = pickInfo.pickedLayer,\n      pickedObjectIndex = pickInfo.pickedObjectIndex;\n  var affectedLayers = pickedLayer ? [pickedLayer] : [];\n\n  if (mode === 'hover') {\n    var lastPickedObjectIndex = lastPickedInfo.index;\n    var lastPickedLayerId = lastPickedInfo.layerId;\n    var pickedLayerId = pickedLayer && pickedLayer.props.id;\n\n    if (pickedLayerId !== lastPickedLayerId || pickedObjectIndex !== lastPickedObjectIndex) {\n      if (pickedLayerId !== lastPickedLayerId) {\n        var lastPickedLayer = layers.find(function (layer) {\n          return layer.props.id === lastPickedLayerId;\n        });\n\n        if (lastPickedLayer) {\n          affectedLayers.unshift(lastPickedLayer);\n        }\n      }\n\n      lastPickedInfo.layerId = pickedLayerId;\n      lastPickedInfo.index = pickedObjectIndex;\n      lastPickedInfo.info = null;\n    }\n  }\n\n  var viewport = getViewportFromCoordinates({\n    viewports: viewports\n  });\n  var coordinate = viewport && viewport.unproject([x, y], {\n    targetZ: z\n  });\n  var baseInfo = {\n    color: null,\n    layer: null,\n    index: -1,\n    picked: false,\n    x: x,\n    y: y,\n    pixel: [x, y],\n    coordinate: coordinate,\n    lngLat: coordinate,\n    devicePixel: [pickInfo.pickedX, pickInfo.pickedY],\n    pixelRatio: pixelRatio\n  };\n  var infos = new Map();\n  infos.set(null, baseInfo);\n  affectedLayers.forEach(function (layer) {\n    var info = Object.assign({}, baseInfo);\n\n    if (layer === pickedLayer) {\n      info.color = pickedColor;\n      info.index = pickedObjectIndex;\n      info.picked = true;\n    }\n\n    info = getLayerPickingInfo({\n      layer: layer,\n      info: info,\n      mode: mode\n    });\n\n    if (layer === pickedLayer && mode === 'hover') {\n      lastPickedInfo.info = info;\n    }\n\n    if (info) {\n      infos.set(info.layer.id, info);\n    }\n\n    if (mode === 'hover' && layer.props.autoHighlight) {\n      var pickingModuleParameters = {\n        pickingSelectedColor: pickedLayer === layer ? pickedColor : null\n      };\n      var highlightColor = layer.props.highlightColor;\n\n      if (pickedLayer === layer && typeof highlightColor === 'function') {\n        pickingModuleParameters.pickingHighlightColor = highlightColor(info);\n      }\n\n      layer.setModuleParameters(pickingModuleParameters);\n      layer.setNeedsRedraw();\n    }\n  });\n  return infos;\n}\n\nfunction getLayerPickingInfo(_ref2) {\n  var layer = _ref2.layer,\n      info = _ref2.info,\n      mode = _ref2.mode;\n\n  while (layer && info) {\n    var sourceLayer = info.layer || layer;\n    info.layer = layer;\n    info = layer.getPickingInfo({\n      info: info,\n      mode: mode,\n      sourceLayer: sourceLayer\n    });\n    layer = layer.parent;\n  }\n\n  return info;\n}\n\nfunction getViewportFromCoordinates(_ref3) {\n  var viewports = _ref3.viewports;\n  var viewport = viewports[0];\n  return viewport;\n}\n//# sourceMappingURL=pick-info.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","getLayerPickingInfo","_ref2","layer","info","mode","sourceLayer","getPickingInfo","parent","Object","defineProperty","value","processPickInfo","_ref","pickInfo","lastPickedInfo","layers","viewports","x","y","z","pixelRatio","pickedColor","pickedLayer","pickedObjectIndex","affectedLayers","lastPickedObjectIndex","index","lastPickedLayerId","layerId","pickedLayerId","props","id","lastPickedLayer","find","unshift","coordinate","viewport","unproject","targetZ","baseInfo","color","picked","pixel","lngLat","devicePixel","pickedX","pickedY","infos","Map","set","forEach","assign","autoHighlight","pickingModuleParameters","pickingSelectedColor","highlightColor","pickingHighlightColor","setModuleParameters","setNeedsRedraw"]
}
