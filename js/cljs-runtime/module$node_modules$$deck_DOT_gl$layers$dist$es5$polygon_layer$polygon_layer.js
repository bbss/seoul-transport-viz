shadow$provide.module$node_modules$$deck_DOT_gl$layers$dist$es5$polygon_layer$polygon_layer=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),
_possibleConstructorReturn2=module(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=module(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_inherits2=module(require("module$node_modules$$babel$runtime$helpers$inherits")),_core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index"),_solidPolygonLayer=module(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$solid_polygon_layer$solid_polygon_layer")),_pathLayer=module(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$path_layer$path_layer")),
Polygon=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$solid_polygon_layer$polygon")),_utils=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$utils");require={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:function(f){return f.polygon}},getFillColor:{type:"accessor",value:[0,
0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1E3},material:!0};global=function(_CompositeLayer){function PolygonLayer(){(0,_classCallCheck2["default"])(this,PolygonLayer);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(PolygonLayer).apply(this,arguments))}(0,_inherits2["default"])(PolygonLayer,_CompositeLayer);(0,_createClass2["default"])(PolygonLayer,[{key:"initializeState",
value:function(){this.state={paths:[]};this.props.getLineDashArray&&_core.log.removed("getLineDashArray","PathStyleExtension")()}},{key:"updateState",value:function(_ref){var _this=this;_ref=_ref.changeFlags;var geometryChanged=_ref.dataChanged||_ref.updateTriggersChanged&&(_ref.updateTriggersChanged.all||_ref.updateTriggersChanged.getPolygon);if(geometryChanged&&Array.isArray(_ref.dataChanged)){var paths=this.state.paths.slice();_ref=_ref.dataChanged.map(function(dataRange){return(0,_utils.replaceInRange)({data:paths,
getIndex:function(p){return p.__source.index},dataRange:dataRange,replace:_this._getPaths(dataRange)})});this.setState({paths:paths,pathsDiff:_ref})}else geometryChanged&&this.setState({paths:this._getPaths(),pathsDiff:null})}},{key:"_getPaths",value:function(){var dataRange=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_this$props=this.props,data=_this$props.data,getPolygon=_this$props.getPolygon,_normalize=_this$props._normalize,paths=[];_this$props="XY"===_this$props.positionFormat?
2:3;var startRow=dataRange.startRow;dataRange=dataRange.endRow;dataRange=(0,_core.createIterable)(data,startRow,dataRange);data=dataRange.iterable;dataRange=dataRange.objectInfo;startRow=!0;var _didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=data[Symbol.iterator](),_step;!(startRow=(_step=_iterator.next()).done);startRow=!0){var object=_step.value;dataRange.index++;var polygon=getPolygon(object,dataRange);_normalize&&(polygon=Polygon.normalize(polygon,_this$props));var holeIndices=
polygon.holeIndices,positions=polygon.positions||polygon;if(holeIndices)for(data=0;data<=holeIndices.length;data++){var path=positions.slice(holeIndices[data-1]||0,holeIndices[data]||positions.length);paths.push(this.getSubLayerRow({path:path},object,dataRange.index))}else paths.push(this.getSubLayerRow({path:positions},object,dataRange.index))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{if(!startRow&&null!=_iterator["return"])_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError;
}}return paths}},{key:"renderLayers",value:function(){var _this$props2=this.props,data=_this$props2.data,_dataDiff=_this$props2._dataDiff,stroked=_this$props2.stroked,filled=_this$props2.filled,extruded=_this$props2.extruded,wireframe=_this$props2.wireframe,_normalize=_this$props2._normalize,elevationScale=_this$props2.elevationScale,transitions=_this$props2.transitions;_this$props2=_this$props2.positionFormat;var _this$props3=this.props,lineWidthUnits=_this$props3.lineWidthUnits,lineWidthScale=_this$props3.lineWidthScale,
lineWidthMinPixels=_this$props3.lineWidthMinPixels,lineWidthMaxPixels=_this$props3.lineWidthMaxPixels,lineJointRounded=_this$props3.lineJointRounded,lineMiterLimit=_this$props3.lineMiterLimit;_this$props3=_this$props3.lineDashJustified;var _this$props4=this.props,getFillColor=_this$props4.getFillColor,getLineColor=_this$props4.getLineColor,getLineWidth=_this$props4.getLineWidth,getLineDashArray=_this$props4.getLineDashArray,getElevation=_this$props4.getElevation,getPolygon=_this$props4.getPolygon,
updateTriggers=_this$props4.updateTriggers,material=_this$props4.material,_this$state=this.state;_this$props4=_this$state.paths;var pathsDiff=_this$state.pathsDiff,FillLayer=this.getSubLayerClass("fill",_solidPolygonLayer["default"]);_this$state=this.getSubLayerClass("stroke",_pathLayer["default"]);data=this.shouldRenderSubLayer("fill",_this$props4)&&new FillLayer({_dataDiff:_dataDiff,extruded:extruded,elevationScale:elevationScale,filled:filled,wireframe:wireframe,_normalize:_normalize,getElevation:getElevation,
getFillColor:getFillColor,getLineColor:getLineColor,material:material,transitions:transitions},this.getSubLayerProps({id:"fill",updateTriggers:{getPolygon:updateTriggers.getPolygon,getElevation:updateTriggers.getElevation,getFillColor:updateTriggers.getFillColor,getLineColor:updateTriggers.getLineColor}}),{data:data,positionFormat:_this$props2,getPolygon:getPolygon});stroked=!extruded&&stroked&&this.shouldRenderSubLayer("stroke",_this$props4)&&new _this$state({_dataDiff:pathsDiff&&function(){return pathsDiff},
widthUnits:lineWidthUnits,widthScale:lineWidthScale,widthMinPixels:lineWidthMinPixels,widthMaxPixels:lineWidthMaxPixels,rounded:lineJointRounded,miterLimit:lineMiterLimit,dashJustified:_this$props3,_pathType:"loop",transitions:transitions&&{getWidth:transitions.getLineWidth,getColor:transitions.getLineColor,getPath:transitions.getPolygon},getColor:this.getSubLayerAccessor(getLineColor),getWidth:this.getSubLayerAccessor(getLineWidth),getDashArray:this.getSubLayerAccessor(getLineDashArray)},this.getSubLayerProps({id:"stroke",
updateTriggers:{getWidth:updateTriggers.getLineWidth,getColor:updateTriggers.getLineColor,getDashArray:updateTriggers.getLineDashArray}}),{data:_this$props4,positionFormat:_this$props2,getPath:function(x){return x.path}});return[!extruded&&data,stroked,extruded&&data]}}]);return PolygonLayer}(_core.CompositeLayer);exports["default"]=global;global.layerName="PolygonLayer";global.defaultProps=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$layers$dist$es5$polygon_layer$polygon_layer.js.map
