{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$bufferToggle.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/bufferToggle.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$bufferToggle\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferToggle = void 0;\nvar Subscription_1 = require(\"../Subscription\");\nvar subscribeToResult_1 = require(\"../util/subscribeToResult\");\nvar OuterSubscriber_1 = require(\"../OuterSubscriber\");\nfunction bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n        return source.lift(new BufferToggleOperator(openings, closingSelector));\n    };\n}\nexports.bufferToggle = bufferToggle;\nvar BufferToggleOperator = (function () {\n    function BufferToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    BufferToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return BufferToggleOperator;\n}());\nvar BufferToggleSubscriber = (function (_super) {\n    __extends(BufferToggleSubscriber, _super);\n    function BufferToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.openings = openings;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(subscribeToResult_1.subscribeToResult(_this, openings));\n        return _this;\n    }\n    BufferToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        for (var i = 0; i < len; i++) {\n            contexts[i].buffer.push(value);\n        }\n    };\n    BufferToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_1 = contexts.shift();\n            context_1.subscription.unsubscribe();\n            context_1.buffer = null;\n            context_1.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._error.call(this, err);\n    };\n    BufferToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            this.destination.next(context_2.buffer);\n            context_2.subscription.unsubscribe();\n            context_2.buffer = null;\n            context_2.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._complete.call(this);\n    };\n    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    };\n    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.closeBuffer(innerSub.context);\n    };\n    BufferToggleSubscriber.prototype.openBuffer = function (value) {\n        try {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = closingSelector.call(this, value);\n            if (closingNotifier) {\n                this.trySubscribe(closingNotifier);\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    BufferToggleSubscriber.prototype.closeBuffer = function (context) {\n        var contexts = this.contexts;\n        if (contexts && context) {\n            var buffer = context.buffer, subscription = context.subscription;\n            this.destination.next(buffer);\n            contexts.splice(contexts.indexOf(context), 1);\n            this.remove(subscription);\n            subscription.unsubscribe();\n        }\n    };\n    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {\n        var contexts = this.contexts;\n        var buffer = [];\n        var subscription = new Subscription_1.Subscription();\n        var context = { buffer: buffer, subscription: subscription };\n        contexts.push(context);\n        var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context);\n        if (!innerSubscription || innerSubscription.closed) {\n            this.closeBuffer(context);\n        }\n        else {\n            innerSubscription.context = context;\n            this.add(innerSubscription);\n            subscription.add(innerSubscription);\n        }\n    };\n    return BufferToggleSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=bufferToggle.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","bufferToggle","Subscription_1","subscribeToResult_1","OuterSubscriber_1","openings","closingSelector","bufferToggleOperatorFunction","source","lift","BufferToggleOperator","call","BufferToggleOperator.prototype.call","subscriber","subscribe","BufferToggleSubscriber","_super","destination","_this","contexts","add","subscribeToResult","_next","BufferToggleSubscriber.prototype._next","len","length","i","buffer","push","_error","BufferToggleSubscriber.prototype._error","err","context_1","shift","subscription","unsubscribe","_complete","BufferToggleSubscriber.prototype._complete","context_2","next","notifyNext","BufferToggleSubscriber.prototype.notifyNext","outerValue","innerValue","outerIndex","innerIndex","innerSub","closeBuffer","openBuffer","notifyComplete","BufferToggleSubscriber.prototype.notifyComplete","context","BufferToggleSubscriber.prototype.openBuffer","closingNotifier","trySubscribe","BufferToggleSubscriber.prototype.closeBuffer","splice","indexOf","remove","BufferToggleSubscriber.prototype.trySubscribe","Subscription","innerSubscription","closed","OuterSubscriber"]
}
