{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$web_mercator_viewport.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/viewports/web-mercator-viewport.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$web_mercator_viewport\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _viewport = _interopRequireDefault(require(\"./viewport\"));\n\nvar _webMercator = require(\"@math.gl/web-mercator\");\n\nvar vec2 = _interopRequireWildcard(require(\"gl-matrix/vec2\"));\n\nvar _math = require(\"math.gl\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar WebMercatorViewport = function (_Viewport) {\n  (0, _inherits2[\"default\"])(WebMercatorViewport, _Viewport);\n\n  function WebMercatorViewport() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, WebMercatorViewport);\n    var _opts$latitude = opts.latitude,\n        latitude = _opts$latitude === void 0 ? 0 : _opts$latitude,\n        _opts$longitude = opts.longitude,\n        longitude = _opts$longitude === void 0 ? 0 : _opts$longitude,\n        _opts$zoom = opts.zoom,\n        zoom = _opts$zoom === void 0 ? 11 : _opts$zoom,\n        _opts$pitch = opts.pitch,\n        pitch = _opts$pitch === void 0 ? 0 : _opts$pitch,\n        _opts$bearing = opts.bearing,\n        bearing = _opts$bearing === void 0 ? 0 : _opts$bearing,\n        _opts$nearZMultiplier = opts.nearZMultiplier,\n        nearZMultiplier = _opts$nearZMultiplier === void 0 ? 0.1 : _opts$nearZMultiplier,\n        _opts$farZMultiplier = opts.farZMultiplier,\n        farZMultiplier = _opts$farZMultiplier === void 0 ? 1.01 : _opts$farZMultiplier,\n        _opts$orthographic = opts.orthographic,\n        orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n        _opts$repeat = opts.repeat,\n        repeat = _opts$repeat === void 0 ? false : _opts$repeat,\n        _opts$worldOffset = opts.worldOffset,\n        worldOffset = _opts$worldOffset === void 0 ? 0 : _opts$worldOffset;\n    var width = opts.width,\n        height = opts.height,\n        _opts$altitude = opts.altitude,\n        altitude = _opts$altitude === void 0 ? 1.5 : _opts$altitude;\n    var scale = Math.pow(2, zoom);\n    width = width || 1;\n    height = height || 1;\n    altitude = Math.max(0.75, altitude);\n\n    var _getProjectionParamet = (0, _webMercator.getProjectionParameters)({\n      width: width,\n      height: height,\n      pitch: pitch,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    }),\n        fov = _getProjectionParamet.fov,\n        aspect = _getProjectionParamet.aspect,\n        focalDistance = _getProjectionParamet.focalDistance,\n        near = _getProjectionParamet.near,\n        far = _getProjectionParamet.far;\n\n    var viewMatrixUncentered = (0, _webMercator.getViewMatrix)({\n      height: height,\n      pitch: pitch,\n      bearing: bearing,\n      scale: scale,\n      altitude: altitude\n    });\n\n    if (worldOffset) {\n      var viewOffset = new _math.Matrix4().translate([512 * worldOffset, 0, 0]);\n      viewMatrixUncentered = viewOffset.multiplyLeft(viewMatrixUncentered);\n    }\n\n    var viewportOpts = Object.assign({}, opts, {\n      width: width,\n      height: height,\n      viewMatrix: viewMatrixUncentered,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom,\n      orthographic: orthographic,\n      fovyRadians: fov,\n      aspect: aspect,\n      focalDistance: orthographic ? focalDistance : 1,\n      near: near,\n      far: far\n    });\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(WebMercatorViewport).call(this, viewportOpts));\n    _this.latitude = latitude;\n    _this.longitude = longitude;\n    _this.zoom = zoom;\n    _this.pitch = pitch;\n    _this.bearing = bearing;\n    _this.altitude = altitude;\n    _this.orthographic = orthographic;\n    _this._subViewports = repeat ? [] : null;\n    Object.freeze((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(WebMercatorViewport, [{\n    key: \"addMetersToLngLat\",\n    value: function addMetersToLngLat(lngLatZ, xyz) {\n      return (0, _webMercator.addMetersToLngLat)(lngLatZ, xyz);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref) {\n      var lngLat = _ref.lngLat,\n          pos = _ref.pos;\n      var fromLocation = (0, _webMercator.pixelsToWorld)(pos, this.pixelUnprojectionMatrix);\n      var toLocation = this.projectFlat(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return this.unprojectFlat(newCenter);\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var corners = (0, _webMercator.getBounds)(this, options.z || 0);\n      return [Math.min(corners[0][0], corners[1][0], corners[2][0], corners[3][0]), Math.min(corners[0][1], corners[1][1], corners[2][1], corners[3][1]), Math.max(corners[0][0], corners[1][0], corners[2][0], corners[3][0]), Math.max(corners[0][1], corners[1][1], corners[2][1], corners[3][1])];\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = (0, _webMercator.fitBounds)(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"subViewports\",\n    get: function get() {\n      if (this._subViewports && !this._subViewports.length) {\n        var bounds = this.getBounds();\n        var minOffset = Math.floor((bounds[0] + 180) / 360);\n        var maxOffset = Math.ceil((bounds[2] - 180) / 360);\n\n        for (var x = minOffset; x <= maxOffset; x++) {\n          var offsetViewport = x ? new WebMercatorViewport(_objectSpread({}, this, {\n            worldOffset: x\n          })) : this;\n\n          this._subViewports.push(offsetViewport);\n        }\n      }\n\n      return this._subViewports;\n    }\n  }]);\n  return WebMercatorViewport;\n}(_viewport[\"default\"]);\n\nexports[\"default\"] = WebMercatorViewport;\nWebMercatorViewport.displayName = 'WebMercatorViewport';\n//# sourceMappingURL=web-mercator-viewport.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_interopRequireWildcard","_interopRequireDefault","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_viewport","_webMercator","vec2","_math","WebMercatorViewport","_Viewport","opts","undefined","_opts$latitude","latitude","_opts$longitude","longitude","_opts$zoom","zoom","_opts$pitch","pitch","_opts$bearing","bearing","_opts$nearZMultiplier","nearZMultiplier","_opts$farZMultiplier","farZMultiplier","_opts$orthographic","orthographic","_opts$repeat","repeat","_opts$worldOffset","worldOffset","width","height","_opts$altitude","altitude","scale","Math","pow","max","_getProjectionParamet","getProjectionParameters","fov","aspect","focalDistance","near","far","viewMatrixUncentered","getViewMatrix","translate","Matrix4","viewOffset","multiplyLeft","viewportOpts","assign","viewMatrix","fovyRadians","_this","call","_subViewports","freeze","addMetersToLngLat","lngLatZ","xyz","getMapCenterByLngLatPosition","_ref","lngLat","pos","fromLocation","pixelsToWorld","pixelUnprojectionMatrix","toLocation","projectFlat","add","negate","newCenter","center","unprojectFlat","getBounds","options","corners","z","min","fitBounds","bounds","_fitBounds2","get","maxOffset","ceil","x","floor","minOffset","offsetViewport","displayName"]
}
