shadow$provide.module$node_modules$$deck_DOT_gl$layers$dist$es5$scatterplot_layer$scatterplot_layer=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_possibleConstructorReturn2=
global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_get2=global(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index"),_core2=require("module$node_modules$$luma_DOT_gl$core$dist$es5$index"),_scatterplotLayerVertex=
global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$scatterplot_layer$scatterplot_layer_vertex_glsl")),_scatterplotLayerFragment=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$scatterplot_layer$scatterplot_layer_fragment_glsl"));require=[0,0,0,255];require={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",
min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,getPosition:{type:"accessor",value:function(x){return x.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:require},getLineColor:{type:"accessor",value:require},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor",
"getLineColor"]}};global=function(_Layer){function ScatterplotLayer(){(0,_classCallCheck2["default"])(this,ScatterplotLayer);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(ScatterplotLayer).apply(this,arguments))}(0,_inherits2["default"])(ScatterplotLayer,_Layer);(0,_createClass2["default"])(ScatterplotLayer,[{key:"getShaders",value:function(id){return(0,_get2["default"])((0,_getPrototypeOf2["default"])(ScatterplotLayer.prototype),"getShaders",this).call(this,
{vs:_scatterplotLayerVertex["default"],fs:_scatterplotLayerFragment["default"],modules:[_core.project32,_core.picking]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,
0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(_ref){var props=_ref.props,oldProps=_ref.oldProps;_ref=_ref.changeFlags;(0,_get2["default"])((0,_getPrototypeOf2["default"])(ScatterplotLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:_ref});
if(_ref.extensionsChanged){props=this.context.gl;if(this.state.model)this.state.model["delete"]();this.setState({model:this._getModel(props)});this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(_ref2){var viewport=this.context.viewport,_this$props=this.props,radiusScale=_this$props.radiusScale,radiusMinPixels=_this$props.radiusMinPixels,radiusMaxPixels=_this$props.radiusMaxPixels,stroked=_this$props.stroked,filled=_this$props.filled,lineWidthScale=_this$props.lineWidthScale,
lineWidthMinPixels=_this$props.lineWidthMinPixels,lineWidthMaxPixels=_this$props.lineWidthMaxPixels,pointRadiusMultiplier="pixels"===_this$props.radiusUnits?viewport.metersPerPixel:1;viewport="pixels"===_this$props.lineWidthUnits?viewport.metersPerPixel:1;this.state.model.setUniforms(_ref2.uniforms).setUniforms({stroked:stroked?1:0,filled:filled,radiusScale:radiusScale*pointRadiusMultiplier,radiusMinPixels:radiusMinPixels,radiusMaxPixels:radiusMaxPixels,lineWidthScale:lineWidthScale*viewport,lineWidthMinPixels:lineWidthMinPixels,
lineWidthMaxPixels:lineWidthMaxPixels}).draw()}},{key:"_getModel",value:function(gl){return new _core2.Model(gl,Object.assign(this.getShaders(),{id:this.props.id,geometry:new _core2.Geometry({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0}))}}]);return ScatterplotLayer}(_core.Layer);exports["default"]=global;global.layerName="ScatterplotLayer";global.defaultProps=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$layers$dist$es5$scatterplot_layer$scatterplot_layer.js.map
