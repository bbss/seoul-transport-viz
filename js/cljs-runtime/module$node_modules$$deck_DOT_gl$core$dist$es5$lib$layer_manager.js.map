{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$layer_manager.js",
"lineCount":19,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/lib/layer-manager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$lib$layer_manager\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assert = _interopRequireDefault(require(\"../utils/assert\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nvar _layer = _interopRequireDefault(require(\"./layer\"));\n\nvar _constants = require(\"../lifecycle/constants\");\n\nvar _log = _interopRequireDefault(require(\"../utils/log\"));\n\nvar _debug = _interopRequireDefault(require(\"../debug\"));\n\nvar _flatten = require(\"../utils/flatten\");\n\nvar _probe = require(\"probe.gl\");\n\nvar _resourceManager = _interopRequireDefault(require(\"./resource/resource-manager\"));\n\nvar _viewport = _interopRequireDefault(require(\"../viewports/viewport\"));\n\nvar _shaderlib = require(\"../shaderlib\");\n\nvar TRACE_SET_LAYERS = 'layerManager.setLayers';\nvar TRACE_ACTIVATE_VIEWPORT = 'layerManager.activateViewport';\nvar INITIAL_CONTEXT = Object.seal({\n  layerManager: null,\n  resourceManager: null,\n  deck: null,\n  gl: null,\n  stats: null,\n  shaderCache: null,\n  pickingFBO: null,\n  mousePosition: null,\n  userData: {}\n});\n\nvar layerName = function layerName(layer) {\n  return layer instanceof _layer[\"default\"] ? \"\".concat(layer) : !layer ? 'null' : 'invalid';\n};\n\nvar LayerManager = function () {\n  function LayerManager(gl) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        deck = _ref.deck,\n        stats = _ref.stats,\n        viewport = _ref.viewport,\n        timeline = _ref.timeline;\n\n    (0, _classCallCheck2[\"default\"])(this, LayerManager);\n    this.lastRenderedLayers = [];\n    this.layers = [];\n    this.resourceManager = new _resourceManager[\"default\"]({\n      gl: gl,\n      protocol: 'deck://'\n    });\n    this.context = Object.assign({}, INITIAL_CONTEXT, {\n      layerManager: this,\n      gl: gl,\n      deck: deck,\n      programManager: gl && (0, _shaderlib.createProgramManager)(gl),\n      stats: stats || new _probe.Stats({\n        id: 'deck.gl'\n      }),\n      viewport: viewport || new _viewport[\"default\"]({\n        id: 'DEFAULT-INITIAL-VIEWPORT'\n      }),\n      timeline: timeline || new _core.Timeline(),\n      resourceManager: this.resourceManager\n    });\n    this._needsRedraw = 'Initial render';\n    this._needsUpdate = false;\n    this._debug = false;\n    this._onError = null;\n    this.activateViewport = this.activateViewport.bind(this);\n    Object.seal(this);\n  }\n\n  (0, _createClass2[\"default\"])(LayerManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this.resourceManager.finalize();\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.layers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var layer = _step.value;\n\n          this._finalizeLayer(layer);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.layers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var layer = _step2.value;\n          var layerNeedsRedraw = layer.getNeedsRedraw(opts);\n          redraw = redraw || layerNeedsRedraw;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      return this._needsUpdate;\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw(reason) {\n      this._needsRedraw = this._needsRedraw || reason;\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate(reason) {\n      this._needsUpdate = this._needsUpdate || reason;\n    }\n  }, {\n    key: \"getLayers\",\n    value: function getLayers() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$layerIds = _ref2.layerIds,\n          layerIds = _ref2$layerIds === void 0 ? null : _ref2$layerIds;\n\n      return layerIds ? this.layers.filter(function (layer) {\n        return layerIds.find(function (layerId) {\n          return layer.id.indexOf(layerId) === 0;\n        });\n      }) : this.layers;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('debug' in props) {\n        this._debug = props.debug;\n      }\n\n      if ('userData' in props) {\n        this.context.userData = props.userData;\n      }\n\n      if ('layers' in props) {\n        this.setLayers(props.layers);\n      }\n\n      if ('onError' in props) {\n        this._onError = props.onError;\n      }\n    }\n  }, {\n    key: \"setLayers\",\n    value: function setLayers(newLayers) {\n      var forceUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var shouldUpdate = forceUpdate || newLayers !== this.lastRenderedLayers;\n      (0, _debug[\"default\"])(TRACE_SET_LAYERS, this, shouldUpdate, newLayers);\n\n      if (!shouldUpdate) {\n        return this;\n      }\n\n      this.lastRenderedLayers = newLayers;\n      newLayers = (0, _flatten.flatten)(newLayers, Boolean);\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = newLayers[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var layer = _step3.value;\n          layer.context = this.context;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      this._updateLayers(this.layers, newLayers);\n\n      return this;\n    }\n  }, {\n    key: \"updateLayers\",\n    value: function updateLayers() {\n      var reason = this.needsUpdate();\n\n      if (reason) {\n        this.setNeedsRedraw(\"updating layers: \".concat(reason));\n        var forceUpdate = true;\n        this.setLayers(this.lastRenderedLayers, forceUpdate);\n      }\n    }\n  }, {\n    key: \"activateViewport\",\n    value: function activateViewport(viewport) {\n      (0, _assert[\"default\"])(viewport, 'LayerManager: viewport not set');\n      var oldViewport = this.context.viewport;\n      var viewportChanged = !oldViewport || !viewport.equals(oldViewport);\n\n      if (viewportChanged) {\n        (0, _debug[\"default\"])(TRACE_ACTIVATE_VIEWPORT, this, viewport);\n        this.context.viewport = viewport;\n        var changeFlags = {\n          viewportChanged: true\n        };\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = this.layers[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var layer = _step4.value;\n            layer.setChangeFlags(changeFlags);\n\n            this._updateLayer(layer);\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n              _iterator4[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_handleError\",\n    value: function _handleError(stage, error, layer) {\n      if (this._onError) {\n        this._onError(error, layer);\n      } else {\n        _log[\"default\"].error(\"error during \".concat(stage, \" of \").concat(layerName(layer)), error)();\n      }\n    }\n  }, {\n    key: \"_updateLayers\",\n    value: function _updateLayers(oldLayers, newLayers) {\n      var oldLayerMap = {};\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = oldLayers[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var oldLayer = _step5.value;\n\n          if (oldLayerMap[oldLayer.id]) {\n            _log[\"default\"].warn(\"Multiple old layers with same id \".concat(layerName(oldLayer)))();\n          } else {\n            oldLayerMap[oldLayer.id] = oldLayer;\n          }\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n\n      var generatedLayers = [];\n\n      this._updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers);\n\n      this._finalizeOldLayers(oldLayerMap);\n\n      var needsUpdate = false;\n\n      for (var _i = 0, _generatedLayers = generatedLayers; _i < _generatedLayers.length; _i++) {\n        var layer = _generatedLayers[_i];\n\n        if (layer.hasUniformTransition()) {\n          needsUpdate = true;\n          break;\n        }\n      }\n\n      this._needsUpdate = needsUpdate;\n      this.layers = generatedLayers;\n    }\n  }, {\n    key: \"_updateSublayersRecursively\",\n    value: function _updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers) {\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = newLayers[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var newLayer = _step6.value;\n          newLayer.context = this.context;\n          var oldLayer = oldLayerMap[newLayer.id];\n\n          if (oldLayer === null) {\n            _log[\"default\"].warn(\"Multiple new layers with same id \".concat(layerName(newLayer)))();\n          }\n\n          oldLayerMap[newLayer.id] = null;\n          var sublayers = null;\n\n          try {\n            if (this._debug && oldLayer !== newLayer) {\n              newLayer.validateProps();\n            }\n\n            if (!oldLayer) {\n              this._initializeLayer(newLayer);\n            } else {\n              this._transferLayerState(oldLayer, newLayer);\n\n              this._updateLayer(newLayer);\n            }\n\n            generatedLayers.push(newLayer);\n            sublayers = newLayer.isComposite && newLayer.getSubLayers();\n          } catch (err) {\n            this._handleError('matching', err, newLayer);\n          }\n\n          if (sublayers) {\n            this._updateSublayersRecursively(sublayers, oldLayerMap, generatedLayers);\n          }\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n            _iterator6[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_finalizeOldLayers\",\n    value: function _finalizeOldLayers(oldLayerMap) {\n      for (var layerId in oldLayerMap) {\n        var layer = oldLayerMap[layerId];\n\n        if (layer) {\n          this._finalizeLayer(layer);\n        }\n      }\n    }\n  }, {\n    key: \"_initializeLayer\",\n    value: function _initializeLayer(layer) {\n      try {\n        layer._initialize();\n\n        layer.lifecycle = _constants.LIFECYCLE.INITIALIZED;\n      } catch (err) {\n        this._handleError('initialization', err, layer);\n      }\n    }\n  }, {\n    key: \"_transferLayerState\",\n    value: function _transferLayerState(oldLayer, newLayer) {\n      newLayer._transferState(oldLayer);\n\n      newLayer.lifecycle = _constants.LIFECYCLE.MATCHED;\n\n      if (newLayer !== oldLayer) {\n        oldLayer.lifecycle = _constants.LIFECYCLE.AWAITING_GC;\n      }\n    }\n  }, {\n    key: \"_updateLayer\",\n    value: function _updateLayer(layer) {\n      try {\n        layer._update();\n      } catch (err) {\n        this._handleError('update', err, layer);\n      }\n    }\n  }, {\n    key: \"_finalizeLayer\",\n    value: function _finalizeLayer(layer) {\n      this._needsRedraw = this._needsRedraw || \"finalized \".concat(layerName(layer));\n      layer.lifecycle = _constants.LIFECYCLE.AWAITING_FINALIZATION;\n\n      try {\n        layer._finalize();\n\n        layer.lifecycle = _constants.LIFECYCLE.FINALIZED;\n      } catch (err) {\n        this._handleError('finalization', err, layer);\n      }\n    }\n  }]);\n  return LayerManager;\n}();\n\nexports[\"default\"] = LayerManager;\n//# sourceMappingURL=layer-manager.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_assert","_core","_layer","_constants","_log","_debug","_flatten","_probe","_resourceManager","_viewport","_shaderlib","INITIAL_CONTEXT","seal","layerManager","resourceManager","deck","gl","stats","shaderCache","pickingFBO","mousePosition","userData","layerName","layer","concat","LayerManager","_ref","arguments","length","undefined","viewport","timeline","lastRenderedLayers","layers","protocol","context","assign","programManager","createProgramManager","Stats","id","Timeline","_needsRedraw","_needsUpdate","_onError","activateViewport","bind","key","finalize","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","_finalizeLayer","err","needsRedraw","opts","clearRedrawFlags","redraw","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","layerNeedsRedraw","getNeedsRedraw","needsUpdate","setNeedsRedraw","reason","setNeedsUpdate","getLayers","_ref2$layerIds","layerIds","_ref2","filter","find","layerId","indexOf","setProps","props","debug","setLayers","onError","newLayers","shouldUpdate","forceUpdate","TRACE_SET_LAYERS","flatten","Boolean","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_updateLayers","updateLayers","oldViewport","equals","TRACE_ACTIVATE_VIEWPORT","changeFlags","viewportChanged","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","setChangeFlags","_updateLayer","_handleError","stage","error","oldLayers","oldLayerMap","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","oldLayer","warn","generatedLayers","_updateSublayersRecursively","_finalizeOldLayers","_i","hasUniformTransition","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","newLayer","sublayers","validateProps","_transferLayerState","_initializeLayer","push","isComposite","getSubLayers","_initialize","lifecycle","LIFECYCLE","INITIALIZED","_transferState","MATCHED","AWAITING_GC","_update","AWAITING_FINALIZATION","_finalize","FINALIZED"]
}
