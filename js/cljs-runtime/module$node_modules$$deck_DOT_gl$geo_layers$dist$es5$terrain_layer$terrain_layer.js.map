{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$terrain_layer$terrain_layer.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/geo-layers/dist/es5/terrain-layer/terrain-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$geo_layers$dist$es5$terrain_layer$terrain_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _meshLayers = require(\"@deck.gl/mesh-layers\");\n\nvar _core2 = require(\"@loaders.gl/core\");\n\nvar _terrain = require(\"@loaders.gl/terrain\");\n\nvar _tileLayer = _interopRequireDefault(require(\"../tile-layer/tile-layer\"));\n\nvar _utils = require(\"../tile-layer/utils\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar DUMMY_DATA = [1];\n\nvar defaultProps = _objectSpread({}, _tileLayer[\"default\"].defaultProps, {\n  elevationData: _utils.urlType,\n  texture: _utils.urlType,\n  meshMaxError: {\n    type: 'number',\n    value: 4.0\n  },\n  bounds: {\n    type: 'array',\n    value: null,\n    optional: true,\n    compare: true\n  },\n  color: {\n    type: 'color',\n    value: [255, 255, 255]\n  },\n  elevationDecoder: {\n    type: 'object',\n    value: {\n      rScaler: 1,\n      gScaler: 0,\n      bScaler: 0,\n      offset: 0\n    }\n  },\n  workerUrl: {\n    type: 'string',\n    value: null\n  },\n  wireframe: false,\n  material: true\n});\n\nfunction urlTemplateToUpdateTrigger(template) {\n  if (Array.isArray(template)) {\n    return template.join(';');\n  }\n\n  return template;\n}\n\nvar TerrainLayer = function (_CompositeLayer) {\n  (0, _inherits2[\"default\"])(TerrainLayer, _CompositeLayer);\n\n  function TerrainLayer() {\n    (0, _classCallCheck2[\"default\"])(this, TerrainLayer);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(TerrainLayer).apply(this, arguments));\n  }\n\n  (0, _createClass2[\"default\"])(TerrainLayer, [{\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          oldProps = _ref.oldProps;\n      var elevationDataChanged = props.elevationData !== oldProps.elevationData;\n\n      if (elevationDataChanged) {\n        var elevationData = props.elevationData;\n        var isTiled = elevationData && (Array.isArray(elevationData) || elevationData.includes('{x}') && elevationData.includes('{y}'));\n        this.setState({\n          isTiled: isTiled\n        });\n      }\n\n      var shouldReload = elevationDataChanged || props.meshMaxError !== oldProps.meshMaxError || props.elevationDecoder !== oldProps.elevationDecoder || props.bounds !== oldProps.bounds;\n\n      if (!this.state.isTiled && shouldReload) {\n        var terrain = this.loadTerrain(props);\n        this.setState({\n          terrain: terrain\n        });\n      }\n    }\n  }, {\n    key: \"loadTerrain\",\n    value: function loadTerrain(_ref2) {\n      var elevationData = _ref2.elevationData,\n          bounds = _ref2.bounds,\n          elevationDecoder = _ref2.elevationDecoder,\n          meshMaxError = _ref2.meshMaxError,\n          workerUrl = _ref2.workerUrl;\n\n      if (!elevationData) {\n        return null;\n      }\n\n      var options = {\n        terrain: {\n          bounds: bounds,\n          meshMaxError: meshMaxError,\n          elevationDecoder: elevationDecoder\n        }\n      };\n\n      if (workerUrl !== null) {\n        options.terrain.workerUrl = workerUrl;\n      }\n\n      return (0, _core2.load)(elevationData, _terrain.TerrainLoader, options);\n    }\n  }, {\n    key: \"getTiledTerrainData\",\n    value: function getTiledTerrainData(tile) {\n      var _this$props = this.props,\n          elevationData = _this$props.elevationData,\n          texture = _this$props.texture,\n          elevationDecoder = _this$props.elevationDecoder,\n          meshMaxError = _this$props.meshMaxError,\n          workerUrl = _this$props.workerUrl;\n      var dataUrl = (0, _utils.getURLFromTemplate)(elevationData, tile);\n      var textureUrl = (0, _utils.getURLFromTemplate)(texture, tile);\n      var bbox = tile.bbox,\n          z = tile.z;\n      var viewport = new _core.WebMercatorViewport({\n        longitude: (bbox.west + bbox.east) / 2,\n        latitude: (bbox.north + bbox.south) / 2,\n        zoom: z\n      });\n      var bottomLeft = viewport.projectFlat([bbox.west, bbox.south]);\n      var topRight = viewport.projectFlat([bbox.east, bbox.north]);\n      var bounds = [bottomLeft[0], bottomLeft[1], topRight[0], topRight[1]];\n      var terrain = this.loadTerrain({\n        elevationData: dataUrl,\n        bounds: bounds,\n        elevationDecoder: elevationDecoder,\n        meshMaxError: meshMaxError,\n        workerUrl: workerUrl\n      });\n      var surface = textureUrl ? (0, _core2.load)(textureUrl)[\"catch\"](function (_) {\n        return null;\n      }) : Promise.resolve(null);\n      return Promise.all([terrain, surface]);\n    }\n  }, {\n    key: \"renderSubLayers\",\n    value: function renderSubLayers(props) {\n      var SubLayerClass = this.getSubLayerClass('mesh', _meshLayers.SimpleMeshLayer);\n      var data = props.data,\n          color = props.color;\n\n      if (!data) {\n        return null;\n      }\n\n      var _data = (0, _slicedToArray2[\"default\"])(data, 2),\n          mesh = _data[0],\n          texture = _data[1];\n\n      return new SubLayerClass(props, {\n        data: DUMMY_DATA,\n        mesh: mesh,\n        texture: texture,\n        coordinateSystem: _core.COORDINATE_SYSTEM.CARTESIAN,\n        getPosition: function getPosition(d) {\n          return [0, 0, 0];\n        },\n        getColor: color\n      });\n    }\n  }, {\n    key: \"onViewportLoad\",\n    value: function onViewportLoad(data) {\n      if (!data || data.length === 0 || data.every(function (x) {\n        return !x;\n      })) {\n        return;\n      }\n\n      var zRange = this.state.zRange;\n      var ranges = data.filter(Boolean).map(function (arr) {\n        var bounds = arr[0].header.boundingBox;\n        return bounds.map(function (bound) {\n          return bound[2];\n        });\n      });\n      var minZ = Math.min.apply(Math, (0, _toConsumableArray2[\"default\"])(ranges.map(function (x) {\n        return x[0];\n      })));\n      var maxZ = Math.max.apply(Math, (0, _toConsumableArray2[\"default\"])(ranges.map(function (x) {\n        return x[1];\n      })));\n\n      if (!zRange || minZ < zRange[0] || maxZ > zRange[1]) {\n        this.setState({\n          zRange: [minZ, maxZ]\n        });\n      }\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers() {\n      var _this$props2 = this.props,\n          color = _this$props2.color,\n          material = _this$props2.material,\n          elevationData = _this$props2.elevationData,\n          texture = _this$props2.texture,\n          wireframe = _this$props2.wireframe,\n          meshMaxError = _this$props2.meshMaxError,\n          elevationDecoder = _this$props2.elevationDecoder;\n\n      if (this.state.isTiled) {\n        return new _tileLayer[\"default\"](this.getSubLayerProps({\n          id: 'tiles'\n        }), {\n          wireframe: wireframe,\n          color: color,\n          material: material,\n          getTileData: this.getTiledTerrainData.bind(this),\n          renderSubLayers: this.renderSubLayers.bind(this),\n          updateTriggers: {\n            getTileData: {\n              elevationData: urlTemplateToUpdateTrigger(elevationData),\n              texture: urlTemplateToUpdateTrigger(texture),\n              meshMaxError: meshMaxError,\n              elevationDecoder: elevationDecoder\n            }\n          },\n          onViewportLoad: this.onViewportLoad.bind(this),\n          zRange: this.state.zRange || null\n        });\n      }\n\n      var SubLayerClass = this.getSubLayerClass('mesh', _meshLayers.SimpleMeshLayer);\n      return new SubLayerClass(this.getSubLayerProps({\n        id: 'mesh'\n      }), {\n        data: DUMMY_DATA,\n        mesh: this.state.terrain,\n        texture: texture,\n        _instanced: false,\n        getPosition: function getPosition(d) {\n          return [0, 0, 0];\n        },\n        getColor: color,\n        material: material,\n        wireframe: wireframe\n      });\n    }\n  }]);\n  return TerrainLayer;\n}(_core.CompositeLayer);\n\nexports[\"default\"] = TerrainLayer;\nTerrainLayer.layerName = 'TerrainLayer';\nTerrainLayer.defaultProps = defaultProps;\n//# sourceMappingURL=terrain-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","urlTemplateToUpdateTrigger","template","Array","isArray","join","_interopRequireDefault","defineProperty","value","_toConsumableArray2","_slicedToArray2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_defineProperty2","_core","_meshLayers","_core2","_terrain","_tileLayer","_utils","DUMMY_DATA","defaultProps","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","elevationData","urlType","texture","meshMaxError","type","bounds","optional","compare","color","elevationDecoder","rScaler","gScaler","bScaler","offset","workerUrl","wireframe","material","TerrainLayer","_CompositeLayer","updateState","_ref","props","oldProps","elevationDataChanged","isTiled","includes","setState","shouldReload","state","terrain","loadTerrain","_ref2","options","load","TerrainLoader","getTiledTerrainData","tile","_this$props","dataUrl","getURLFromTemplate","textureUrl","bbox","viewport","WebMercatorViewport","longitude","west","east","latitude","north","south","zoom","z","bottomLeft","projectFlat","topRight","surface","_","Promise","resolve","all","renderSubLayers","SubLayerClass","getSubLayerClass","SimpleMeshLayer","data","_data","mesh","coordinateSystem","COORDINATE_SYSTEM","CARTESIAN","getPosition","d","getColor","onViewportLoad","every","x","zRange","ranges","Boolean","map","arr","header","boundingBox","bound","minZ","Math","min","maxZ","max","renderLayers","_this$props2","getSubLayerProps","id","getTileData","bind","updateTriggers","_instanced","CompositeLayer","layerName"]
}
