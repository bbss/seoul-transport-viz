{
"version":3,
"file":"module$node_modules$rxjs$dist$cjs$internal$operators$bufferTime.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/rxjs/dist/cjs/internal/operators/bufferTime.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rxjs$dist$cjs$internal$operators$bufferTime\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bufferTime = void 0;\nvar async_1 = require(\"../scheduler/async\");\nvar Subscriber_1 = require(\"../Subscriber\");\nvar isScheduler_1 = require(\"../util/isScheduler\");\nfunction bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async_1.async;\n    if (isScheduler_1.isScheduler(arguments[arguments.length - 1])) {\n        scheduler = arguments[arguments.length - 1];\n        length--;\n    }\n    var bufferCreationInterval = null;\n    if (length >= 2) {\n        bufferCreationInterval = arguments[1];\n    }\n    var maxBufferSize = Infinity;\n    if (length >= 3) {\n        maxBufferSize = arguments[2];\n    }\n    return function bufferTimeOperatorFunction(source) {\n        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n    };\n}\nexports.bufferTime = bufferTime;\nvar BufferTimeOperator = (function () {\n    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        this.bufferTimeSpan = bufferTimeSpan;\n        this.bufferCreationInterval = bufferCreationInterval;\n        this.maxBufferSize = maxBufferSize;\n        this.scheduler = scheduler;\n    }\n    BufferTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));\n    };\n    return BufferTimeOperator;\n}());\nvar Context = (function () {\n    function Context() {\n        this.buffer = [];\n    }\n    return Context;\n}());\nvar BufferTimeSubscriber = (function (_super) {\n    __extends(BufferTimeSubscriber, _super);\n    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferTimeSpan = bufferTimeSpan;\n        _this.bufferCreationInterval = bufferCreationInterval;\n        _this.maxBufferSize = maxBufferSize;\n        _this.scheduler = scheduler;\n        _this.contexts = [];\n        var context = _this.openContext();\n        _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n        if (_this.timespanOnly) {\n            var timeSpanOnlyState = { subscriber: _this, context: context, bufferTimeSpan: bufferTimeSpan };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n        else {\n            var closeState = { subscriber: _this, context: context };\n            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));\n        }\n        return _this;\n    }\n    BufferTimeSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        var filledBufferContext;\n        for (var i = 0; i < len; i++) {\n            var context_1 = contexts[i];\n            var buffer = context_1.buffer;\n            buffer.push(value);\n            if (buffer.length == this.maxBufferSize) {\n                filledBufferContext = context_1;\n            }\n        }\n        if (filledBufferContext) {\n            this.onBufferFull(filledBufferContext);\n        }\n    };\n    BufferTimeSubscriber.prototype._error = function (err) {\n        this.contexts.length = 0;\n        _super.prototype._error.call(this, err);\n    };\n    BufferTimeSubscriber.prototype._complete = function () {\n        var _a = this, contexts = _a.contexts, destination = _a.destination;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            destination.next(context_2.buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferTimeSubscriber.prototype._unsubscribe = function () {\n        this.contexts = null;\n    };\n    BufferTimeSubscriber.prototype.onBufferFull = function (context) {\n        this.closeContext(context);\n        var closeAction = context.closeAction;\n        closeAction.unsubscribe();\n        this.remove(closeAction);\n        if (!this.closed && this.timespanOnly) {\n            context = this.openContext();\n            var bufferTimeSpan = this.bufferTimeSpan;\n            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };\n            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n    };\n    BufferTimeSubscriber.prototype.openContext = function () {\n        var context = new Context();\n        this.contexts.push(context);\n        return context;\n    };\n    BufferTimeSubscriber.prototype.closeContext = function (context) {\n        this.destination.next(context.buffer);\n        var contexts = this.contexts;\n        var spliceIndex = contexts ? contexts.indexOf(context) : -1;\n        if (spliceIndex >= 0) {\n            contexts.splice(contexts.indexOf(context), 1);\n        }\n    };\n    return BufferTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchBufferTimeSpanOnly(state) {\n    var subscriber = state.subscriber;\n    var prevContext = state.context;\n    if (prevContext) {\n        subscriber.closeContext(prevContext);\n    }\n    if (!subscriber.closed) {\n        state.context = subscriber.openContext();\n        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n    }\n}\nfunction dispatchBufferCreation(state) {\n    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;\n    var context = subscriber.openContext();\n    var action = this;\n    if (!subscriber.closed) {\n        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));\n        action.schedule(state, bufferCreationInterval);\n    }\n}\nfunction dispatchBufferClose(arg) {\n    var subscriber = arg.subscriber, context = arg.context;\n    subscriber.closeContext(context);\n}\n//# sourceMappingURL=bufferTime.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","dispatchBufferTimeSpanOnly","state","subscriber","prevContext","context","closeContext","closed","openContext","closeAction","schedule","bufferTimeSpan","dispatchBufferCreation","bufferCreationInterval","scheduler","add","dispatchBufferClose","action","arg","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","bufferTime","async_1","Subscriber_1","isScheduler_1","length","arguments","async","isScheduler","maxBufferSize","Infinity","bufferTimeOperatorFunction","source","lift","BufferTimeOperator","call","BufferTimeOperator.prototype.call","subscribe","BufferTimeSubscriber","Context","buffer","_super","destination","_this","contexts","timespanOnly","timeSpanOnlyState","creationState","closeState","_next","BufferTimeSubscriber.prototype._next","len","filledBufferContext","i","context_1","push","onBufferFull","_error","BufferTimeSubscriber.prototype._error","err","_complete","BufferTimeSubscriber.prototype._complete","_a","context_2","shift","next","_unsubscribe","BufferTimeSubscriber.prototype._unsubscribe","BufferTimeSubscriber.prototype.onBufferFull","unsubscribe","remove","BufferTimeSubscriber.prototype.openContext","BufferTimeSubscriber.prototype.closeContext","spliceIndex","indexOf","splice","Subscriber"]
}
