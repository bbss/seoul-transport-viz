{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$vertex_array_object.js",
"lineCount":15,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/vertex-array-object.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$vertex_array_object\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _resource = _interopRequireDefault(require(\"./resource\"));\n\nvar _buffer = _interopRequireDefault(require(\"./buffer\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _arrayUtilsFlat = require(\"../utils/array-utils-flat\");\n\nvar _utils = require(\"../utils\");\n\nvar _probe = require(\"probe.gl\");\n\nvar ERR_ELEMENTS = 'elements must be GL.ELEMENT_ARRAY_BUFFER';\n\nvar VertexArrayObject = function (_Resource) {\n  (0, _inherits2[\"default\"])(VertexArrayObject, _Resource);\n  (0, _createClass2[\"default\"])(VertexArrayObject, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (options.constantAttributeZero) {\n        return (0, _gltools.isWebGL2)(gl) || (0, _probe.getBrowser)() === 'Chrome';\n      }\n\n      return true;\n    }\n  }, {\n    key: \"getDefaultArray\",\n    value: function getDefaultArray(gl) {\n      gl.luma = gl.luma || {};\n\n      if (!gl.luma.defaultVertexArray) {\n        gl.luma.defaultVertexArray = new VertexArrayObject(gl, {\n          handle: null,\n          isDefaultArray: true\n        });\n      }\n\n      return gl.luma.defaultVertexArray;\n    }\n  }, {\n    key: \"getMaxAttributes\",\n    value: function getMaxAttributes(gl) {\n      VertexArrayObject.MAX_ATTRIBUTES = VertexArrayObject.MAX_ATTRIBUTES || gl.getParameter(34921);\n      return VertexArrayObject.MAX_ATTRIBUTES;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(gl, location, array) {\n      switch (array.constructor) {\n        case Float32Array:\n          VertexArrayObject._setConstantFloatArray(gl, location, array);\n\n          break;\n\n        case Int32Array:\n          VertexArrayObject._setConstantIntArray(gl, location, array);\n\n          break;\n\n        case Uint32Array:\n          VertexArrayObject._setConstantUintArray(gl, location, array);\n\n          break;\n\n        default:\n          (0, _utils.assert)(false);\n      }\n    }\n  }]);\n\n  function VertexArrayObject(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, VertexArrayObject);\n    var id = opts.id || opts.program && opts.program.id;\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(VertexArrayObject).call(this, gl, Object.assign({}, opts, {\n      id: id\n    })));\n    _this.buffer = null;\n    _this.bufferValue = null;\n    _this.isDefaultArray = opts.isDefaultArray || false;\n\n    _this.initialize(opts);\n\n    Object.seal((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(VertexArrayObject, [{\n    key: \"delete\",\n    value: function _delete() {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(VertexArrayObject.prototype), \"delete\", this).call(this);\n\n      if (this.buffer) {\n        this.buffer[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this.setProps(props);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      return this;\n    }\n  }, {\n    key: \"setElementBuffer\",\n    value: function setElementBuffer() {\n      var _this2 = this;\n\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      (0, _utils.assert)(!elementBuffer || elementBuffer.target === 34963, ERR_ELEMENTS);\n      this.bind(function () {\n        _this2.gl.bindBuffer(34963, elementBuffer ? elementBuffer.handle : null);\n      });\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(location, buffer, accessor) {\n      if (buffer.target === 34963) {\n        return this.setElementBuffer(buffer, accessor);\n      }\n\n      var size = accessor.size,\n          type = accessor.type,\n          stride = accessor.stride,\n          offset = accessor.offset,\n          normalized = accessor.normalized,\n          integer = accessor.integer,\n          divisor = accessor.divisor;\n      var gl = this.gl;\n      location = Number(location);\n      this.bind(function () {\n        gl.bindBuffer(34962, buffer.handle);\n\n        if (integer) {\n          (0, _utils.assert)((0, _gltools.isWebGL2)(gl));\n          gl.vertexAttribIPointer(location, size, type, stride, offset);\n        } else {\n          gl.vertexAttribPointer(location, size, type, normalized, stride, offset);\n        }\n\n        gl.enableVertexAttribArray(location);\n        gl.vertexAttribDivisor(location, divisor || 0);\n      });\n      return this;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(location) {\n      var _this3 = this;\n\n      var _enable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var disablingAttributeZero = !_enable && location === 0 && !VertexArrayObject.isSupported(this.gl, {\n        constantAttributeZero: true\n      });\n\n      if (!disablingAttributeZero) {\n        location = Number(location);\n        this.bind(function () {\n          return _enable ? _this3.gl.enableVertexAttribArray(location) : _this3.gl.disableVertexAttribArray(location);\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getConstantBuffer\",\n    value: function getConstantBuffer(elementCount, value, accessor) {\n      var constantValue = this._normalizeConstantArrayValue(value, accessor);\n\n      var byteLength = constantValue.byteLength * elementCount;\n      var length = constantValue.length * elementCount;\n      var updateNeeded = !this.buffer;\n      this.buffer = this.buffer || new _buffer[\"default\"](this.gl, byteLength);\n      updateNeeded = updateNeeded || this.buffer.reallocate(byteLength);\n      updateNeeded = updateNeeded || !this._compareConstantArrayValues(constantValue, this.bufferValue);\n\n      if (updateNeeded) {\n        var typedArray = (0, _arrayUtilsFlat.getScratchArray)(value.constructor, length);\n        (0, _arrayUtilsFlat.fillArray)({\n          target: typedArray,\n          source: constantValue,\n          start: 0,\n          count: length\n        });\n        this.buffer.subData(typedArray);\n        this.bufferValue = value;\n      }\n\n      return this.buffer;\n    }\n  }, {\n    key: \"_normalizeConstantArrayValue\",\n    value: function _normalizeConstantArrayValue(arrayValue, accessor) {\n      if (Array.isArray(arrayValue)) {\n        return new Float32Array(arrayValue);\n      }\n\n      return arrayValue;\n    }\n  }, {\n    key: \"_compareConstantArrayValues\",\n    value: function _compareConstantArrayValues(v1, v2) {\n      if (!v1 || !v2 || v1.length !== v2.length || v1.constructor !== v2.constructor) {\n        return false;\n      }\n\n      for (var i = 0; i < v1.length; ++i) {\n        if (v1[i] !== v2[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createVertexArray();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle(handle) {\n      this.gl.deleteVertexArray(handle);\n      return [this.elements];\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl.bindVertexArray(handle);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname, _ref) {\n      var _this4 = this;\n\n      var location = _ref.location;\n      (0, _utils.assert)(Number.isFinite(location));\n      return this.bind(function () {\n        switch (pname) {\n          case 34373:\n            return _this4.gl.getVertexAttribOffset(location, pname);\n\n          default:\n            return _this4.gl.getVertexAttrib(location, pname);\n        }\n      });\n    }\n  }, {\n    key: \"MAX_ATTRIBUTES\",\n    get: function get() {\n      return VertexArrayObject.getMaxAttributes(this.gl);\n    }\n  }], [{\n    key: \"_setConstantFloatArray\",\n    value: function _setConstantFloatArray(gl, location, array) {\n      switch (array.length) {\n        case 1:\n          gl.vertexAttrib1fv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttrib2fv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttrib3fv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttrib4fv(location, array);\n          break;\n\n        default:\n          (0, _utils.assert)(false);\n      }\n    }\n  }, {\n    key: \"_setConstantIntArray\",\n    value: function _setConstantIntArray(gl, location, array) {\n      (0, _utils.assert)((0, _gltools.isWebGL2)(gl));\n\n      switch (array.length) {\n        case 1:\n          gl.vertexAttribI1iv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttribI2iv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttribI3iv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttribI4iv(location, array);\n          break;\n\n        default:\n          (0, _utils.assert)(false);\n      }\n    }\n  }, {\n    key: \"_setConstantUintArray\",\n    value: function _setConstantUintArray(gl, location, array) {\n      (0, _utils.assert)((0, _gltools.isWebGL2)(gl));\n\n      switch (array.length) {\n        case 1:\n          gl.vertexAttribI1uiv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttribI2uiv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttribI3uiv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttribI4uiv(location, array);\n          break;\n\n        default:\n          (0, _utils.assert)(false);\n      }\n    }\n  }]);\n  return VertexArrayObject;\n}(_resource[\"default\"]);\n\nexports[\"default\"] = VertexArrayObject;\n//# sourceMappingURL=vertex-array-object.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_possibleConstructorReturn2","_assertThisInitialized2","_getPrototypeOf2","_get2","_createClass2","_inherits2","_resource","_buffer","_gltools","_arrayUtilsFlat","_utils","_probe","VertexArrayObject","_Resource","gl","opts","arguments","length","undefined","id","program","_this","call","assign","buffer","bufferValue","isDefaultArray","initialize","seal","key","isSupported","constantAttributeZero","options","isWebGL2","getBrowser","getDefaultArray","luma","defaultVertexArray","handle","getMaxAttributes","MAX_ATTRIBUTES","getParameter","setConstant","location","array","constructor","Float32Array","_setConstantFloatArray","Int32Array","_setConstantIntArray","Uint32Array","_setConstantUintArray","assert","_delete","prototype","setProps","props","setElementBuffer","_this2","elementBuffer","target","ERR_ELEMENTS","bind","bindBuffer","setBuffer","accessor","size","type","stride","offset","normalized","integer","divisor","Number","vertexAttribIPointer","vertexAttribPointer","enableVertexAttribArray","vertexAttribDivisor","enable","_this3","_enable","disableVertexAttribArray","getConstantBuffer","elementCount","constantValue","_normalizeConstantArrayValue","byteLength","updateNeeded","reallocate","_compareConstantArrayValues","typedArray","getScratchArray","fillArray","source","start","count","subData","arrayValue","Array","isArray","v1","v2","i","_createHandle","createVertexArray","_deleteHandle","deleteVertexArray","elements","_bindHandle","bindVertexArray","_getParameter","pname","_ref","_this4","isFinite","getVertexAttribOffset","getVertexAttrib","get","vertexAttrib1fv","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttribI1iv","vertexAttribI2iv","vertexAttribI3iv","vertexAttribI4iv","vertexAttribI1uiv","vertexAttribI2uiv","vertexAttribI3uiv","vertexAttribI4uiv"]
}
