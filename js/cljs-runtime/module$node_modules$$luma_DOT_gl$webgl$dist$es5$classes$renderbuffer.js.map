{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$renderbuffer.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/renderbuffer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$renderbuffer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _resource = _interopRequireDefault(require(\"./resource\"));\n\nvar _renderbufferFormats = _interopRequireDefault(require(\"./renderbuffer-formats\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _utils = require(\"../utils\");\n\nfunction isFormatSupported(gl, format, formats) {\n  var info = formats[format];\n\n  if (!info) {\n    return false;\n  }\n\n  var value = (0, _gltools.isWebGL2)(gl) ? info.gl2 || info.gl1 : info.gl1;\n\n  if (typeof value === 'string') {\n    return gl.getExtension(value);\n  }\n\n  return value;\n}\n\nvar Renderbuffer = function (_Resource) {\n  (0, _inherits2[\"default\"])(Renderbuffer, _Resource);\n  (0, _createClass2[\"default\"])(Renderbuffer, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          format = _ref.format;\n\n      return !format || isFormatSupported(gl, format, _renderbufferFormats[\"default\"]);\n    }\n  }, {\n    key: \"getSamplesForFormat\",\n    value: function getSamplesForFormat(gl, _ref2) {\n      var format = _ref2.format;\n      return gl.getInternalformatParameter(36161, format, 32937);\n    }\n  }]);\n\n  function Renderbuffer(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, Renderbuffer);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Renderbuffer).call(this, gl, opts));\n\n    _this.initialize(opts);\n\n    Object.seal((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Renderbuffer, [{\n    key: \"initialize\",\n    value: function initialize(_ref3) {\n      var format = _ref3.format,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height,\n          _ref3$samples = _ref3.samples,\n          samples = _ref3$samples === void 0 ? 0 : _ref3$samples;\n      (0, _utils.assert)(format, 'Needs format');\n\n      this._trackDeallocatedMemory();\n\n      this.gl.bindRenderbuffer(36161, this.handle);\n\n      if (samples !== 0 && (0, _gltools.isWebGL2)(this.gl)) {\n        this.gl.renderbufferStorageMultisample(36161, samples, format, width, height);\n      } else {\n        this.gl.renderbufferStorage(36161, format, width, height);\n      }\n\n      this.format = format;\n      this.width = width;\n      this.height = height;\n      this.samples = samples;\n\n      this._trackAllocatedMemory(this.width * this.height * (this.samples || 1) * _renderbufferFormats[\"default\"][this.format].bpp);\n\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref4) {\n      var width = _ref4.width,\n          height = _ref4.height;\n\n      if (width !== this.width || height !== this.height) {\n        return this.initialize({\n          width: width,\n          height: height,\n          format: this.format,\n          samples: this.samples\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createRenderbuffer();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteRenderbuffer(this.handle);\n\n      this._trackDeallocatedMemory();\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl.bindRenderbuffer(36161, handle);\n    }\n  }, {\n    key: \"_syncHandle\",\n    value: function _syncHandle(handle) {\n      this.format = this.getParameter(36164);\n      this.width = this.getParameter(36162);\n      this.height = this.getParameter(36163);\n      this.samples = this.getParameter(36011);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      this.gl.bindRenderbuffer(36161, this.handle);\n      var value = this.gl.getRenderbufferParameter(36161, pname);\n      return value;\n    }\n  }]);\n  return Renderbuffer;\n}(_resource[\"default\"]);\n\nexports[\"default\"] = Renderbuffer;\n//# sourceMappingURL=renderbuffer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_createClass2","_inherits2","_resource","_renderbufferFormats","_gltools","_utils","Renderbuffer","_Resource","gl","opts","arguments","length","undefined","_this","call","initialize","seal","key","isSupported","format","_ref","info","formats","isWebGL2","gl2","gl1","getExtension","getSamplesForFormat","_ref2","getInternalformatParameter","_ref3","_ref3$width","width","_ref3$height","height","_ref3$samples","samples","assert","_trackDeallocatedMemory","bindRenderbuffer","handle","renderbufferStorageMultisample","renderbufferStorage","_trackAllocatedMemory","bpp","resize","_ref4","_createHandle","createRenderbuffer","_deleteHandle","deleteRenderbuffer","_bindHandle","_syncHandle","getParameter","_getParameter","pname","getRenderbufferParameter"]
}
