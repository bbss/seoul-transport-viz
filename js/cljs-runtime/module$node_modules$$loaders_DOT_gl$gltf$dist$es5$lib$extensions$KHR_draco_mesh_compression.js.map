{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$gltf$dist$es5$lib$extensions$KHR_draco_mesh_compression.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/gltf/dist/es5/lib/extensions/KHR_draco_mesh_compression.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$gltf$dist$es5$lib$extensions$KHR_draco_mesh_compression\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decode = decode;\nexports.encode = encode;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _draco = require(\"@loaders.gl/draco\");\n\nvar _loaderUtils = require(\"@loaders.gl/loader-utils\");\n\nvar _gltfScenegraph = _interopRequireDefault(require(\"../gltf-scenegraph\"));\n\nvar _gltfConstants = require(\"../gltf-constants\");\n\nvar _gltfAttributeUtils = require(\"../gltf-utils/gltf-attribute-utils\");\n\nvar _marked = _regenerator[\"default\"].mark(meshPrimitiveIterator);\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction decode(_x, _x2, _x3) {\n  return _decode.apply(this, arguments);\n}\n\nfunction _decode() {\n  _decode = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(gltfData, options, context) {\n    var scenegraph, promises, _iterator4, _step4, primitive;\n\n    return _regenerator[\"default\"].wrap(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (options.gltf.decompressMeshes) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 2:\n            scenegraph = new _gltfScenegraph[\"default\"](gltfData);\n            promises = [];\n            _iterator4 = _createForOfIteratorHelper(meshPrimitiveIterator(scenegraph));\n\n            try {\n              for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                primitive = _step4.value;\n\n                if (scenegraph.getObjectExtension(primitive, _gltfConstants.KHR_DRACO_MESH_COMPRESSION)) {\n                  promises.push(decompressPrimitive(primitive, scenegraph, options, context));\n                }\n              }\n            } catch (err) {\n              _iterator4.e(err);\n            } finally {\n              _iterator4.f();\n            }\n\n            _context2.next = 8;\n            return Promise.all(promises);\n\n          case 8:\n            scenegraph.removeExtension(_gltfConstants.KHR_DRACO_MESH_COMPRESSION);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _decode.apply(this, arguments);\n}\n\nfunction encode(gltfData) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var scenegraph = new _gltfScenegraph[\"default\"](gltfData);\n\n  var _iterator = _createForOfIteratorHelper(scenegraph.json.meshes || []),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var mesh = _step.value;\n      compressMesh(mesh, options);\n      scenegraph.addRequiredExtension(_gltfConstants.KHR_DRACO_MESH_COMPRESSION);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nfunction decompressPrimitive(_x4, _x5, _x6, _x7) {\n  return _decompressPrimitive.apply(this, arguments);\n}\n\nfunction _decompressPrimitive() {\n  _decompressPrimitive = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(primitive, scenegraph, options, context) {\n    var compressedPrimitive, buffer, bufferCopy, parse, decodedData;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            compressedPrimitive = scenegraph.getObjectExtension(primitive, _gltfConstants.KHR_DRACO_MESH_COMPRESSION);\n            buffer = scenegraph.getTypedArrayForBufferView(compressedPrimitive.bufferView);\n            bufferCopy = (0, _loaderUtils.getZeroOffsetArrayBuffer)(buffer.buffer, buffer.byteOffset);\n            parse = context.parse;\n            _context3.next = 6;\n            return parse(bufferCopy, _draco.DracoLoader, options, context);\n\n          case 6:\n            decodedData = _context3.sent;\n            primitive.attributes = (0, _gltfAttributeUtils.getGLTFAccessors)(decodedData.attributes);\n\n            if (decodedData.indices) {\n              primitive.indices = (0, _gltfAttributeUtils.getGLTFAccessor)(decodedData.indices);\n            }\n\n            checkPrimitive(primitive);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _decompressPrimitive.apply(this, arguments);\n}\n\nfunction compressMesh(attributes, indices) {\n  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 4;\n  var options = arguments.length > 3 ? arguments[3] : undefined;\n  var context = arguments.length > 4 ? arguments[4] : undefined;\n\n  if (!options.DracoWriter || !options.DracoLoader) {\n    throw new Error('DracoWriter/DracoLoader not available');\n  }\n\n  var compressedData = options.DracoWriter.encodeSync({\n    attributes: attributes\n  });\n  var parseSync = context.parseSync;\n  var decodedData = parseSync({\n    attributes: attributes\n  });\n\n  var fauxAccessors = options._addFauxAttributes(decodedData.attributes);\n\n  var bufferViewIndex = options.addBufferView(compressedData);\n  var glTFMesh = {\n    primitives: [{\n      attributes: fauxAccessors,\n      mode: mode,\n      extensions: (0, _defineProperty2[\"default\"])({}, _gltfConstants.KHR_DRACO_MESH_COMPRESSION, {\n        bufferView: bufferViewIndex,\n        attributes: fauxAccessors\n      })\n    }]\n  };\n  return glTFMesh;\n}\n\nfunction checkPrimitive(primitive) {\n  if (!primitive.attributes && Object.keys(primitive.attributes).length > 0) {\n    throw new Error('Empty glTF primitive detected: Draco decompression failure?');\n  }\n}\n\nfunction meshPrimitiveIterator(scenegraph) {\n  var _iterator2, _step2, mesh, _iterator3, _step3, primitive;\n\n  return _regenerator[\"default\"].wrap(function meshPrimitiveIterator$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _iterator2 = _createForOfIteratorHelper(scenegraph.json.meshes || []);\n          _context.prev = 1;\n\n          _iterator2.s();\n\n        case 3:\n          if ((_step2 = _iterator2.n()).done) {\n            _context.next = 24;\n            break;\n          }\n\n          mesh = _step2.value;\n          _iterator3 = _createForOfIteratorHelper(mesh.primitives);\n          _context.prev = 6;\n\n          _iterator3.s();\n\n        case 8:\n          if ((_step3 = _iterator3.n()).done) {\n            _context.next = 14;\n            break;\n          }\n\n          primitive = _step3.value;\n          _context.next = 12;\n          return primitive;\n\n        case 12:\n          _context.next = 8;\n          break;\n\n        case 14:\n          _context.next = 19;\n          break;\n\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](6);\n\n          _iterator3.e(_context.t0);\n\n        case 19:\n          _context.prev = 19;\n\n          _iterator3.f();\n\n          return _context.finish(19);\n\n        case 22:\n          _context.next = 3;\n          break;\n\n        case 24:\n          _context.next = 29;\n          break;\n\n        case 26:\n          _context.prev = 26;\n          _context.t1 = _context[\"catch\"](1);\n\n          _iterator2.e(_context.t1);\n\n        case 29:\n          _context.prev = 29;\n\n          _iterator2.f();\n\n          return _context.finish(29);\n\n        case 32:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[1, 26, 29, 32], [6, 16, 19, 22]]);\n}\n//# sourceMappingURL=KHR_draco_mesh_compression.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_decode","_asyncToGenerator2","_regenerator","mark","_callee","gltfData","options","context","scenegraph","promises","_iterator4","_step4","primitive","wrap","_callee$","_context2","prev","gltf","decompressMeshes","abrupt","_gltfScenegraph","meshPrimitiveIterator","getObjectExtension","_gltfConstants","KHR_DRACO_MESH_COMPRESSION","push","decompressPrimitive","Promise","all","removeExtension","stop","apply","arguments","_x4","_x5","_x6","_x7","_decompressPrimitive","_callee2","compressedPrimitive","buffer","bufferCopy","parse","decodedData","_callee2$","_context3","getTypedArrayForBufferView","bufferView","_loaderUtils","getZeroOffsetArrayBuffer","byteOffset","_draco","DracoLoader","sent","attributes","_gltfAttributeUtils","getGLTFAccessors","indices","getGLTFAccessor","keys","Error","compressMesh","mode","undefined","DracoWriter","compressedData","encodeSync","parseSync","fauxAccessors","_addFauxAttributes","bufferViewIndex","addBufferView","glTFMesh","primitives","extensions","_defineProperty2","_iterator2","_step2","mesh","_iterator3","_step3","meshPrimitiveIterator$","_context","json","meshes","t0","finish","t1","_marked","_interopRequireDefault","defineProperty","decode","_x","_x2","_x3","encode","_iterator","_step","addRequiredExtension"]
}
