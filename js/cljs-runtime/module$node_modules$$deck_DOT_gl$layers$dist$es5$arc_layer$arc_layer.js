shadow$provide.module$node_modules$$deck_DOT_gl$layers$dist$es5$arc_layer$arc_layer=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_possibleConstructorReturn2=
global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_get2=global(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_core=require("module$node_modules$$deck_DOT_gl$core$dist$es5$index"),_core2=require("module$node_modules$$luma_DOT_gl$core$dist$es5$index"),_arcLayerVertex=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$arc_layer$arc_layer_vertex_glsl")),
_arcLayerFragment=global(require("module$node_modules$$deck_DOT_gl$layers$dist$es5$arc_layer$arc_layer_fragment_glsl")),DEFAULT_COLOR=[0,0,0,255];require={getSourcePosition:{type:"accessor",value:function(x){return x.sourcePosition}},getTargetPosition:{type:"accessor",value:function(x){return x.targetPosition}},getSourceColor:{type:"accessor",value:DEFAULT_COLOR},getTargetColor:{type:"accessor",value:DEFAULT_COLOR},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",
value:0},greatCircle:!1,widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};global=function(_Layer){function ArcLayer(){(0,_classCallCheck2["default"])(this,ArcLayer);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(ArcLayer).apply(this,arguments))}(0,_inherits2["default"])(ArcLayer,_Layer);(0,_createClass2["default"])(ArcLayer,[{key:"getShaders",
value:function(){return(0,_get2["default"])((0,_getPrototypeOf2["default"])(ArcLayer.prototype),"getShaders",this).call(this,{vs:_arcLayerVertex["default"],fs:_arcLayerFragment["default"],modules:[_core.project32,_core.picking]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),
transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:DEFAULT_COLOR},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:DEFAULT_COLOR},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,
transition:!0,accessor:"getTilt",defaultValue:0}})}},{key:"updateState",value:function(_ref){var props=_ref.props,oldProps=_ref.oldProps;_ref=_ref.changeFlags;(0,_get2["default"])((0,_getPrototypeOf2["default"])(ArcLayer.prototype),"updateState",this).call(this,{props:props,oldProps:oldProps,changeFlags:_ref});if(_ref.extensionsChanged){props=this.context.gl;if(this.state.model)this.state.model["delete"]();this.setState({model:this._getModel(props)});this.getAttributeManager().invalidateAll()}}},
{key:"draw",value:function(_ref2){var viewport=this.context.viewport,_this$props=this.props,widthScale=_this$props.widthScale,widthMinPixels=_this$props.widthMinPixels,widthMaxPixels=_this$props.widthMaxPixels,greatCircle=_this$props.greatCircle;viewport="pixels"===_this$props.widthUnits?viewport.metersPerPixel:1;this.state.model.setUniforms(_ref2.uniforms).setUniforms({greatCircle:greatCircle,widthScale:widthScale*viewport,widthMinPixels:widthMinPixels,widthMaxPixels:widthMaxPixels}).draw()}},{key:"_getModel",
value:function(gl){for(var positions=[],i=0;50>i;i++)positions=positions.concat([i,1,0,i,-1,0]);gl=new _core2.Model(gl,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new _core2.Geometry({drawMode:5,attributes:{positions:new Float32Array(positions)}}),isInstanced:!0}));gl.setUniforms({numSegments:50});return gl}}]);return ArcLayer}(_core.Layer);exports["default"]=global;global.layerName="ArcLayer";global.defaultProps=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$layers$dist$es5$arc_layer$arc_layer.js.map
