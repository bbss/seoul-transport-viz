{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$vertex_array.js",
"lineCount":20,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/webgl/dist/es5/classes/vertex-array.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$webgl$dist$es5$classes$vertex_array\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _gltools = require(\"@luma.gl/gltools\");\n\nvar _accessor2 = _interopRequireDefault(require(\"./accessor\"));\n\nvar _buffer = _interopRequireDefault(require(\"./buffer\"));\n\nvar _vertexArrayObject = _interopRequireDefault(require(\"./vertex-array-object\"));\n\nvar _utils = require(\"../utils\");\n\nvar ERR_ATTRIBUTE_TYPE = 'VertexArray: attributes must be Buffers or constants (i.e. typed array)';\nvar MULTI_LOCATION_ATTRIBUTE_REGEXP = /^(.+)__LOCATION_([0-9]+)$/;\nvar DEPRECATIONS_V6 = ['setBuffers', 'setGeneric', 'clearBindings', 'setLocations', 'setGenericValues', 'setDivisor', 'enable', 'disable'];\n\nvar VertexArray = function () {\n  function VertexArray(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck2[\"default\"])(this, VertexArray);\n    var id = opts.id || opts.program && opts.program.id;\n    this.id = id;\n    this.gl = gl;\n    this.configuration = null;\n    this.elements = null;\n    this.elementsAccessor = null;\n    this.values = null;\n    this.accessors = null;\n    this.unused = null;\n    this.drawParams = null;\n    this.buffer = null;\n    this.attributes = {};\n    this.vertexArrayObject = new _vertexArrayObject[\"default\"](gl);\n    (0, _utils.stubRemovedMethods)(this, 'VertexArray', 'v6.0', DEPRECATIONS_V6);\n    this.initialize(opts);\n    Object.seal(this);\n  }\n\n  (0, _createClass2[\"default\"])(VertexArray, [{\n    key: \"delete\",\n    value: function _delete() {\n      if (this.buffer) {\n        this.buffer[\"delete\"]();\n      }\n\n      this.vertexArrayObject[\"delete\"]();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.reset();\n      this.configuration = null;\n      this.bindOnUse = false;\n      return this.setProps(props);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.elements = null;\n      this.elementsAccessor = null;\n      var MAX_ATTRIBUTES = this.vertexArrayObject.MAX_ATTRIBUTES;\n      this.values = new Array(MAX_ATTRIBUTES).fill(null);\n      this.accessors = new Array(MAX_ATTRIBUTES).fill(null);\n      this.unused = {};\n      this.drawParams = null;\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('program' in props) {\n        this.configuration = props.program && props.program.configuration;\n      }\n\n      if ('configuration' in props) {\n        this.configuration = props.configuration;\n      }\n\n      if ('attributes' in props) {\n        this.setAttributes(props.attributes);\n      }\n\n      if ('elements' in props) {\n        this.setElementBuffer(props.elements);\n      }\n\n      if ('bindOnUse' in props) {\n        props = props.bindOnUse;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"clearDrawParams\",\n    value: function clearDrawParams() {\n      this.drawParams = null;\n    }\n  }, {\n    key: \"getDrawParams\",\n    value: function getDrawParams() {\n      this.drawParams = this.drawParams || this._updateDrawParams();\n      return this.drawParams;\n    }\n  }, {\n    key: \"setAttributes\",\n    value: function setAttributes(attributes) {\n      var _this = this;\n\n      Object.assign(this.attributes, attributes);\n      this.vertexArrayObject.bind(function () {\n        for (var locationOrName in attributes) {\n          var value = attributes[locationOrName];\n\n          _this._setAttribute(locationOrName, value);\n        }\n\n        _this.gl.bindBuffer(34962, null);\n      });\n      return this;\n    }\n  }, {\n    key: \"setElementBuffer\",\n    value: function setElementBuffer() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.elements = elementBuffer;\n      this.elementsAccessor = accessor;\n      this.clearDrawParams();\n      this.vertexArrayObject.setElementBuffer(elementBuffer, accessor);\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(locationOrName, buffer) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (buffer.target === 34963) {\n        return this.setElementBuffer(buffer, appAccessor);\n      }\n\n      var _this$_resolveLocatio = this._resolveLocationAndAccessor(locationOrName, buffer, buffer.accessor, appAccessor),\n          location = _this$_resolveLocatio.location,\n          accessor = _this$_resolveLocatio.accessor;\n\n      if (location >= 0) {\n        this.values[location] = buffer;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.setBuffer(location, buffer, accessor);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(locationOrName, arrayValue) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var _this$_resolveLocatio2 = this._resolveLocationAndAccessor(locationOrName, arrayValue, Object.assign({\n        size: arrayValue.length\n      }, appAccessor)),\n          location = _this$_resolveLocatio2.location,\n          accessor = _this$_resolveLocatio2.accessor;\n\n      if (location >= 0) {\n        arrayValue = this.vertexArrayObject._normalizeConstantArrayValue(arrayValue, accessor);\n        this.values[location] = arrayValue;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.enable(location, false);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unbindBuffers\",\n    value: function unbindBuffers() {\n      var _this2 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this2.elements) {\n          _this2.vertexArrayObject.setElementBuffer(null);\n        }\n\n        _this2.buffer = _this2.buffer || new _buffer[\"default\"](_this2.gl, {\n          accessor: {\n            size: 4\n          }\n        });\n\n        for (var location = 0; location < _this2.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          if (_this2.values[location] instanceof _buffer[\"default\"]) {\n            _this2.gl.disableVertexAttribArray(location);\n\n            _this2.gl.bindBuffer(34962, _this2.buffer.handle);\n\n            _this2.gl.vertexAttribPointer(location, 1, 5126, false, 0, 0);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindBuffers\",\n    value: function bindBuffers() {\n      var _this3 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this3.elements) {\n          _this3.setElementBuffer(_this3.elements);\n        }\n\n        for (var location = 0; location < _this3.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          var buffer = _this3.values[location];\n\n          if (buffer instanceof _buffer[\"default\"]) {\n            _this3.setBuffer(location, buffer);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindForDraw\",\n    value: function bindForDraw(vertexCount, instanceCount, func) {\n      var _this4 = this;\n\n      var value;\n      this.vertexArrayObject.bind(function () {\n        _this4._setConstantAttributes(vertexCount, instanceCount);\n\n        value = func();\n      });\n      return value;\n    }\n  }, {\n    key: \"_resolveLocationAndAccessor\",\n    value: function _resolveLocationAndAccessor(locationOrName, value, valueAccessor, appAccessor) {\n      var _this5 = this;\n\n      var _this$_getAttributeIn = this._getAttributeIndex(locationOrName),\n          location = _this$_getAttributeIn.location,\n          name = _this$_getAttributeIn.name;\n\n      if (!Number.isFinite(location) || location < 0) {\n        this.unused[locationOrName] = value;\n\n        _gltools.log.once(3, function () {\n          return \"unused value \".concat(locationOrName, \" in \").concat(_this5.id);\n        })();\n\n        return this;\n      }\n\n      var accessInfo = this._getAttributeInfo(name || location);\n\n      if (!accessInfo) {\n        return {\n          location: -1,\n          accessor: null\n        };\n      }\n\n      var currentAccessor = this.accessors[location] || {};\n\n      var accessor = _accessor2[\"default\"].resolve(accessInfo.accessor, currentAccessor, valueAccessor, appAccessor);\n\n      var size = accessor.size,\n          type = accessor.type;\n      (0, _utils.assert)(Number.isFinite(size) && Number.isFinite(type));\n      return {\n        location: location,\n        accessor: accessor\n      };\n    }\n  }, {\n    key: \"_getAttributeInfo\",\n    value: function _getAttributeInfo(attributeName) {\n      return this.configuration && this.configuration.getAttributeInfo(attributeName);\n    }\n  }, {\n    key: \"_getAttributeIndex\",\n    value: function _getAttributeIndex(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return {\n          location: location\n        };\n      }\n\n      var multiLocation = MULTI_LOCATION_ATTRIBUTE_REGEXP.exec(locationOrName);\n      var name = multiLocation ? multiLocation[1] : locationOrName;\n      var locationOffset = multiLocation ? Number(multiLocation[2]) : 0;\n\n      if (this.configuration) {\n        return {\n          location: this.configuration.getAttributeLocation(name) + locationOffset,\n          name: name\n        };\n      }\n\n      return {\n        location: -1\n      };\n    }\n  }, {\n    key: \"_setAttribute\",\n    value: function _setAttribute(locationOrName, value) {\n      if (value instanceof _buffer[\"default\"]) {\n        this.setBuffer(locationOrName, value);\n      } else if (Array.isArray(value) && value.length && value[0] instanceof _buffer[\"default\"]) {\n        var buffer = value[0];\n        var accessor = value[1];\n        this.setBuffer(locationOrName, buffer, accessor);\n      } else if (ArrayBuffer.isView(value) || Array.isArray(value)) {\n        var constant = value;\n        this.setConstant(locationOrName, constant);\n      } else if (value.buffer instanceof _buffer[\"default\"]) {\n        var _accessor = value;\n        this.setBuffer(locationOrName, _accessor.buffer, _accessor);\n      } else {\n        throw new Error(ERR_ATTRIBUTE_TYPE);\n      }\n    }\n  }, {\n    key: \"_setConstantAttributes\",\n    value: function _setConstantAttributes(vertexCount, instanceCount) {\n      var elementCount = Math.max(vertexCount | 0, instanceCount | 0);\n      var constant = this.values[0];\n\n      if (ArrayBuffer.isView(constant)) {\n        this._setConstantAttributeZero(constant, elementCount);\n      }\n\n      for (var location = 1; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        constant = this.values[location];\n\n        if (ArrayBuffer.isView(constant)) {\n          this._setConstantAttribute(location, constant);\n        }\n      }\n    }\n  }, {\n    key: \"_setConstantAttributeZero\",\n    value: function _setConstantAttributeZero(constant, elementCount) {\n      if (_vertexArrayObject[\"default\"].isSupported(this.gl, {\n        constantAttributeZero: true\n      })) {\n        this._setConstantAttribute(0, constant);\n\n        return;\n      }\n\n      var buffer = this.vertexArrayObject.getConstantBuffer(elementCount, constant);\n      this.vertexArrayObject.setBuffer(0, buffer, this.accessors[0]);\n    }\n  }, {\n    key: \"_setConstantAttribute\",\n    value: function _setConstantAttribute(location, constant) {\n      _vertexArrayObject[\"default\"].setConstant(this.gl, location, constant);\n    }\n  }, {\n    key: \"_updateDrawParams\",\n    value: function _updateDrawParams() {\n      var drawParams = {\n        isIndexed: false,\n        isInstanced: false,\n        indexCount: Infinity,\n        vertexCount: Infinity,\n        instanceCount: Infinity\n      };\n\n      for (var location = 0; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        this._updateDrawParamsForLocation(drawParams, location);\n      }\n\n      if (this.elements) {\n        drawParams.elementCount = this.elements.getElementCount(this.elements.accessor);\n        drawParams.isIndexed = true;\n        drawParams.indexType = this.elementsAccessor.type || this.elements.accessor.type;\n        drawParams.indexOffset = this.elementsAccessor.offset || 0;\n      }\n\n      if (drawParams.indexCount === Infinity) {\n        drawParams.indexCount = 0;\n      }\n\n      if (drawParams.vertexCount === Infinity) {\n        drawParams.vertexCount = 0;\n      }\n\n      if (drawParams.instanceCount === Infinity) {\n        drawParams.instanceCount = 0;\n      }\n\n      return drawParams;\n    }\n  }, {\n    key: \"_updateDrawParamsForLocation\",\n    value: function _updateDrawParamsForLocation(drawParams, location) {\n      var value = this.values[location];\n      var accessor = this.accessors[location];\n\n      if (!value) {\n        return;\n      }\n\n      var divisor = accessor.divisor;\n      var isInstanced = divisor > 0;\n      drawParams.isInstanced = drawParams.isInstanced || isInstanced;\n\n      if (value instanceof _buffer[\"default\"]) {\n        var buffer = value;\n\n        if (isInstanced) {\n          var instanceCount = buffer.getVertexCount(accessor);\n          drawParams.instanceCount = Math.min(drawParams.instanceCount, instanceCount);\n        } else {\n          var vertexCount = buffer.getVertexCount(accessor);\n          drawParams.vertexCount = Math.min(drawParams.vertexCount, vertexCount);\n        }\n      }\n    }\n  }, {\n    key: \"setElements\",\n    value: function setElements() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _gltools.log.deprecated('setElements', 'setElementBuffer')();\n\n      return this.setElementBuffer(elementBuffer, accessor);\n    }\n  }]);\n  return VertexArray;\n}();\n\nexports[\"default\"] = VertexArray;\n//# sourceMappingURL=vertex-array.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_gltools","_accessor2","_buffer","_vertexArrayObject","_utils","MULTI_LOCATION_ATTRIBUTE_REGEXP","DEPRECATIONS_V6","VertexArray","gl","opts","arguments","length","undefined","id","program","buffer","drawParams","unused","accessors","values","elementsAccessor","elements","configuration","attributes","vertexArrayObject","stubRemovedMethods","initialize","seal","key","_delete","props","reset","bindOnUse","setProps","MAX_ATTRIBUTES","Array","fill","setAttributes","setElementBuffer","clearDrawParams","getDrawParams","_updateDrawParams","_this","assign","bind","locationOrName","_setAttribute","bindBuffer","elementBuffer","accessor","setBuffer","appAccessor","target","_this$_resolveLocatio","_resolveLocationAndAccessor","location","setConstant","arrayValue","_this$_resolveLocatio2","size","_normalizeConstantArrayValue","enable","unbindBuffers","_this2","disableVertexAttribArray","handle","vertexAttribPointer","bindBuffers","_this3","bindForDraw","vertexCount","instanceCount","func","_this4","_setConstantAttributes","valueAccessor","_this5","_this$_getAttributeIn","_getAttributeIndex","name","Number","isFinite","log","once","concat","accessInfo","_getAttributeInfo","resolve","type","assert","attributeName","getAttributeInfo","multiLocation","exec","locationOffset","getAttributeLocation","isArray","ArrayBuffer","isView","Error","ERR_ATTRIBUTE_TYPE","elementCount","Math","max","constant","_setConstantAttributeZero","_setConstantAttribute","isSupported","constantAttributeZero","getConstantBuffer","isIndexed","isInstanced","indexCount","Infinity","_updateDrawParamsForLocation","getElementCount","indexType","indexOffset","offset","divisor","getVertexCount","min","setElements","deprecated"]
}
