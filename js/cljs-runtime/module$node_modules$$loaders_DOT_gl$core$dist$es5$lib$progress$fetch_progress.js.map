{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$progress$fetch_progress.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/core/dist/es5/lib/progress/fetch-progress.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$core$dist$es5$lib$progress$fetch_progress\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = fetchProgress;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nfunction fetchProgress(_x, _x2) {\n  return _fetchProgress.apply(this, arguments);\n}\n\nfunction _fetchProgress() {\n  _fetchProgress = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(response, onProgress) {\n    var onDone,\n        onError,\n        contentLength,\n        totalBytes,\n        progressStream,\n        _args = arguments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            onDone = _args.length > 2 && _args[2] !== undefined ? _args[2] : function () {};\n            onError = _args.length > 3 && _args[3] !== undefined ? _args[3] : function () {};\n            _context.next = 4;\n            return response;\n\n          case 4:\n            response = _context.sent;\n\n            if (response.ok) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 7:\n            if (response.body) {\n              _context.next = 9;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 9:\n            contentLength = response.headers.get('content-length');\n            totalBytes = contentLength && parseInt(contentLength, 10);\n\n            if (contentLength > 0) {\n              _context.next = 13;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 13:\n            if (!(typeof ReadableStream === 'undefined')) {\n              _context.next = 15;\n              break;\n            }\n\n            return _context.abrupt(\"return\", response);\n\n          case 15:\n            progressStream = new ReadableStream({\n              start: function start(controller) {\n                var reader = response.body.getReader();\n                read(controller, reader, 0, totalBytes, onProgress, onDone, onError);\n              }\n            });\n            return _context.abrupt(\"return\", new Response(progressStream));\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchProgress.apply(this, arguments);\n}\n\nfunction read(_x3, _x4, _x5, _x6, _x7, _x8, _x9) {\n  return _read.apply(this, arguments);\n}\n\nfunction _read() {\n  _read = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(controller, reader, loadedBytes, totalBytes, onProgress, onDone, onError) {\n    var _yield$reader$read, done, value, percent;\n\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return reader.read();\n\n          case 3:\n            _yield$reader$read = _context2.sent;\n            done = _yield$reader$read.done;\n            value = _yield$reader$read.value;\n\n            if (!done) {\n              _context2.next = 10;\n              break;\n            }\n\n            onDone();\n            controller.close();\n            return _context2.abrupt(\"return\");\n\n          case 10:\n            loadedBytes += value.byteLength;\n            percent = Math.round(loadedBytes / totalBytes * 100);\n            onProgress(percent, {\n              loadedBytes: loadedBytes,\n              totalBytes: totalBytes\n            });\n            controller.enqueue(value);\n            _context2.next = 16;\n            return read(controller, reader, loadedBytes, totalBytes, onProgress, onDone, onError);\n\n          case 16:\n            _context2.next = 22;\n            break;\n\n          case 18:\n            _context2.prev = 18;\n            _context2.t0 = _context2[\"catch\"](0);\n            controller.error(_context2.t0);\n            onError(_context2.t0);\n\n          case 22:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 18]]);\n  }));\n  return _read.apply(this, arguments);\n}\n//# sourceMappingURL=fetch-progress.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_fetchProgress","_asyncToGenerator2","_regenerator","mark","_callee","response","onProgress","onDone","onError","contentLength","totalBytes","progressStream","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","sent","ok","abrupt","body","headers","get","parseInt","ReadableStream","start","controller","reader","getReader","read","Response","stop","apply","_x3","_x4","_x5","_x6","_x7","_x8","_x9","_read","_callee2","loadedBytes","_yield$reader$read","done","value","percent","_callee2$","_context2","close","byteLength","Math","round","enqueue","t0","error","_interopRequireDefault","Object","defineProperty","fetchProgress","_x","_x2"]
}
