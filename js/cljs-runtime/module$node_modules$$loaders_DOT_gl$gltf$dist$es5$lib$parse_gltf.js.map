{
"version":3,
"file":"module$node_modules$$loaders_DOT_gl$gltf$dist$es5$lib$parse_gltf.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/@loaders_DOT_gl/gltf/dist/es5/lib/parse-gltf.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$loaders_DOT_gl$gltf$dist$es5$lib$parse_gltf\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isGLTF = isGLTF;\nexports.parseGLTF = parseGLTF;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _images = require(\"@loaders.gl/images\");\n\nvar _loaderUtils = require(\"@loaders.gl/loader-utils\");\n\nvar _assert = _interopRequireDefault(require(\"./utils/assert\"));\n\nvar _resolveUrl = require(\"./gltf-utils/resolve-url\");\n\nvar _getTypedArray = require(\"./gltf-utils/get-typed-array\");\n\nvar _gltfExtensions = require(\"./extensions/gltf-extensions\");\n\nvar _parseGlb = _interopRequireWildcard(require(\"./parse-glb\"));\n\nvar _postProcessGltf = _interopRequireDefault(require(\"./post-process-gltf\"));\n\nfunction isGLTF(arrayBuffer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var dataView = new DataView(arrayBuffer);\n  var byteOffset = 0;\n  return (0, _parseGlb.isGLB)(dataView, byteOffset);\n}\n\nfunction parseGLTF(_x, _x2) {\n  return _parseGLTF.apply(this, arguments);\n}\n\nfunction _parseGLTF() {\n  _parseGLTF = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee(gltf, arrayBufferOrString) {\n    var byteOffset,\n        options,\n        context,\n        promises,\n        _promise,\n        promise,\n        _args = arguments;\n\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            byteOffset = _args.length > 2 && _args[2] !== undefined ? _args[2] : 0;\n            options = _args.length > 3 ? _args[3] : undefined;\n            context = _args.length > 4 ? _args[4] : undefined;\n            parseGLTFContainerSync(gltf, arrayBufferOrString, byteOffset, options);\n            promises = [];\n\n            if (options.gltf.loadImages) {\n              _promise = loadImages(gltf, options, context);\n              promises.push(_promise);\n            }\n\n            if (!options.gltf.loadBuffers) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 9;\n            return loadBuffers(gltf, options, context);\n\n          case 9:\n            promise = (0, _gltfExtensions.decodeExtensions)(gltf, options, context);\n            promises.push(promise);\n            _context.next = 13;\n            return Promise.all(promises);\n\n          case 13:\n            return _context.abrupt(\"return\", options.gltf.postProcess ? (0, _postProcessGltf[\"default\"])(gltf, options) : gltf);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseGLTF.apply(this, arguments);\n}\n\nfunction parseGLTFContainerSync(gltf, data, byteOffset, options) {\n  if (options.uri) {\n    gltf.baseUri = options.uri;\n  }\n\n  if (data instanceof ArrayBuffer && !(0, _parseGlb.isGLB)(data, byteOffset, options)) {\n    var textDecoder = new TextDecoder();\n    data = textDecoder.decode(data);\n  }\n\n  if (typeof data === 'string') {\n    gltf.json = (0, _loaderUtils.parseJSON)(data);\n  } else if (data instanceof ArrayBuffer) {\n    var glb = {};\n    byteOffset = (0, _parseGlb[\"default\"])(glb, data, byteOffset, options);\n    (0, _assert[\"default\"])(glb.type === 'glTF', \"Invalid GLB magic string \".concat(glb.type));\n    gltf._glb = glb;\n    gltf.json = glb.json;\n  } else {\n    (0, _assert[\"default\"])(false, \"GLTF: must be ArrayBuffer or string\");\n  }\n\n  var buffers = gltf.json.buffers || [];\n  gltf.buffers = new Array(buffers.length).fill(null);\n\n  if (gltf._glb && gltf._glb.header.hasBinChunk) {\n    var binChunks = gltf._glb.binChunks;\n    gltf.buffers[0] = {\n      arrayBuffer: binChunks[0].arrayBuffer,\n      byteOffset: binChunks[0].byteOffset,\n      byteLength: binChunks[0].byteLength\n    };\n  }\n\n  var images = gltf.json.images || [];\n  gltf.images = new Array(images.length).fill({});\n}\n\nfunction loadBuffers(_x3, _x4, _x5) {\n  return _loadBuffers.apply(this, arguments);\n}\n\nfunction _loadBuffers() {\n  _loadBuffers = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee2(gltf, options, context) {\n    var i, buffer, fetch, uri, response, arrayBuffer;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            i = 0;\n\n          case 1:\n            if (!(i < gltf.json.buffers.length)) {\n              _context2.next = 18;\n              break;\n            }\n\n            buffer = gltf.json.buffers[i];\n\n            if (!buffer.uri) {\n              _context2.next = 15;\n              break;\n            }\n\n            fetch = context.fetch;\n            (0, _assert[\"default\"])(fetch);\n            uri = (0, _resolveUrl.resolveUrl)(buffer.uri, options);\n            _context2.next = 9;\n            return fetch(uri);\n\n          case 9:\n            response = _context2.sent;\n            _context2.next = 12;\n            return response.arrayBuffer();\n\n          case 12:\n            arrayBuffer = _context2.sent;\n            gltf.buffers[i] = {\n              arrayBuffer: arrayBuffer,\n              byteOffset: 0,\n              byteLength: arrayBuffer.byteLength\n            };\n            delete buffer.uri;\n\n          case 15:\n            ++i;\n            _context2.next = 1;\n            break;\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _loadBuffers.apply(this, arguments);\n}\n\nfunction loadImages(_x6, _x7, _x8) {\n  return _loadImages.apply(this, arguments);\n}\n\nfunction _loadImages() {\n  _loadImages = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee3(gltf, options, context) {\n    var images, promises, i;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            images = gltf.json.images || [];\n            promises = [];\n\n            for (i = 0; i < images.length; ++i) {\n              promises.push(loadImage(gltf, images[i], i, options, context));\n            }\n\n            _context3.next = 5;\n            return Promise.all(promises);\n\n          case 5:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _loadImages.apply(this, arguments);\n}\n\nfunction loadImage(_x9, _x10, _x11, _x12, _x13) {\n  return _loadImage.apply(this, arguments);\n}\n\nfunction _loadImage() {\n  _loadImage = (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function _callee4(gltf, image, i, options, context) {\n    var fetch, parse, arrayBuffer, uri, response, array, parsedImage;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            fetch = context.fetch, parse = context.parse;\n\n            if (!image.uri) {\n              _context4.next = 9;\n              break;\n            }\n\n            uri = (0, _resolveUrl.resolveUrl)(image.uri, options);\n            _context4.next = 5;\n            return fetch(uri);\n\n          case 5:\n            response = _context4.sent;\n            _context4.next = 8;\n            return response.arrayBuffer();\n\n          case 8:\n            arrayBuffer = _context4.sent;\n\n          case 9:\n            if (Number.isFinite(image.bufferView)) {\n              array = (0, _getTypedArray.getTypedArrayForBufferView)(gltf.json, gltf.buffers, image.bufferView);\n              arrayBuffer = (0, _loaderUtils.getZeroOffsetArrayBuffer)(array.buffer, array.byteOffset, array.byteLength);\n            }\n\n            (0, _assert[\"default\"])(arrayBuffer, 'glTF image has no data');\n            _context4.next = 13;\n            return parse(arrayBuffer, _images.ImageLoader, {}, context);\n\n          case 13:\n            parsedImage = _context4.sent;\n            gltf.images[i] = parsedImage;\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _loadImage.apply(this, arguments);\n}\n//# sourceMappingURL=parse-gltf.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_parseGLTF","_asyncToGenerator2","_regenerator","mark","_callee","gltf","arrayBufferOrString","byteOffset","options","context","promises","_promise","promise","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","uri","baseUri","data","ArrayBuffer","_parseGlb","isGLB","decode","textDecoder","TextDecoder","json","_loaderUtils","parseJSON","glb","_assert","type","concat","_glb","buffers","Array","fill","header","hasBinChunk","binChunks","arrayBuffer","byteLength","images","loadImages","push","loadBuffers","_gltfExtensions","decodeExtensions","Promise","all","abrupt","postProcess","_postProcessGltf","stop","apply","_x3","_x4","_x5","_loadBuffers","_callee2","i","buffer","fetch","response","_callee2$","_context2","_resolveUrl","resolveUrl","sent","_x6","_x7","_x8","_loadImages","_callee3","_callee3$","_context3","loadImage","_x9","_x10","_x11","_x12","_x13","_loadImage","_callee4","image","parse","array","parsedImage","_callee4$","_context4","Number","isFinite","bufferView","_getTypedArray","getTypedArrayForBufferView","getZeroOffsetArrayBuffer","_images","ImageLoader","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","isGLTF","dataView","DataView","parseGLTF","_x","_x2"]
}
