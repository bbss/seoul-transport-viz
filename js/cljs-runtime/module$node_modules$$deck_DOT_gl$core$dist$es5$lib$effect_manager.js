shadow$provide.module$node_modules$$deck_DOT_gl$core$dist$es5$lib$effect_manager=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_deepEqual=require("module$node_modules$$deck_DOT_gl$core$dist$es5$utils$deep_equal"),
_lightingEffect=global(require("module$node_modules$$deck_DOT_gl$core$dist$es5$effects$lighting$lighting_effect")),DEFAULT_LIGHTING_EFFECT=new _lightingEffect["default"];require=function(){function EffectManager(){(0,_classCallCheck2["default"])(this,EffectManager);this.effects=[];this._internalEffects=[];this._needsRedraw="Initial render";this.setEffects()}(0,_createClass2["default"])(EffectManager,[{key:"setProps",value:function(props){"effects"in props&&(props.effects.length!==this.effects.length||
!(0,_deepEqual.deepEqual)(props.effects,this.effects))&&(this.setEffects(props.effects),this._needsRedraw="effects changed")}},{key:"needsRedraw",value:function(){var redraw=this._needsRedraw;(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1}).clearRedrawFlags&&(this._needsRedraw=!1);return redraw}},{key:"getEffects",value:function(){return this._internalEffects}},{key:"finalize",value:function(){this.cleanup()}},{key:"setEffects",value:function(){var effects=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:[];this.cleanup();this.effects=effects;this._createInternalEffects()}},{key:"cleanup",value:function(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.effects[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_step.value.cleanup()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator["return"])_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError;
}}_iteratorNormalCompletion=!0;_didIteratorError=!1;_iteratorError=void 0;try{for(var _iterator2=this._internalEffects[Symbol.iterator](),_step2;!(_iteratorNormalCompletion=(_step2=_iterator2.next()).done);_iteratorNormalCompletion=!0)_step2.value.cleanup()}catch(err$420){_didIteratorError=!0,_iteratorError=err$420}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator2["return"])_iterator2["return"]()}finally{if(_didIteratorError)throw _iteratorError;}}this.effects.length=0;this._internalEffects.length=
0}},{key:"_createInternalEffects",value:function(){this._internalEffects=this.effects.slice();this.effects.some(function(effect){return effect instanceof _lightingEffect["default"]})||this._internalEffects.push(DEFAULT_LIGHTING_EFFECT)}}]);return EffectManager}();exports["default"]=require}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$core$dist$es5$lib$effect_manager.js.map
