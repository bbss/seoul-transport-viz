{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$layers$dist$es5$text_layer$multi_icon_layer$multi_icon_layer.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/layers/dist/es5/text-layer/multi-icon-layer/multi-icon-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$layers$dist$es5$text_layer$multi_icon_layer$multi_icon_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _iconLayer = _interopRequireDefault(require(\"../../icon-layer/icon-layer\"));\n\nvar _multiIconLayerFragment = _interopRequireDefault(require(\"./multi-icon-layer-fragment.glsl\"));\n\nvar DEFAULT_GAMMA = 0.2;\nvar DEFAULT_BUFFER = 192.0 / 256;\nvar EMPTY_ARRAY = [];\nvar defaultProps = {\n  backgroundColor: {\n    type: 'color',\n    value: null,\n    optional: true\n  },\n  getIconOffsets: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.offsets;\n    }\n  }\n};\n\nvar MultiIconLayer = function (_IconLayer) {\n  (0, _inherits2[\"default\"])(MultiIconLayer, _IconLayer);\n\n  function MultiIconLayer() {\n    (0, _classCallCheck2[\"default\"])(this, MultiIconLayer);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(MultiIconLayer).apply(this, arguments));\n  }\n\n  (0, _createClass2[\"default\"])(MultiIconLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return Object.assign({}, (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"getShaders\", this).call(this), {\n        inject: {\n          'vs:#decl': \"\\n  uniform float gamma;\\n  varying float vGamma;\\n\",\n          'vs:#main-end': \"\\n  vGamma = gamma / (sizeScale * iconSize.y);\\n\"\n        },\n        fs: _multiIconLayerFragment[\"default\"]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var _this = this;\n\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"initializeState\", this).call(this);\n      var attributeManager = this.getAttributeManager();\n      attributeManager.addInstanced({\n        instanceOffsets: {\n          size: 2,\n          accessor: 'getIconOffsets'\n        },\n        instancePickingColors: {\n          type: 5121,\n          size: 3,\n          accessor: function accessor(object, _ref) {\n            var index = _ref.index,\n                value = _ref.target;\n            return _this.encodePickingColor(index, value);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(updateParams) {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"updateState\", this).call(this, updateParams);\n      var oldProps = updateParams.oldProps,\n          props = updateParams.props;\n\n      if (props.backgroundColor !== oldProps.backgroundColor) {\n        var backgroundColor = Array.isArray(props.backgroundColor) ? props.backgroundColor.map(function (c) {\n          return c / 255.0;\n        }).slice(0, 3) : null;\n        this.setState({\n          backgroundColor: backgroundColor\n        });\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var sdf = this.props.sdf;\n      var backgroundColor = this.state.backgroundColor;\n      var shouldDrawBackground = Array.isArray(backgroundColor);\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"draw\", this).call(this, {\n        uniforms: Object.assign({}, uniforms, {\n          buffer: DEFAULT_BUFFER,\n          gamma: DEFAULT_GAMMA,\n          sdf: Boolean(sdf),\n          backgroundColor: backgroundColor || [0, 0, 0],\n          shouldDrawBackground: shouldDrawBackground\n        })\n      });\n    }\n  }, {\n    key: \"getInstanceOffset\",\n    value: function getInstanceOffset(icons) {\n      var _this2 = this;\n\n      return icons ? Array.from(icons).map(function (icon) {\n        return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"getInstanceOffset\", _this2).call(_this2, icon);\n      }) : EMPTY_ARRAY;\n    }\n  }, {\n    key: \"getInstanceColorMode\",\n    value: function getInstanceColorMode(icons) {\n      return 1;\n    }\n  }, {\n    key: \"getInstanceIconFrame\",\n    value: function getInstanceIconFrame(icons) {\n      var _this3 = this;\n\n      return icons ? Array.from(icons).map(function (icon) {\n        return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(MultiIconLayer.prototype), \"getInstanceIconFrame\", _this3).call(_this3, icon);\n      }) : EMPTY_ARRAY;\n    }\n  }]);\n  return MultiIconLayer;\n}(_iconLayer[\"default\"]);\n\nexports[\"default\"] = MultiIconLayer;\nMultiIconLayer.layerName = 'MultiIconLayer';\nMultiIconLayer.defaultProps = defaultProps;\n//# sourceMappingURL=multi-icon-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_get2","_inherits2","_iconLayer","_multiIconLayerFragment","EMPTY_ARRAY","MultiIconLayer","_IconLayer","apply","arguments","key","getShaders","assign","prototype","call","inject","fs","initializeState","_this","getAttributeManager","attributeManager","addInstanced","instanceOffsets","size","accessor","instancePickingColors","type","object","_ref","encodePickingColor","index","target","updateState","updateParams","props","backgroundColor","oldProps","Array","isArray","map","c","slice","setState","draw","_ref2","uniforms","sdf","state","shouldDrawBackground","buffer","DEFAULT_BUFFER","gamma","DEFAULT_GAMMA","getInstanceOffset","icons","_this2","from","icon","getInstanceColorMode","getInstanceIconFrame","_this3","layerName","defaultProps","optional","getIconOffsets","x","offsets"]
}
