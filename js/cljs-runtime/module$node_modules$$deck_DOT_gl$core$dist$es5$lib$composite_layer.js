shadow$provide.module$node_modules$$deck_DOT_gl$core$dist$es5$lib$composite_layer=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_possibleConstructorReturn2=global(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),
_getPrototypeOf2=global(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_get2=global(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits"));module=global(require("module$node_modules$$deck_DOT_gl$core$dist$es5$lib$layer"));var _debug=global(require("module$node_modules$$deck_DOT_gl$core$dist$es5$debug$index")),_flatten=require("module$node_modules$$deck_DOT_gl$core$dist$es5$utils$flatten");
require=function(_Layer){function CompositeLayer(){(0,_classCallCheck2["default"])(this,CompositeLayer);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(CompositeLayer).apply(this,arguments))}(0,_inherits2["default"])(CompositeLayer,_Layer);(0,_createClass2["default"])(CompositeLayer,[{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(){}},{key:"setState",value:function(updateObject){(0,
_get2["default"])((0,_getPrototypeOf2["default"])(CompositeLayer.prototype),"setState",this).call(this,updateObject);this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(_ref){_ref=_ref.info;var object=_ref.object;return object&&object.__source&&object.__source.parent&&object.__source.parent.id===this.id?Object.assign(_ref,{object:object.__source.object,index:object.__source.index}):_ref}},{key:"renderLayers",value:function(){return null}},{key:"shouldRenderSubLayer",value:function(id,data){var overridingProps=
this.props._subLayerProps;return data&&data.length||overridingProps&&overridingProps[id]}},{key:"getSubLayerClass",value:function(id,DefaultLayerClass){var overridingProps=this.props._subLayerProps;return overridingProps&&overridingProps[id]&&overridingProps[id].type||DefaultLayerClass}},{key:"getSubLayerRow",value:function(row,sourceObject,sourceObjectIndex){row.__source={parent:this,object:sourceObject,index:sourceObjectIndex};return row}},{key:"getSubLayerAccessor",value:function(accessor){if("function"===
typeof accessor){var objectInfo={data:this.props.data,target:[]};return function(x,i){return x.__source?(objectInfo.index=x.__source.index,accessor(x.__source.object,objectInfo)):accessor(x,i)}}return accessor}},{key:"getSubLayerProps",value:function(){var sublayerProps=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_this$props=this.props,extensions=_this$props.extensions,overridingProps=_this$props._subLayerProps;_this$props={opacity:_this$props.opacity,pickable:_this$props.pickable,visible:_this$props.visible,
parameters:_this$props.parameters,getPolygonOffset:_this$props.getPolygonOffset,highlightedObjectIndex:_this$props.highlightedObjectIndex,autoHighlight:_this$props.autoHighlight,highlightColor:_this$props.highlightColor,coordinateSystem:_this$props.coordinateSystem,coordinateOrigin:_this$props.coordinateOrigin,wrapLongitude:_this$props.wrapLongitude,positionFormat:_this$props.positionFormat,modelMatrix:_this$props.modelMatrix,extensions:extensions};var overridingSublayerTriggers=(overridingProps=
overridingProps&&overridingProps[sublayerProps.id])&&overridingProps.updateTriggers,sublayerId=sublayerProps.id||"sublayer";if(overridingProps){var propTypes=this.constructor._propTypes;for(key in overridingProps){var propType=propTypes[key];propType&&"accessor"===propType.type&&(overridingProps[key]=this.getSubLayerAccessor(overridingProps[key]))}}Object.assign(_this$props,sublayerProps,overridingProps,{id:"".concat(this.props.id,"-").concat(sublayerId),updateTriggers:Object.assign({all:this.props.updateTriggers.all},
sublayerProps.updateTriggers,overridingSublayerTriggers)});sublayerProps=!0;var key=!1;overridingProps=void 0;try{for(var _iterator=extensions[Symbol.iterator](),_step;!(sublayerProps=(_step=_iterator.next()).done);sublayerProps=!0){var extension=_step.value,passThroughProps=extension.getSubLayerProps.call(this,extension);passThroughProps&&Object.assign(_this$props,passThroughProps,{updateTriggers:Object.assign(_this$props.updateTriggers,passThroughProps.updateTriggers)})}}catch(err){key=!0,overridingProps=
err}finally{try{if(!sublayerProps&&null!=_iterator["return"])_iterator["return"]()}finally{if(key)throw overridingProps;}}return _this$props}},{key:"_getAttributeManager",value:function(){return null}},{key:"_renderLayers",value:function(){var subLayers=this.internalState.subLayers,shouldUpdate=!subLayers||this.needsUpdate();shouldUpdate&&(subLayers=this.renderLayers(),subLayers=(0,_flatten.flatten)(subLayers,Boolean),this.internalState.subLayers=subLayers);(0,_debug["default"])("compositeLayer.renderLayers",
this,shouldUpdate,subLayers);shouldUpdate=!0;var _didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=subLayers[Symbol.iterator](),_step2;!(shouldUpdate=(_step2=_iterator2.next()).done);shouldUpdate=!0)_step2.value.parent=this}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{if(!shouldUpdate&&null!=_iterator2["return"])_iterator2["return"]()}finally{if(_didIteratorError2)throw _iteratorError2;}}}},{key:"isComposite",get:function(){return!0}},{key:"isLoaded",get:function(){return(0,
_get2["default"])((0,_getPrototypeOf2["default"])(CompositeLayer.prototype),"isLoaded",this)&&this.getSubLayers().every(function(layer){return layer.isLoaded})}}]);return CompositeLayer}(module["default"]);exports["default"]=require;require.layerName="CompositeLayer"}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$core$dist$es5$lib$composite_layer.js.map
