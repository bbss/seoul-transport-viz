{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$viewport.js",
"lineCount":22,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/viewports/viewport.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$viewports$viewport\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _log = _interopRequireDefault(require(\"../utils/log\"));\n\nvar _mathUtils = require(\"../utils/math-utils\");\n\nvar _math = require(\"math.gl\");\n\nvar mat4 = _interopRequireWildcard(require(\"gl-matrix/mat4\"));\n\nvar _webMercator = require(\"@math.gl/web-mercator\");\n\nvar _constants = require(\"../lib/constants\");\n\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nvar IDENTITY = (0, _mathUtils.createMat4)();\nvar ZERO_VECTOR = [0, 0, 0];\nvar DEFAULT_ZOOM = 0;\nvar DEFAULT_DISTANCE_SCALES = {\n  unitsPerMeter: [1, 1, 1],\n  metersPerUnit: [1, 1, 1]\n};\n\nvar Viewport = function () {\n  function Viewport() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2[\"default\"])(this, Viewport);\n    var _opts$id = opts.id,\n        id = _opts$id === void 0 ? null : _opts$id,\n        _opts$x = opts.x,\n        x = _opts$x === void 0 ? 0 : _opts$x,\n        _opts$y = opts.y,\n        y = _opts$y === void 0 ? 0 : _opts$y,\n        _opts$width = opts.width,\n        width = _opts$width === void 0 ? 1 : _opts$width,\n        _opts$height = opts.height,\n        height = _opts$height === void 0 ? 1 : _opts$height;\n    this.id = id || this.constructor.displayName || 'viewport';\n    this.x = x;\n    this.y = y;\n    this.width = width || 1;\n    this.height = height || 1;\n    this._frustumPlanes = {};\n\n    this._initViewMatrix(opts);\n\n    this._initProjectionMatrix(opts);\n\n    this._initPixelMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n\n  (0, _createClass2[\"default\"])(Viewport, [{\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof Viewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && viewport.scale === this.scale && (0, _math.equals)(viewport.projectionMatrix, this.projectionMatrix) && (0, _math.equals)(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$topLeft = _ref.topLeft,\n          topLeft = _ref$topLeft === void 0 ? true : _ref$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = (0, _webMercator.worldToPixels)(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = (0, _slicedToArray2[\"default\"])(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft,\n          targetZ = _ref2.targetZ;\n\n      var _xyz = (0, _slicedToArray2[\"default\"])(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = (0, _webMercator.pixelsToWorld)([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = (0, _slicedToArray2[\"default\"])(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _this$projectFlat = this.projectFlat(xyz),\n          _this$projectFlat2 = (0, _slicedToArray2[\"default\"])(_this$projectFlat, 2),\n          X = _this$projectFlat2[0],\n          Y = _this$projectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n          _this$unprojectFlat2 = (0, _slicedToArray2[\"default\"])(_this$unprojectFlat, 2),\n          X = _this$unprojectFlat2[0],\n          Y = _this$unprojectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      if (this.isGeospatial) {\n        return (0, _webMercator.lngLatToWorld)(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      if (this.isGeospatial) {\n        return (0, _webMercator.worldToLngLat)(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var unprojectOption = {\n        targetZ: options.z || 0\n      };\n      var topLeft = this.unproject([0, 0], unprojectOption);\n      var topRight = this.unproject([this.width, 0], unprojectOption);\n      var bottomLeft = this.unproject([0, this.height], unprojectOption);\n      var bottomRight = this.unproject([this.width, this.height], unprojectOption);\n      return [Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]), Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]), Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]), Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1])];\n    }\n  }, {\n    key: \"getDistanceScales\",\n    value: function getDistanceScales() {\n      var coordinateOrigin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (coordinateOrigin) {\n        return (0, _webMercator.getDistanceScales)({\n          longitude: coordinateOrigin[0],\n          latitude: coordinateOrigin[1],\n          highPrecision: true\n        });\n      }\n\n      return this.distanceScales;\n    }\n  }, {\n    key: \"containsPixel\",\n    value: function containsPixel(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height;\n      return x < this.x + this.width && this.x < x + width && y < this.y + this.height && this.y < y + height;\n    }\n  }, {\n    key: \"getFrustumPlanes\",\n    value: function getFrustumPlanes() {\n      if (this._frustumPlanes.near) {\n        return this._frustumPlanes;\n      }\n\n      var _this$projectionProps = this.projectionProps,\n          near = _this$projectionProps.near,\n          far = _this$projectionProps.far,\n          fovyRadians = _this$projectionProps.fovyRadians,\n          aspect = _this$projectionProps.aspect;\n      Object.assign(this._frustumPlanes, (0, _mathUtils.getFrustumPlanes)({\n        aspect: aspect,\n        near: near,\n        far: far,\n        fovyRadians: fovyRadians,\n        position: this.cameraPosition,\n        direction: this.cameraDirection,\n        up: this.cameraUp,\n        right: this.cameraRight\n      }));\n      return this._frustumPlanes;\n    }\n  }, {\n    key: \"getCameraPosition\",\n    value: function getCameraPosition() {\n      return this.cameraPosition;\n    }\n  }, {\n    key: \"getCameraDirection\",\n    value: function getCameraDirection() {\n      return this.cameraDirection;\n    }\n  }, {\n    key: \"getCameraUp\",\n    value: function getCameraUp() {\n      return this.cameraUp;\n    }\n  }, {\n    key: \"_createProjectionMatrix\",\n    value: function _createProjectionMatrix(_ref4) {\n      var orthographic = _ref4.orthographic,\n          fovyRadians = _ref4.fovyRadians,\n          aspect = _ref4.aspect,\n          focalDistance = _ref4.focalDistance,\n          near = _ref4.near,\n          far = _ref4.far;\n      return orthographic ? new _math.Matrix4().orthographic({\n        fovy: fovyRadians,\n        aspect: aspect,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      }) : new _math.Matrix4().perspective({\n        fovy: fovyRadians,\n        aspect: aspect,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"_initViewMatrix\",\n    value: function _initViewMatrix(opts) {\n      var _opts$viewMatrix = opts.viewMatrix,\n          viewMatrix = _opts$viewMatrix === void 0 ? IDENTITY : _opts$viewMatrix,\n          _opts$longitude = opts.longitude,\n          longitude = _opts$longitude === void 0 ? null : _opts$longitude,\n          _opts$latitude = opts.latitude,\n          latitude = _opts$latitude === void 0 ? null : _opts$latitude,\n          _opts$zoom = opts.zoom,\n          zoom = _opts$zoom === void 0 ? null : _opts$zoom,\n          _opts$position = opts.position,\n          position = _opts$position === void 0 ? null : _opts$position,\n          _opts$modelMatrix = opts.modelMatrix,\n          modelMatrix = _opts$modelMatrix === void 0 ? null : _opts$modelMatrix,\n          _opts$focalDistance = opts.focalDistance,\n          focalDistance = _opts$focalDistance === void 0 ? 1 : _opts$focalDistance,\n          _opts$distanceScales = opts.distanceScales,\n          distanceScales = _opts$distanceScales === void 0 ? null : _opts$distanceScales;\n      this.isGeospatial = Number.isFinite(latitude) && Number.isFinite(longitude);\n      this.zoom = zoom;\n\n      if (!Number.isFinite(this.zoom)) {\n        this.zoom = this.isGeospatial ? (0, _webMercator.getMeterZoom)({\n          latitude: latitude\n        }) + Math.log2(focalDistance) : DEFAULT_ZOOM;\n      }\n\n      var scale = Math.pow(2, this.zoom);\n      this.scale = scale;\n      this.distanceScales = this.isGeospatial ? (0, _webMercator.getDistanceScales)({\n        latitude: latitude,\n        longitude: longitude\n      }) : distanceScales || DEFAULT_DISTANCE_SCALES;\n      this.focalDistance = focalDistance;\n      this.distanceScales.metersPerUnit = new _math.Vector3(this.distanceScales.metersPerUnit);\n      this.distanceScales.unitsPerMeter = new _math.Vector3(this.distanceScales.unitsPerMeter);\n      this.position = ZERO_VECTOR;\n      this.meterOffset = ZERO_VECTOR;\n\n      if (position) {\n        this.position = position;\n        this.modelMatrix = modelMatrix;\n        this.meterOffset = modelMatrix ? modelMatrix.transformVector(position) : position;\n      }\n\n      if (this.isGeospatial) {\n        this.longitude = longitude;\n        this.latitude = latitude;\n        this.center = this._getCenterInWorld({\n          longitude: longitude,\n          latitude: latitude\n        });\n      } else {\n        this.center = position ? this.projectPosition(position) : [0, 0, 0];\n      }\n\n      this.viewMatrixUncentered = viewMatrix;\n      this.viewMatrix = new _math.Matrix4().multiplyRight(this.viewMatrixUncentered).translate(new _math.Vector3(this.center || ZERO_VECTOR).negate());\n    }\n  }, {\n    key: \"_getCenterInWorld\",\n    value: function _getCenterInWorld(_ref5) {\n      var longitude = _ref5.longitude,\n          latitude = _ref5.latitude;\n      var meterOffset = this.meterOffset,\n          distanceScales = this.distanceScales;\n      var center = new _math.Vector3(this.projectPosition([longitude, latitude, 0]));\n\n      if (meterOffset) {\n        var commonPosition = new _math.Vector3(meterOffset).scale(distanceScales.unitsPerMeter);\n        center.add(commonPosition);\n      }\n\n      return center;\n    }\n  }, {\n    key: \"_initProjectionMatrix\",\n    value: function _initProjectionMatrix(opts) {\n      var _opts$projectionMatri = opts.projectionMatrix,\n          projectionMatrix = _opts$projectionMatri === void 0 ? null : _opts$projectionMatri,\n          _opts$orthographic = opts.orthographic,\n          orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n          fovyRadians = opts.fovyRadians,\n          _opts$fovy = opts.fovy,\n          fovy = _opts$fovy === void 0 ? 75 : _opts$fovy,\n          _opts$near = opts.near,\n          near = _opts$near === void 0 ? 0.1 : _opts$near,\n          _opts$far = opts.far,\n          far = _opts$far === void 0 ? 1000 : _opts$far,\n          _opts$focalDistance2 = opts.focalDistance,\n          focalDistance = _opts$focalDistance2 === void 0 ? 1 : _opts$focalDistance2;\n      this.projectionProps = {\n        orthographic: orthographic,\n        fovyRadians: fovyRadians || fovy * DEGREES_TO_RADIANS,\n        aspect: this.width / this.height,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      };\n      this.projectionMatrix = projectionMatrix || this._createProjectionMatrix(this.projectionProps);\n    }\n  }, {\n    key: \"_initPixelMatrices\",\n    value: function _initPixelMatrices() {\n      var vpm = (0, _mathUtils.createMat4)();\n      mat4.multiply(vpm, vpm, this.projectionMatrix);\n      mat4.multiply(vpm, vpm, this.viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      this.viewMatrixInverse = mat4.invert([], this.viewMatrix) || this.viewMatrix;\n\n      var _extractCameraVectors = (0, _mathUtils.extractCameraVectors)({\n        viewMatrix: this.viewMatrix,\n        viewMatrixInverse: this.viewMatrixInverse\n      }),\n          eye = _extractCameraVectors.eye,\n          direction = _extractCameraVectors.direction,\n          up = _extractCameraVectors.up,\n          right = _extractCameraVectors.right;\n\n      this.cameraPosition = eye;\n      this.cameraDirection = direction;\n      this.cameraUp = up;\n      this.cameraRight = right;\n      var viewportMatrix = (0, _mathUtils.createMat4)();\n      var pixelProjectionMatrix = (0, _mathUtils.createMat4)();\n      mat4.scale(viewportMatrix, viewportMatrix, [this.width / 2, -this.height / 2, 1]);\n      mat4.translate(viewportMatrix, viewportMatrix, [1, -1, 0]);\n      mat4.multiply(pixelProjectionMatrix, viewportMatrix, this.viewProjectionMatrix);\n      this.pixelProjectionMatrix = pixelProjectionMatrix;\n      this.viewportMatrix = viewportMatrix;\n      this.pixelUnprojectionMatrix = mat4.invert((0, _mathUtils.createMat4)(), this.pixelProjectionMatrix);\n\n      if (!this.pixelUnprojectionMatrix) {\n        _log[\"default\"].warn('Pixel project matrix not invertible')();\n      }\n    }\n  }, {\n    key: \"metersPerPixel\",\n    get: function get() {\n      return this.distanceScales.metersPerUnit[2] / this.scale;\n    }\n  }, {\n    key: \"projectionMode\",\n    get: function get() {\n      if (this.isGeospatial) {\n        return this.zoom < 12 ? _constants.PROJECTION_MODE.WEB_MERCATOR : _constants.PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET;\n      }\n\n      return _constants.PROJECTION_MODE.IDENTITY;\n    }\n  }]);\n  return Viewport;\n}();\n\nexports[\"default\"] = Viewport;\nViewport.displayName = 'Viewport';\n//# sourceMappingURL=viewport.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_slicedToArray2","_classCallCheck2","_createClass2","_log","_mathUtils","_math","mat4","_webMercator","_constants","DEGREES_TO_RADIANS","Math","PI","IDENTITY","createMat4","ZERO_VECTOR","DEFAULT_DISTANCE_SCALES","unitsPerMeter","metersPerUnit","Viewport","opts","arguments","length","undefined","_opts$id","id","_opts$x","x","_opts$y","y","_opts$width","width","_opts$height","height","constructor","displayName","_frustumPlanes","_initViewMatrix","_initProjectionMatrix","_initPixelMatrices","equals","bind","project","unproject","projectPosition","unprojectPosition","projectFlat","unprojectFlat","key","viewport","scale","projectionMatrix","viewMatrix","xyz","_ref$topLeft","topLeft","_ref","worldPosition","coord","worldToPixels","pixelProjectionMatrix","_coord","y2","_ref2","_ref2$topLeft","targetZ","_xyz","z","targetZWorld","distanceScales","pixelsToWorld","pixelUnprojectionMatrix","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","Number","isFinite","_this$projectFlat","_this$projectFlat2","_this$unprojectFlat","_this$unprojectFlat2","isGeospatial","lngLatToWorld","worldToLngLat","getBounds","unprojectOption","options","topRight","bottomLeft","bottomRight","min","max","getDistanceScales","coordinateOrigin","longitude","latitude","highPrecision","containsPixel","_ref3","_ref3$width","_ref3$height","getFrustumPlanes","near","_this$projectionProps","projectionProps","far","fovyRadians","aspect","assign","position","cameraPosition","direction","cameraDirection","up","cameraUp","right","cameraRight","getCameraPosition","getCameraDirection","getCameraUp","_createProjectionMatrix","_ref4","focalDistance","orthographic","Matrix4","fovy","perspective","_opts$viewMatrix","_opts$longitude","_opts$latitude","_opts$zoom","zoom","_opts$position","_opts$modelMatrix","modelMatrix","_opts$focalDistance","_opts$distanceScales","getMeterZoom","log2","DEFAULT_ZOOM","pow","Vector3","meterOffset","transformVector","center","_getCenterInWorld","viewMatrixUncentered","multiplyRight","translate","negate","_ref5","commonPosition","add","_opts$projectionMatri","_opts$orthographic","_opts$fovy","_opts$near","_opts$far","_opts$focalDistance2","vpm","multiply","viewProjectionMatrix","viewMatrixInverse","invert","_extractCameraVectors","extractCameraVectors","eye","viewportMatrix","warn","get","PROJECTION_MODE","WEB_MERCATOR","WEB_MERCATOR_AUTO_OFFSET"]
}
