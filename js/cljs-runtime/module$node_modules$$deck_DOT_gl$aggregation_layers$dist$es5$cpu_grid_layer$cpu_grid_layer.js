shadow$provide.module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$cpu_grid_layer$cpu_grid_layer=function(global,require,module,exports){function nop(){}var _interopRequireDefault=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$createClass")),
_possibleConstructorReturn2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$getPrototypeOf")),_get2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$get")),_inherits2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$inherits")),_layers=require("module$node_modules$$deck_DOT_gl$layers$dist$es5$index");
global=require("module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$utils$color_utils");module=require("module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$cpu_grid_layer$grid_aggregator");var _cpuAggregator=_interopRequireDefault(require("module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$utils$cpu_aggregator"));require=_interopRequireDefault(require("module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$aggregation_layer"));global={colorDomain:null,colorRange:global.defaultColorRange,
getColorValue:{type:"accessor",value:null},getColorWeight:{type:"accessor",value:function(x){return 1}},colorAggregation:"SUM",lowerPercentile:{type:"number",min:0,max:100,value:0},upperPercentile:{type:"number",min:0,max:100,value:100},colorScaleType:"quantize",onSetColorDomain:nop,elevationDomain:null,elevationRange:[0,1E3],getElevationValue:{type:"accessor",value:null},getElevationWeight:{type:"accessor",value:function(x){return 1}},elevationAggregation:"SUM",elevationLowerPercentile:{type:"number",
min:0,max:100,value:0},elevationUpperPercentile:{type:"number",min:0,max:100,value:100},elevationScale:{type:"number",min:0,value:1},elevationScaleType:"linear",onSetElevationDomain:nop,gridAggregator:module.pointToDensityGridDataCPU,cellSize:{type:"number",min:0,max:1E3,value:1E3},coverage:{type:"number",min:0,max:1,value:1},getPosition:{type:"accessor",value:function(x){return x.position}},extruded:!1,material:!0,_filterData:{type:"function",value:null,optional:!0}};require=function(_AggregationLayer){function CPUGridLayer(){(0,
_classCallCheck2["default"])(this,CPUGridLayer);return(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(CPUGridLayer).apply(this,arguments))}(0,_inherits2["default"])(CPUGridLayer,_AggregationLayer);(0,_createClass2["default"])(CPUGridLayer,[{key:"initializeState",value:function(){var cpuAggregator=new _cpuAggregator["default"]({getAggregator:function(props){return props.gridAggregator},getCellSize:function(props){return props.cellSize}});this.state={cpuAggregator:cpuAggregator,
aggregatorState:cpuAggregator.state};this.getAttributeManager().add({positions:{size:3,accessor:"getPosition"}})}},{key:"updateState",value:function(opts){(0,_get2["default"])((0,_getPrototypeOf2["default"])(CPUGridLayer.prototype),"updateState",this).call(this,opts);this.setState({aggregatorState:this.state.cpuAggregator.updateState(opts,{viewport:this.context.viewport,attributes:this.getAttributes(),numInstances:this.getNumInstances(opts.props)})})}},{key:"getPickingInfo",value:function(_ref){return this.state.cpuAggregator.getPickingInfo({info:_ref.info})}},
{key:"_onGetSublayerColor",value:function(cell){return this.state.cpuAggregator.getAccessor("fillColor")(cell)}},{key:"_onGetSublayerElevation",value:function(cell){return this.state.cpuAggregator.getAccessor("elevation")(cell)}},{key:"_getSublayerUpdateTriggers",value:function(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}},{key:"renderLayers",value:function(){var _this$props=this.props,elevationScale=_this$props.elevationScale,extruded=_this$props.extruded,cellSize=_this$props.cellSize,
coverage=_this$props.coverage,material=_this$props.material;_this$props=_this$props.transitions;var cpuAggregator=this.state.cpuAggregator,SubLayerClass=this.getSubLayerClass("grid-cell",_layers.GridCellLayer),updateTriggers=this._getSublayerUpdateTriggers();return new SubLayerClass({cellSize:cellSize,coverage:coverage,material:material,elevationScale:elevationScale,extruded:extruded,getFillColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),transitions:_this$props&&
{getFillColor:_this$props.getColorValue||_this$props.getColorWeight,getElevation:_this$props.getElevationValue||_this$props.getElevationWeight}},this.getSubLayerProps({id:"grid-cell",updateTriggers:updateTriggers}),{data:cpuAggregator.state.layerData.data})}}]);return CPUGridLayer}(require["default"]);exports["default"]=require;require.layerName="CPUGridLayer";require.defaultProps=global}
//# sourceMappingURL=module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$cpu_grid_layer$cpu_grid_layer.js.map
