{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$layers$dist$es5$bitmap_layer$bitmap_layer.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/layers/dist/es5/bitmap-layer/bitmap-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$layers$dist$es5$bitmap_layer$bitmap_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _core2 = require(\"@luma.gl/core\");\n\nvar _createMesh2 = _interopRequireDefault(require(\"./create-mesh\"));\n\nvar _bitmapLayerVertex = _interopRequireDefault(require(\"./bitmap-layer-vertex\"));\n\nvar _bitmapLayerFragment = _interopRequireDefault(require(\"./bitmap-layer-fragment\"));\n\nvar _DEFAULT_TEXTURE_PARA;\n\nvar DEFAULT_TEXTURE_PARAMETERS = (_DEFAULT_TEXTURE_PARA = {}, (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10241, 9987), (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10240, 9729), (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10242, 33071), (0, _defineProperty2[\"default\"])(_DEFAULT_TEXTURE_PARA, 10243, 33071), _DEFAULT_TEXTURE_PARA);\nvar defaultProps = {\n  image: {\n    type: 'object',\n    value: null,\n    async: true\n  },\n  bounds: {\n    type: 'array',\n    value: [1, 0, 0, 1],\n    compare: true\n  },\n  desaturate: {\n    type: 'number',\n    min: 0,\n    max: 1,\n    value: 0\n  },\n  transparentColor: {\n    type: 'color',\n    value: [0, 0, 0, 0]\n  },\n  tintColor: {\n    type: 'color',\n    value: [255, 255, 255]\n  }\n};\n\nvar BitmapLayer = function (_Layer) {\n  (0, _inherits2[\"default\"])(BitmapLayer, _Layer);\n\n  function BitmapLayer() {\n    (0, _classCallCheck2[\"default\"])(this, BitmapLayer);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(BitmapLayer).apply(this, arguments));\n  }\n\n  (0, _createClass2[\"default\"])(BitmapLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(BitmapLayer.prototype), \"getShaders\", this).call(this, {\n        vs: _bitmapLayerVertex[\"default\"],\n        fs: _bitmapLayerFragment[\"default\"],\n        modules: [_core.project32, _core.picking]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var _this = this;\n\n      var attributeManager = this.getAttributeManager();\n      attributeManager.remove(['instancePickingColors']);\n      var noAlloc = true;\n      attributeManager.add({\n        indices: {\n          size: 1,\n          isIndexed: true,\n          update: function update(attribute) {\n            return attribute.value = _this.state.mesh.indices;\n          },\n          noAlloc: noAlloc\n        },\n        positions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          update: function update(attribute) {\n            return attribute.value = _this.state.mesh.positions;\n          },\n          noAlloc: noAlloc\n        },\n        texCoords: {\n          size: 2,\n          update: function update(attribute) {\n            return attribute.value = _this.state.mesh.texCoords;\n          },\n          noAlloc: noAlloc\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          oldProps = _ref.oldProps,\n          changeFlags = _ref.changeFlags;\n\n      if (changeFlags.extensionsChanged) {\n        var gl = this.context.gl;\n\n        if (this.state.model) {\n          this.state.model[\"delete\"]();\n        }\n\n        this.setState({\n          model: this._getModel(gl)\n        });\n        this.getAttributeManager().invalidateAll();\n      }\n\n      if (props.image !== oldProps.image) {\n        this.loadTexture(props.image);\n      }\n\n      var attributeManager = this.getAttributeManager();\n\n      if (props.bounds !== oldProps.bounds) {\n        var oldMesh = this.state.mesh;\n\n        var mesh = this._createMesh();\n\n        this.state.model.setVertexCount(mesh.vertexCount);\n\n        for (var key in mesh) {\n          if (oldMesh && oldMesh[key] !== mesh[key]) {\n            attributeManager.invalidate(key);\n          }\n        }\n\n        this.setState({\n          mesh: mesh\n        });\n      }\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(BitmapLayer.prototype), \"finalizeState\", this).call(this);\n\n      if (this.state.bitmapTexture) {\n        this.state.bitmapTexture[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"_createMesh\",\n    value: function _createMesh() {\n      var bounds = this.props.bounds;\n      var normalizedBounds = bounds;\n\n      if (Number.isFinite(bounds[0])) {\n        normalizedBounds = [[bounds[0], bounds[1]], [bounds[0], bounds[3]], [bounds[2], bounds[3]], [bounds[2], bounds[1]]];\n      }\n\n      return (0, _createMesh2[\"default\"])(normalizedBounds, this.context.viewport.resolution);\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      if (!gl) {\n        return null;\n      }\n\n      return new _core2.Model(gl, Object.assign({}, this.getShaders(), {\n        id: this.props.id,\n        geometry: new _core2.Geometry({\n          drawMode: 4,\n          vertexCount: 6\n        }),\n        isInstanced: false\n      }));\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(opts) {\n      var uniforms = opts.uniforms;\n      var _this$state = this.state,\n          bitmapTexture = _this$state.bitmapTexture,\n          model = _this$state.model;\n      var _this$props = this.props,\n          image = _this$props.image,\n          desaturate = _this$props.desaturate,\n          transparentColor = _this$props.transparentColor,\n          tintColor = _this$props.tintColor;\n\n      if (bitmapTexture && image instanceof HTMLVideoElement && image.readyState > HTMLVideoElement.HAVE_METADATA) {\n        var sizeChanged = bitmapTexture.width !== image.videoWidth || bitmapTexture.height !== image.videoHeight;\n\n        if (sizeChanged) {\n          bitmapTexture.resize({\n            width: image.videoWidth,\n            height: image.videoHeight,\n            mipmaps: true\n          });\n          bitmapTexture.setSubImageData({\n            data: image,\n            paramters: DEFAULT_TEXTURE_PARAMETERS\n          });\n        } else {\n          bitmapTexture.setSubImageData({\n            data: image\n          });\n        }\n\n        bitmapTexture.generateMipmap();\n      }\n\n      if (bitmapTexture && model) {\n        model.setUniforms(Object.assign({}, uniforms, {\n          bitmapTexture: bitmapTexture,\n          desaturate: desaturate,\n          transparentColor: transparentColor.map(function (x) {\n            return x / 255;\n          }),\n          tintColor: tintColor.slice(0, 3).map(function (x) {\n            return x / 255;\n          })\n        })).draw();\n      }\n    }\n  }, {\n    key: \"loadTexture\",\n    value: function loadTexture(image) {\n      var gl = this.context.gl;\n\n      if (this.state.bitmapTexture) {\n        this.state.bitmapTexture[\"delete\"]();\n      }\n\n      if (image instanceof _core2.Texture2D) {\n        this.setState({\n          bitmapTexture: image\n        });\n      } else if (image instanceof HTMLVideoElement) {\n        this.setState({\n          bitmapTexture: new _core2.Texture2D(gl, {\n            width: 1,\n            height: 1,\n            parameters: DEFAULT_TEXTURE_PARAMETERS,\n            mipmaps: false\n          })\n        });\n      } else if (image) {\n        this.setState({\n          bitmapTexture: new _core2.Texture2D(gl, {\n            data: image,\n            parameters: DEFAULT_TEXTURE_PARAMETERS\n          })\n        });\n      }\n    }\n  }]);\n  return BitmapLayer;\n}(_core.Layer);\n\nexports[\"default\"] = BitmapLayer;\nBitmapLayer.layerName = 'BitmapLayer';\nBitmapLayer.defaultProps = defaultProps;\n//# sourceMappingURL=bitmap-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_get2","_inherits2","_defineProperty2","_core","_core2","_createMesh2","_bitmapLayerVertex","_bitmapLayerFragment","_DEFAULT_TEXTURE_PARA","DEFAULT_TEXTURE_PARAMETERS","BitmapLayer","_Layer","apply","arguments","key","getShaders","prototype","call","vs","fs","modules","project32","picking","initializeState","_this","attributeManager","getAttributeManager","remove","add","indices","size","isIndexed","update","attribute","state","mesh","noAlloc","positions","type","fp64","use64bitPositions","texCoords","updateState","_ref","props","oldProps","changeFlags","extensionsChanged","gl","context","model","setState","_getModel","invalidateAll","image","loadTexture","bounds","oldMesh","_createMesh","setVertexCount","vertexCount","invalidate","finalizeState","bitmapTexture","normalizedBounds","Number","isFinite","viewport","resolution","Model","assign","id","geometry","Geometry","drawMode","isInstanced","draw","opts","uniforms","_this$state","_this$props","desaturate","transparentColor","tintColor","HTMLVideoElement","readyState","HAVE_METADATA","width","videoWidth","height","videoHeight","resize","mipmaps","setSubImageData","data","paramters","generateMipmap","setUniforms","map","x","slice","Texture2D","parameters","Layer","layerName","defaultProps","async","compare","min","max"]
}
