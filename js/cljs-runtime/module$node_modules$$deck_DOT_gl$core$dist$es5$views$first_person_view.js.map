{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$views$first_person_view.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/views/first-person-view.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$views$first_person_view\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _view = _interopRequireDefault(require(\"./view\"));\n\nvar _viewport = _interopRequireDefault(require(\"../viewports/viewport\"));\n\nvar _webMercator = require(\"@math.gl/web-mercator\");\n\nvar _math = require(\"math.gl\");\n\nvar _firstPersonController = _interopRequireDefault(require(\"../controllers/first-person-controller\"));\n\nfunction getDirectionFromBearingAndPitch(_ref) {\n  var bearing = _ref.bearing,\n      pitch = _ref.pitch;\n  var spherical = new _math._SphericalCoordinates({\n    bearing: bearing,\n    pitch: pitch\n  });\n  var direction = spherical.toVector3().normalize();\n  return direction;\n}\n\nvar FirstPersonView = function (_View) {\n  (0, _inherits2[\"default\"])(FirstPersonView, _View);\n\n  function FirstPersonView() {\n    (0, _classCallCheck2[\"default\"])(this, FirstPersonView);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(FirstPersonView).apply(this, arguments));\n  }\n\n  (0, _createClass2[\"default\"])(FirstPersonView, [{\n    key: \"_getViewport\",\n    value: function _getViewport(props) {\n      var _props$viewState = props.viewState,\n          _props$viewState$mode = _props$viewState.modelMatrix,\n          modelMatrix = _props$viewState$mode === void 0 ? null : _props$viewState$mode,\n          _props$viewState$bear = _props$viewState.bearing,\n          bearing = _props$viewState$bear === void 0 ? 0 : _props$viewState$bear,\n          _props$viewState$pitc = _props$viewState.pitch,\n          pitch = _props$viewState$pitc === void 0 ? 0 : _props$viewState$pitc,\n          _props$viewState$up = _props$viewState.up,\n          up = _props$viewState$up === void 0 ? [0, 0, 1] : _props$viewState$up;\n      var dir = getDirectionFromBearingAndPitch({\n        bearing: bearing,\n        pitch: 90 + pitch\n      });\n      var center = modelMatrix ? modelMatrix.transformDirection(dir) : dir;\n      var zoom = (0, _webMercator.getMeterZoom)(props);\n      var scale = Math.pow(2, zoom);\n      var viewMatrix = new _math.Matrix4().lookAt({\n        eye: [0, 0, 0],\n        center: center,\n        up: up\n      }).scale(scale);\n      return new _viewport[\"default\"](Object.assign({}, props, {\n        zoom: zoom,\n        viewMatrix: viewMatrix\n      }));\n    }\n  }, {\n    key: \"controller\",\n    get: function get() {\n      return this._getControllerProps({\n        type: _firstPersonController[\"default\"]\n      });\n    }\n  }]);\n  return FirstPersonView;\n}(_view[\"default\"]);\n\nexports[\"default\"] = FirstPersonView;\nFirstPersonView.displayName = 'FirstPersonView';\n//# sourceMappingURL=first-person-view.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_view","_viewport","_webMercator","_math","_firstPersonController","FirstPersonView","_View","apply","arguments","key","_getViewport","props","_props$viewState","viewState","_props$viewState$mode","modelMatrix","_props$viewState$bear","bearing","_props$viewState$pitc","pitch","_props$viewState$up","up","toVector3","spherical","_SphericalCoordinates","normalize","direction","center","transformDirection","dir","zoom","getMeterZoom","scale","Math","pow","viewMatrix","lookAt","Matrix4","eye","assign","get","_getControllerProps","type","displayName"]
}
