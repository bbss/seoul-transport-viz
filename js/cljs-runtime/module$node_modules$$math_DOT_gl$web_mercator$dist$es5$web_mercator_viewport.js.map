{
"version":3,
"file":"module$node_modules$$math_DOT_gl$web_mercator$dist$es5$web_mercator_viewport.js",
"lineCount":16,
"mappings":"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",
"sources":["node_modules/@math_DOT_gl/web-mercator/dist/es5/web-mercator-viewport.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$math_DOT_gl$web_mercator$dist$es5$web_mercator_viewport\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _mathUtils = require(\"./math-utils\");\n\nvar _webMercatorUtils = require(\"./web-mercator-utils\");\n\nvar _fitBounds3 = _interopRequireDefault(require(\"./fit-bounds\"));\n\nvar _getBounds = _interopRequireDefault(require(\"./get-bounds\"));\n\nvar mat4 = _interopRequireWildcard(require(\"gl-matrix/mat4\"));\n\nvar vec2 = _interopRequireWildcard(require(\"gl-matrix/vec2\"));\n\nvar WebMercatorViewport = function () {\n  function WebMercatorViewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      width: 1,\n      height: 1\n    },\n        width = _ref.width,\n        height = _ref.height,\n        _ref$latitude = _ref.latitude,\n        latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n        _ref$longitude = _ref.longitude,\n        longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n        _ref$zoom = _ref.zoom,\n        zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude,\n        _ref$nearZMultiplier = _ref.nearZMultiplier,\n        nearZMultiplier = _ref$nearZMultiplier === void 0 ? 0.02 : _ref$nearZMultiplier,\n        _ref$farZMultiplier = _ref.farZMultiplier,\n        farZMultiplier = _ref$farZMultiplier === void 0 ? 1.01 : _ref$farZMultiplier;\n\n    (0, _classCallCheck2[\"default\"])(this, WebMercatorViewport);\n    width = width || 1;\n    height = height || 1;\n    var scale = (0, _webMercatorUtils.zoomToScale)(zoom);\n    altitude = Math.max(0.75, altitude);\n    var center = (0, _webMercatorUtils.lngLatToWorld)([longitude, latitude]);\n    center[2] = 0;\n    this.projectionMatrix = (0, _webMercatorUtils.getProjectionMatrix)({\n      width: width,\n      height: height,\n      pitch: pitch,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    });\n    this.viewMatrix = (0, _webMercatorUtils.getViewMatrix)({\n      height: height,\n      scale: scale,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude\n    });\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.center = center;\n    this.distanceScales = (0, _webMercatorUtils.getDistanceScales)(this);\n\n    this._initMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    Object.freeze(this);\n  }\n\n  (0, _createClass2[\"default\"])(WebMercatorViewport, [{\n    key: \"_initMatrices\",\n    value: function _initMatrices() {\n      var width = this.width,\n          height = this.height,\n          projectionMatrix = this.projectionMatrix,\n          viewMatrix = this.viewMatrix;\n      var vpm = (0, _mathUtils.createMat4)();\n      mat4.multiply(vpm, vpm, projectionMatrix);\n      mat4.multiply(vpm, vpm, viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      var m = (0, _mathUtils.createMat4)();\n      mat4.scale(m, m, [width / 2, -height / 2, 1]);\n      mat4.translate(m, m, [1, -1, 0]);\n      mat4.multiply(m, m, vpm);\n      var mInverse = mat4.invert((0, _mathUtils.createMat4)(), m);\n\n      if (!mInverse) {\n        throw new Error('Pixel project matrix not invertible');\n      }\n\n      this.pixelProjectionMatrix = m;\n      this.pixelUnprojectionMatrix = mInverse;\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof WebMercatorViewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = (0, _webMercatorUtils.worldToPixels)(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = (0, _slicedToArray2[\"default\"])(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$topLeft = _ref3.topLeft,\n          topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n          _ref3$targetZ = _ref3.targetZ,\n          targetZ = _ref3$targetZ === void 0 ? undefined : _ref3$targetZ;\n\n      var _xyz = (0, _slicedToArray2[\"default\"])(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = (0, _webMercatorUtils.pixelsToWorld)([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = (0, _slicedToArray2[\"default\"])(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _lngLatToWorld = (0, _webMercatorUtils.lngLatToWorld)(xyz),\n          _lngLatToWorld2 = (0, _slicedToArray2[\"default\"])(_lngLatToWorld, 2),\n          X = _lngLatToWorld2[0],\n          Y = _lngLatToWorld2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _worldToLngLat = (0, _webMercatorUtils.worldToLngLat)(xyz),\n          _worldToLngLat2 = (0, _slicedToArray2[\"default\"])(_worldToLngLat, 2),\n          X = _worldToLngLat2[0],\n          Y = _worldToLngLat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      return (0, _webMercatorUtils.lngLatToWorld)(lngLat);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      return (0, _webMercatorUtils.worldToLngLat)(xy);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref4) {\n      var lngLat = _ref4.lngLat,\n          pos = _ref4.pos;\n      var fromLocation = (0, _webMercatorUtils.pixelsToWorld)(pos, this.pixelUnprojectionMatrix);\n      var toLocation = (0, _webMercatorUtils.lngLatToWorld)(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return (0, _webMercatorUtils.worldToLngLat)(newCenter);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref5) {\n      var lngLat = _ref5.lngLat,\n          pos = _ref5.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = (0, _fitBounds3[\"default\"])(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds(options) {\n      var corners = this.getBoundingRegion(options);\n      var west = Math.min.apply(Math, (0, _toConsumableArray2[\"default\"])(corners.map(function (p) {\n        return p[0];\n      })));\n      var east = Math.max.apply(Math, (0, _toConsumableArray2[\"default\"])(corners.map(function (p) {\n        return p[0];\n      })));\n      var south = Math.min.apply(Math, (0, _toConsumableArray2[\"default\"])(corners.map(function (p) {\n        return p[1];\n      })));\n      var north = Math.max.apply(Math, (0, _toConsumableArray2[\"default\"])(corners.map(function (p) {\n        return p[1];\n      })));\n      return [[west, south], [east, north]];\n    }\n  }, {\n    key: \"getBoundingRegion\",\n    value: function getBoundingRegion() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return (0, _getBounds[\"default\"])(this, options.z || 0);\n    }\n  }]);\n  return WebMercatorViewport;\n}();\n\nexports[\"default\"] = WebMercatorViewport;\n//# sourceMappingURL=web-mercator-viewport.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_toConsumableArray2","_slicedToArray2","_classCallCheck2","_createClass2","_mathUtils","_webMercatorUtils","_fitBounds3","_getBounds","mat4","vec2","WebMercatorViewport","_ref","arguments","length","undefined","width","height","_ref$latitude","latitude","_ref$longitude","longitude","_ref$zoom","zoom","_ref$pitch","pitch","_ref$bearing","bearing","_ref$altitude","altitude","_ref$nearZMultiplier","nearZMultiplier","_ref$farZMultiplier","farZMultiplier","scale","zoomToScale","Math","max","center","lngLatToWorld","projectionMatrix","getProjectionMatrix","viewMatrix","getViewMatrix","distanceScales","getDistanceScales","_initMatrices","equals","bind","project","unproject","projectPosition","unprojectPosition","freeze","key","vpm","createMat4","multiply","viewProjectionMatrix","m","translate","mInverse","invert","Error","pixelProjectionMatrix","pixelUnprojectionMatrix","viewport","xyz","_ref2$topLeft","topLeft","_ref2","worldPosition","coord","worldToPixels","_coord","x","y","y2","_ref3","_ref3$topLeft","_ref3$targetZ","targetZ","_xyz","z","targetZWorld","unitsPerMeter","pixelsToWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","Number","isFinite","_lngLatToWorld","_lngLatToWorld2","_worldToLngLat","worldToLngLat","_worldToLngLat2","metersPerUnit","projectFlat","lngLat","unprojectFlat","xy","getMapCenterByLngLatPosition","_ref4","pos","fromLocation","toLocation","add","negate","newCenter","getLocationAtPoint","_ref5","fitBounds","bounds","options","_fitBounds2","assign","getBounds","corners","getBoundingRegion","west","min","apply","map","p","east","south","north"]
}
