{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$aggregation_layer.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/aggregation-layers/dist/es5/aggregation-layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$aggregation_layers$dist$es5$aggregation_layer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _core = require(\"@deck.gl/core\");\n\nvar _core2 = require(\"@luma.gl/core\");\n\nvar _propUtils = require(\"./utils/prop-utils\");\n\nvar AggregationLayer = function (_CompositeLayer) {\n  (0, _inherits2[\"default\"])(AggregationLayer, _CompositeLayer);\n\n  function AggregationLayer() {\n    (0, _classCallCheck2[\"default\"])(this, AggregationLayer);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(AggregationLayer).apply(this, arguments));\n  }\n\n  (0, _createClass2[\"default\"])(AggregationLayer, [{\n    key: \"initializeState\",\n    value: function initializeState(dimensions) {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(AggregationLayer.prototype), \"initializeState\", this).call(this);\n      this.setState({\n        ignoreProps: (0, _propUtils.filterProps)(this.constructor._propTypes, dimensions.data.props),\n        dimensions: dimensions\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(opts) {\n      (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(AggregationLayer.prototype), \"updateState\", this).call(this, opts);\n      var changeFlags = opts.changeFlags;\n\n      if (changeFlags.extensionsChanged) {\n        var shaders = this.getShaders({});\n\n        if (shaders && shaders.defines) {\n          shaders.defines.NON_INSTANCED_MODEL = 1;\n        }\n\n        this.updateShaders(shaders);\n      }\n\n      this._updateAttributes(opts.props);\n    }\n  }, {\n    key: \"updateAttributes\",\n    value: function updateAttributes(changedAttributes) {\n      this.setState({\n        changedAttributes: changedAttributes\n      });\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.getAttributeManager().getShaderAttributes();\n    }\n  }, {\n    key: \"getModuleSettings\",\n    value: function getModuleSettings() {\n      var _this$context = this.context,\n          viewport = _this$context.viewport,\n          mousePosition = _this$context.mousePosition,\n          gl = _this$context.gl;\n      var moduleSettings = Object.assign(Object.create(this.props), {\n        viewport: viewport,\n        mousePosition: mousePosition,\n        pickingActive: 0,\n        devicePixelRatio: (0, _core2.cssToDeviceRatio)(gl)\n      });\n      return moduleSettings;\n    }\n  }, {\n    key: \"updateShaders\",\n    value: function updateShaders(shaders) {}\n  }, {\n    key: \"isAggregationDirty\",\n    value: function isAggregationDirty(updateOpts) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var props = updateOpts.props,\n          oldProps = updateOpts.oldProps,\n          changeFlags = updateOpts.changeFlags;\n      var _params$compareAll = params.compareAll,\n          compareAll = _params$compareAll === void 0 ? false : _params$compareAll,\n          dimension = params.dimension;\n      var ignoreProps = this.state.ignoreProps;\n      var dataProps = dimension.props,\n          _dimension$accessors = dimension.accessors,\n          accessors = _dimension$accessors === void 0 ? [] : _dimension$accessors;\n      var updateTriggersChanged = changeFlags.updateTriggersChanged;\n\n      if (updateTriggersChanged) {\n        if (updateTriggersChanged.all) {\n          return true;\n        }\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = accessors[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var accessor = _step.value;\n\n            if (updateTriggersChanged[accessor]) {\n              return true;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      if (compareAll) {\n        if (changeFlags.extensionsChanged) {\n          return true;\n        }\n\n        return (0, _core._compareProps)({\n          oldProps: oldProps,\n          newProps: props,\n          ignoreProps: ignoreProps,\n          propTypes: this.constructor._propTypes\n        });\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = dataProps[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var name = _step2.value;\n\n          if (props[name] !== oldProps[name]) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isAttributeChanged\",\n    value: function isAttributeChanged(name) {\n      var changedAttributes = this.state.changedAttributes;\n\n      if (!name) {\n        return !isObjectEmpty(changedAttributes);\n      }\n\n      return changedAttributes && changedAttributes[name] !== undefined;\n    }\n  }, {\n    key: \"_getAttributeManager\",\n    value: function _getAttributeManager() {\n      return new _core.AttributeManager(this.context.gl, {\n        id: this.props.id,\n        stats: this.context.stats\n      });\n    }\n  }]);\n  return AggregationLayer;\n}(_core.CompositeLayer);\n\nexports[\"default\"] = AggregationLayer;\n\nfunction isObjectEmpty(obj) {\n  var isEmpty = true;\n\n  for (var key in obj) {\n    isEmpty = false;\n    break;\n  }\n\n  return isEmpty;\n}\n\nAggregationLayer.layerName = 'AggregationLayer';\n//# sourceMappingURL=aggregation-layer.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_get2","_inherits2","_core","_core2","_propUtils","AggregationLayer","_CompositeLayer","apply","arguments","key","initializeState","dimensions","prototype","call","setState","ignoreProps","filterProps","constructor","_propTypes","data","props","updateState","opts","changeFlags","extensionsChanged","shaders","getShaders","defines","NON_INSTANCED_MODEL","updateShaders","_updateAttributes","updateAttributes","changedAttributes","getAttributes","getAttributeManager","getShaderAttributes","getModuleSettings","_this$context","context","viewport","mousePosition","gl","assign","moduleSettings","create","pickingActive","devicePixelRatio","cssToDeviceRatio","isAggregationDirty","updateOpts","params","length","undefined","oldProps","_params$compareAll","compareAll","dimension","state","dataProps","_dimension$accessors","accessors","updateTriggersChanged","all","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","done","next","err","_compareProps","newProps","propTypes","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","name","isAttributeChanged","isEmpty","_getAttributeManager","AttributeManager","id","stats","CompositeLayer","layerName"]
}
