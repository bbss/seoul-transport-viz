{
"version":3,
"file":"module$node_modules$$deck_DOT_gl$core$dist$es5$passes$pick_layers_pass.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@deck_DOT_gl/core/dist/es5/passes/pick-layers-pass.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$deck_DOT_gl$core$dist$es5$passes$pick_layers_pass\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _layersPass = _interopRequireDefault(require(\"./layers-pass\"));\n\nvar _core = require(\"@luma.gl/core\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar PICKING_PARAMETERS = {\n  blendFunc: [1, 0, 32771, 0],\n  blendEquation: 32774\n};\n\nvar PickLayersPass = function (_LayersPass) {\n  (0, _inherits2[\"default\"])(PickLayersPass, _LayersPass);\n\n  function PickLayersPass() {\n    (0, _classCallCheck2[\"default\"])(this, PickLayersPass);\n    return (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(PickLayersPass).apply(this, arguments));\n  }\n\n  (0, _createClass2[\"default\"])(PickLayersPass, [{\n    key: \"render\",\n    value: function render(props) {\n      if (props.pickingFBO) {\n        this._drawPickingBuffer(props);\n      } else {\n        (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(PickLayersPass.prototype), \"render\", this).call(this, props);\n      }\n    }\n  }, {\n    key: \"_drawPickingBuffer\",\n    value: function _drawPickingBuffer(_ref) {\n      var _this = this;\n\n      var layers = _ref.layers,\n          layerFilter = _ref.layerFilter,\n          viewports = _ref.viewports,\n          onViewportActive = _ref.onViewportActive,\n          pickingFBO = _ref.pickingFBO,\n          _ref$deviceRect = _ref.deviceRect,\n          x = _ref$deviceRect.x,\n          y = _ref$deviceRect.y,\n          width = _ref$deviceRect.width,\n          height = _ref$deviceRect.height,\n          _ref$pass = _ref.pass,\n          pass = _ref$pass === void 0 ? 'picking' : _ref$pass,\n          redrawReason = _ref.redrawReason,\n          pickZ = _ref.pickZ;\n      var gl = this.gl;\n      this.pickZ = pickZ;\n      return (0, _core.withParameters)(gl, _objectSpread({\n        scissorTest: true,\n        scissor: [x, y, width, height],\n        clearColor: [0, 0, 0, 0],\n        depthMask: true,\n        depthTest: true,\n        depthRange: [0, 1],\n        colorMask: [true, true, true, true]\n      }, PICKING_PARAMETERS, {\n        blend: !pickZ\n      }), function () {\n        (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(PickLayersPass.prototype), \"render\", _this).call(_this, {\n          target: pickingFBO,\n          layers: layers,\n          layerFilter: layerFilter,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          pass: pass,\n          redrawReason: redrawReason\n        });\n      });\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return layer.props.pickable;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {\n      return {\n        pickingActive: 1,\n        pickingAttribute: this.pickZ,\n        lightSources: {}\n      };\n    }\n  }, {\n    key: \"getLayerParameters\",\n    value: function getLayerParameters(layer, layerIndex) {\n      var pickParameters = this.pickZ ? {\n        blend: false\n      } : _objectSpread({}, PICKING_PARAMETERS, {\n        blend: true,\n        blendColor: [0, 0, 0, (layerIndex + 1) / 255]\n      });\n      return Object.assign({}, layer.props.parameters, pickParameters);\n    }\n  }]);\n  return PickLayersPass;\n}(_layersPass[\"default\"]);\n\nexports[\"default\"] = PickLayersPass;\n//# sourceMappingURL=pick-layers-pass.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","_interopRequireDefault","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_get2","_inherits2","_layersPass","_core","PICKING_PARAMETERS","blendFunc","blendEquation","PickLayersPass","_LayersPass","render","props","pickingFBO","_drawPickingBuffer","prototype","call","_ref","_this","layers","layerFilter","viewports","onViewportActive","_ref$deviceRect","deviceRect","x","y","width","height","_ref$pass","pass","redrawReason","pickZ","gl","withParameters","scissorTest","scissor","clearColor","depthMask","depthTest","depthRange","colorMask","blend","shouldDrawLayer","layer","pickable","getModuleParameters","pickingActive","pickingAttribute","lightSources","getLayerParameters","layerIndex","pickParameters","blendColor","assign","parameters"]
}
