{
"version":3,
"file":"module$node_modules$$luma_DOT_gl$gltools$dist$es5$polyfill$polyfill_vertex_array_object.js",
"lineCount":14,
"mappings":"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",
"sources":["node_modules/@luma_DOT_gl/gltools/dist/es5/polyfill/polyfill-vertex-array-object.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$luma_DOT_gl$gltools$dist$es5$polyfill$polyfill_vertex_array_object\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.polyfillVertexArrayObject = polyfillVertexArrayObject;\n\nvar _env = require(\"probe.gl/env\");\n\nvar glErrorShadow = {};\n\nfunction error(msg) {\n  if (_env.global.console && _env.global.console.error) {\n    _env.global.console.error(msg);\n  }\n}\n\nfunction log(msg) {\n  if (_env.global.console && _env.global.console.log) {\n    _env.global.console.log(msg);\n  }\n}\n\nfunction synthesizeGLError(err, opt_msg) {\n  glErrorShadow[err] = true;\n\n  if (opt_msg !== undefined) {\n    error(opt_msg);\n  }\n}\n\nfunction wrapGLError(gl) {\n  var f = gl.getError;\n\n  gl.getError = function getError() {\n    var err;\n\n    do {\n      err = f.apply(gl);\n\n      if (err !== 0) {\n        glErrorShadow[err] = true;\n      }\n    } while (err !== 0);\n\n    for (err in glErrorShadow) {\n      if (glErrorShadow[err]) {\n        delete glErrorShadow[err];\n        return parseInt(err, 10);\n      }\n    }\n\n    return 0;\n  };\n}\n\nvar WebGLVertexArrayObjectOES = function WebGLVertexArrayObjectOES(ext) {\n  var gl = ext.gl;\n  this.ext = ext;\n  this.isAlive = true;\n  this.hasBeenBound = false;\n  this.elementArrayBuffer = null;\n  this.attribs = new Array(ext.maxVertexAttribs);\n\n  for (var n = 0; n < this.attribs.length; n++) {\n    var attrib = new WebGLVertexArrayObjectOES.VertexAttrib(gl);\n    this.attribs[n] = attrib;\n  }\n\n  this.maxAttrib = 0;\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib = function VertexAttrib(gl) {\n  this.enabled = false;\n  this.buffer = null;\n  this.size = 4;\n  this.type = 5126;\n  this.normalized = false;\n  this.stride = 16;\n  this.offset = 0;\n  this.cached = '';\n  this.recache();\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib.prototype.recache = function recache() {\n  this.cached = [this.size, this.type, this.normalized, this.stride, this.offset].join(':');\n};\n\nvar OESVertexArrayObject = function OESVertexArrayObject(gl) {\n  var self = this;\n  this.gl = gl;\n  wrapGLError(gl);\n  var original = this.original = {\n    getParameter: gl.getParameter,\n    enableVertexAttribArray: gl.enableVertexAttribArray,\n    disableVertexAttribArray: gl.disableVertexAttribArray,\n    bindBuffer: gl.bindBuffer,\n    getVertexAttrib: gl.getVertexAttrib,\n    vertexAttribPointer: gl.vertexAttribPointer\n  };\n\n  gl.getParameter = function getParameter(pname) {\n    if (pname === self.VERTEX_ARRAY_BINDING_OES) {\n      if (self.currentVertexArrayObject === self.defaultVertexArrayObject) {\n        return null;\n      }\n\n      return self.currentVertexArrayObject;\n    }\n\n    return original.getParameter.apply(this, arguments);\n  };\n\n  gl.enableVertexAttribArray = function enableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = true;\n    return original.enableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.disableVertexAttribArray = function disableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = false;\n    return original.disableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.bindBuffer = function bindBuffer(target, buffer) {\n    switch (target) {\n      case 34962:\n        self.currentArrayBuffer = buffer;\n        break;\n\n      case 34963:\n        self.currentVertexArrayObject.elementArrayBuffer = buffer;\n        break;\n\n      default:\n    }\n\n    return original.bindBuffer.apply(this, arguments);\n  };\n\n  gl.getVertexAttrib = function getVertexAttrib(index, pname) {\n    var vao = self.currentVertexArrayObject;\n    var attrib = vao.attribs[index];\n\n    switch (pname) {\n      case 34975:\n        return attrib.buffer;\n\n      case 34338:\n        return attrib.enabled;\n\n      case 34339:\n        return attrib.size;\n\n      case 34340:\n        return attrib.stride;\n\n      case 34341:\n        return attrib.type;\n\n      case 34922:\n        return attrib.normalized;\n\n      default:\n        return original.getVertexAttrib.apply(this, arguments);\n    }\n  };\n\n  gl.vertexAttribPointer = function vertexAttribPointer(indx, size, type, normalized, stride, offset) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, indx);\n    var attrib = vao.attribs[indx];\n    attrib.buffer = self.currentArrayBuffer;\n    attrib.size = size;\n    attrib.type = type;\n    attrib.normalized = normalized;\n    attrib.stride = stride;\n    attrib.offset = offset;\n    attrib.recache();\n    return original.vertexAttribPointer.apply(this, arguments);\n  };\n\n  if (gl.instrumentExtension) {\n    gl.instrumentExtension(this, 'OES_vertex_array_object');\n  }\n\n  if (gl.canvas) {\n    gl.canvas.addEventListener('webglcontextrestored', function () {\n      log('OESVertexArrayObject emulation library context restored');\n      self.reset_();\n    }, true);\n  }\n\n  this.reset_();\n};\n\nOESVertexArrayObject.prototype.VERTEX_ARRAY_BINDING_OES = 0x85b5;\n\nOESVertexArrayObject.prototype.reset_ = function reset_() {\n  var contextWasLost = this.vertexArrayObjects !== undefined;\n\n  if (contextWasLost) {\n    for (var ii = 0; ii < this.vertexArrayObjects.length; ++ii) {\n      this.vertexArrayObjects.isAlive = false;\n    }\n  }\n\n  var gl = this.gl;\n  this.maxVertexAttribs = gl.getParameter(34921);\n  this.defaultVertexArrayObject = new WebGLVertexArrayObjectOES(this);\n  this.currentVertexArrayObject = null;\n  this.currentArrayBuffer = null;\n  this.vertexArrayObjects = [this.defaultVertexArrayObject];\n  this.bindVertexArrayOES(null);\n};\n\nOESVertexArrayObject.prototype.createVertexArrayOES = function createVertexArrayOES() {\n  var arrayObject = new WebGLVertexArrayObjectOES(this);\n  this.vertexArrayObjects.push(arrayObject);\n  return arrayObject;\n};\n\nOESVertexArrayObject.prototype.deleteVertexArrayOES = function deleteVertexArrayOES(arrayObject) {\n  arrayObject.isAlive = false;\n  this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(arrayObject), 1);\n\n  if (this.currentVertexArrayObject === arrayObject) {\n    this.bindVertexArrayOES(null);\n  }\n};\n\nOESVertexArrayObject.prototype.isVertexArrayOES = function isVertexArrayOES(arrayObject) {\n  if (arrayObject && arrayObject instanceof WebGLVertexArrayObjectOES) {\n    if (arrayObject.hasBeenBound && arrayObject.ext === this) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nOESVertexArrayObject.prototype.bindVertexArrayOES = function bindVertexArrayOES(arrayObject) {\n  var gl = this.gl;\n\n  if (arrayObject && !arrayObject.isAlive) {\n    synthesizeGLError(1282, 'bindVertexArrayOES: attempt to bind deleted arrayObject');\n    return;\n  }\n\n  var original = this.original;\n  var oldVAO = this.currentVertexArrayObject;\n  this.currentVertexArrayObject = arrayObject || this.defaultVertexArrayObject;\n  this.currentVertexArrayObject.hasBeenBound = true;\n  var newVAO = this.currentVertexArrayObject;\n\n  if (oldVAO === newVAO) {\n    return;\n  }\n\n  if (!oldVAO || newVAO.elementArrayBuffer !== oldVAO.elementArrayBuffer) {\n    original.bindBuffer.call(gl, 34963, newVAO.elementArrayBuffer);\n  }\n\n  var currentBinding = this.currentArrayBuffer;\n  var maxAttrib = Math.max(oldVAO ? oldVAO.maxAttrib : 0, newVAO.maxAttrib);\n\n  for (var n = 0; n <= maxAttrib; n++) {\n    var attrib = newVAO.attribs[n];\n    var oldAttrib = oldVAO ? oldVAO.attribs[n] : null;\n\n    if (!oldVAO || attrib.enabled !== oldAttrib.enabled) {\n      if (attrib.enabled) {\n        original.enableVertexAttribArray.call(gl, n);\n      } else {\n        original.disableVertexAttribArray.call(gl, n);\n      }\n    }\n\n    if (attrib.enabled) {\n      var bufferChanged = false;\n\n      if (!oldVAO || attrib.buffer !== oldAttrib.buffer) {\n        if (currentBinding !== attrib.buffer) {\n          original.bindBuffer.call(gl, 34962, attrib.buffer);\n          currentBinding = attrib.buffer;\n        }\n\n        bufferChanged = true;\n      }\n\n      if (bufferChanged || attrib.cached !== oldAttrib.cached) {\n        original.vertexAttribPointer.call(gl, n, attrib.size, attrib.type, attrib.normalized, attrib.stride, attrib.offset);\n      }\n    }\n  }\n\n  if (this.currentArrayBuffer !== currentBinding) {\n    original.bindBuffer.call(gl, 34962, this.currentArrayBuffer);\n  }\n};\n\nfunction polyfillVertexArrayObject(gl) {\n  if (typeof gl.createVertexArray === 'function') {\n    return;\n  }\n\n  var original_getSupportedExtensions = gl.getSupportedExtensions;\n\n  gl.getSupportedExtensions = function getSupportedExtensions() {\n    var list = original_getSupportedExtensions.call(this) || [];\n\n    if (list.indexOf('OES_vertex_array_object') < 0) {\n      list.push('OES_vertex_array_object');\n    }\n\n    return list;\n  };\n\n  var original_getExtension = gl.getExtension;\n\n  gl.getExtension = function getExtension(name) {\n    var ext = original_getExtension.call(this, name);\n\n    if (ext) {\n      return ext;\n    }\n\n    if (name !== 'OES_vertex_array_object') {\n      return null;\n    }\n\n    if (!gl.__OESVertexArrayObject) {\n      this.__OESVertexArrayObject = new OESVertexArrayObject(this);\n    }\n\n    return this.__OESVertexArrayObject;\n  };\n}\n//# sourceMappingURL=polyfill-vertex-array-object.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","wrapGLError","gl","f","getError","gl.getError","err","apply","glErrorShadow","parseInt","Object","defineProperty","value","polyfillVertexArrayObject","createVertexArray","original_getSupportedExtensions","getSupportedExtensions","gl.getSupportedExtensions","list","call","indexOf","push","original_getExtension","getExtension","gl.getExtension","name","ext","__OESVertexArrayObject","OESVertexArrayObject","_env","WebGLVertexArrayObjectOES","isAlive","hasBeenBound","elementArrayBuffer","attribs","Array","maxVertexAttribs","n","length","attrib","VertexAttrib","maxAttrib","WebGLVertexArrayObjectOES.VertexAttrib","enabled","buffer","size","type","normalized","stride","offset","cached","recache","prototype","WebGLVertexArrayObjectOES.VertexAttrib.prototype.recache","join","self","original","getParameter","enableVertexAttribArray","disableVertexAttribArray","bindBuffer","getVertexAttrib","vertexAttribPointer","gl.getParameter","pname","VERTEX_ARRAY_BINDING_OES","currentVertexArrayObject","defaultVertexArrayObject","arguments","gl.enableVertexAttribArray","index","vao","Math","max","gl.disableVertexAttribArray","gl.bindBuffer","target","currentArrayBuffer","gl.getVertexAttrib","gl.vertexAttribPointer","indx","instrumentExtension","canvas","addEventListener","console","log","msg","reset_","OESVertexArrayObject.prototype.reset_","undefined","vertexArrayObjects","ii","bindVertexArrayOES","createVertexArrayOES","OESVertexArrayObject.prototype.createVertexArrayOES","arrayObject","deleteVertexArrayOES","OESVertexArrayObject.prototype.deleteVertexArrayOES","splice","isVertexArrayOES","OESVertexArrayObject.prototype.isVertexArrayOES","OESVertexArrayObject.prototype.bindVertexArrayOES","error","opt_msg","oldVAO","newVAO","currentBinding","oldAttrib","bufferChanged"]
}
